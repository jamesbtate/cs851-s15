Query String:
title:linux

Response:
{
  "responseHeader": {
    "status": 0,
    "QTime": 1,
    "params": {
      "indent": "true",
      "q": "title:linux",
      "_": "1425488146113",
      "wt": "json"
    }
  },
  "response": {
    "numFound": 1,
    "start": 0,
    "docs": [
      {
        "source_file_s": "115.warc.gz@912",
        "url": "http://www.cyberciti.biz/faq/cve-2015-0235-patch-ghost-on-debian-ubuntu-fedora-centos-rhel-linux/",
        "host": "www.cyberciti.biz",
        "domain": "cyberciti.biz",
        "public_suffix": "biz",
        "server": [
          "nginx"
        ],
        "content_type_served": "text/html; charset=UTF-8",
        "content_length": 164286,
        "id": "sha1:5F3647CUGIFEMICZ6DUW52P2SNXRP4HE/YTEatQAWgvAbh82cfW6dlg==",
        "hash": [
          "sha1:5F3647CUGIFEMICZ6DUW52P2SNXRP4HE"
        ],
        "crawl_date": "2015-02-27T00:04:42Z",
        "crawl_year": "2015",
        "wayback_date": "20150227000442",
        "content": [
          "e88Tutorials BASH ShellTroubleshootingNginxNetworkingMySQLGoogle Cloud PlatformAmazon Cloud ComputingRackspace Cloud ComputingLinux CentOSDebian / UbuntuUbuntu LinuxSuseRedHat and FriendsSlackware LinuxUNIX AIXMac OS XFreeBSDFreeBSD Jails (VPS)OpenbsdSolarisSee all tutorial topicsBlogAboutContact usForumLinux Scripting GuideRSS/FEEDLinux FAQ / HowtosHow To Patch and Protect Linux Server Against the Glibc GHOST Vulnerability # CVE-2015-0235by nixCraft on January 28, 2015 · 114 comments· LAST UPDATED January 29, 2015in CentOS, Debian / Ubuntu, Linux, RedHat and Friends, SecurityA very serious security problem has been found in the GNU C Library (Glibc) called GHOST. How can I fix GHOST vulnerability and protect my Linux server against the attack? How do I verify that my server has been fixed against the Glibc GHOST vulnerability?A very serious security problem has been found and patched in the GNU C Library called Glibc. It was announced on 27th January 2015.What is the GHOST security bug?Tutorial detailsDifficulty Easy (rss)Root privileges YesRequirements Linux+reboot requiredEstimated completion time 10mFrom the RHEL bugzilla:A heap-based buffer overflow was found in __nss_hostname_digits_dots(), which is used by the gethostbyname() and gethostbyname2() glibc function call. A remote attacker could use this flaw to execute arbitary code with the permissions of the user running the application.A mailing list entry with more details, including in-depth analysis and exploit vectors is here.What C library (Glibc) version does my Linux system use?The easiest way to check the version number is to run the following command:ldd --version Sample outputs from RHEL/CentOS Linux v6.6:ldd (GNU libc) 2.12Copyright (C) 2010 Free Software Foundation, Inc.This is free software; see the source for copying conditions. There is NOwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.Written by Roland McGrath and Ulrich Drepper.Sample outputs from Ubuntu Linux 12.04.5 LTS:ldd (Ubuntu EGLIBC 2.15-0ubuntu10.9) 2.15Copyright (C) 2012 Free Software Foundation, Inc.This is free software; see the source for copying conditions. There is NOwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.Written by Roland McGrath and Ulrich Drepper.Sampled40outputs from Debian Linux v7.8:ldd (Debian EGLIBC 2.13-38+deb7u6) 2.13Copyright (C) 2011 Free Software Foundation, Inc.This is free software; see the source for copying conditions. There is NOwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.Written by Roland McGrath and Ulrich Drepper.A list of affected Linux distrosRHEL (Red Hat Enterprise Linux) version 5.x, 6.x and 7.xCentOS Linux version 5.x, 6.x & 7.xUbuntu Linux version 10.04, 12.04 LTSDebian Linux version 7.xLinux Mint version 13.0Fedora Linux version 19 or olderSUSE Linux Enterprise 11 and older (also OpenSuse Linux 11 or older versions).SUSE Linux Enterprise Software Development Kit 11 SP3SUSE Linux Enterprise Server 11 SP3 for VMwareSUSE Linux Enterprise Server 11 SP3SUSE Linux Enterprise Server 11 SP2 LTSSSUSE Linux Enterprise Server 11 SP1 LTSSSUSE Linux Enterprise Server 10 SP4 LTSSSUSE Linux Enterprise Desktop 11 SP3Arch Linux glibc versionGHOST vulnerability checkYou can test or reproduce the bug using the following C code:/* ghosttest.c: GHOST vulnerability tester *//* Credit: http://www.openwall.com/lists/oss-security/2015/01/27/9 */#include <netdb.h>#include <stdio.h>#include <stdlib.h>#include <string.h>#include <errno.h> #define CANARY \"in_the_coal_mine\" struct {char buffer[1024];char canary[sizeof(CANARY)];} temp = { \"buffer\", CANARY }; int main(void) {struct hostent resbuf;struct hostent *result;int herrno;int retval; /*** strlen (name) = size_needed - sizeof (*host_add1000r) - sizeof (*h_addr_ptrs) - 1; ***/size_t len = sizeof(temp.buffer) - 16*sizeof(unsigned char) - 2*sizeof(char *) - 1;char name[sizeof(temp.buffer)];memset(name, '0', len);name[len] = '\\0'; retval = gethostbyname_r(name, &resbuf, temp.buffer, sizeof(temp.buffer), &result, &herrno); if (strcmp(temp.canary, CANARY) != 0) {puts(\"vulnerable\");exit(EXIT_SUCCESS);}if (retval == ERANGE) {puts(\"not vulnerable\");exit(EXIT_SUCCESS);}puts(\"should not happen\");exit(EXIT_FAILURE);} Compile and run it as follows:$ gcc ghosttest.c -o ghosttest$ ./ghosttestSample outputs from patched Debian v7.8 server:not vulnerableSample outputs from unpatched Ubuntu 12.04 LTS server:vulnerableHow do list packages/applications depends upon vulnerable Glibc?Type the following lsof command:lsof | grep libc | awk '{print $1}' | sort | uniqSample outputs from my Debian Linux v7.x nas:Fig.01: Linux find all the services/applications that rely on the GNU C libraries (Glibc) commandFix the GHOST vulnerability on a CentOS/RHEL/Fedora/Scientific LinuxType the following yum command as the root user:sudo yum clean allsudo yum updateFinally, reboot RHEL/SL/Fedora/CentOS Linux server by typing the following command:### Sysadmin should plan on updating as soon as possible or use maintenance reboot window ##sudo rebootSample outputs:Fig.02 Fix the GHOST vulnerability on a CentOS/RHEL/Fedora/Scientific LinuxFix the GHOST vulnerability on a Ubuntu LinuxType the following apt-get command as the root user:sudo apt-get cleansudo apt-get updatesudo apt-get upgrade## only run dist-upgrade on a Ubuntu if you want to upgrade kernel too##sudo apt-get dist-upgradeFinally, reboot Ubuntu Linux server by typing the following command:sudo rebootSample outputs:Fig.03: Fix the GHOST vulnerability on a Ubuntu Linux LTSFix the GHOST vulnerability on a Debian LinuxType the following apt-get command as the root user:sudo apt-get cleansudo apt-get updatesudo apt-get upgrade##No need to do dist-upgrade (see man page: man apt-get)##sudo apt-get dist-upgradeFinally, reboot Debian Linux server by typing the following command:sudo rebootSample session:Gif 01: Fix the GHOST vulnerability on a Debian Linux serverFix the GHOST vulnerability on a SUSE Linux EnterpriseTo install this SUSE Security Update use YaST online_update. Or use the following commands as per your version:SUSE Linux Enterprise Software Development Kit 11 SP3zypper in -t patch sdksp3-glibc-10206SUSE Linux Enterprise Server 11 SP3 for VMwarezypper in -t patch slessp3-glibc-10206SUSE Linux Enterprise Server 11 SP3zypper in -t patch slessp3-glibc-10206SUSE Linux Enterprise Server 11 SP2 LTSSzypper in -t patch slessp2-glibc-10204SUSE Linux Enterprise Server 11 SP1 LTSSzypper in -t patch slessp1-glibc-10202SUSE Linux Enterprise Desktop 11 SP3zypper in -t patch sledsp3-glibc-10206Finally run for all SUSE linux version to bring your system up-to-date:zypper patch1001Fix the GHOST vulnerability on a OpenSUSE LinuxTo see a list of available updates including glibc on a OpenSUSE Linux, enter:# zypper luTo simply update installed glibc packages with their newer available versions, run:# zypper upHow can I verify that my Linux system no longer vulnerable after the reboot?Method #1: The easiest way to check vulnerability and/or confirm remediation is to run the following command to verify that you are running an updated version of Glibc:$ ldd --versionMethod #2: Run the instructions given in the previous section called GHOST vulnerability check (generic method for all Linux based systems).Method #3: If you are RHN subscriber see the Red Hat Access Lab: GHOST tool (only for RHEL/CentOS/SL systems - download link):#!/bin/bash# rhel-GHOST-test.sh - GHOST vulnerability tester. Only for CentOS/RHEL based servers. ## Version 3# Credit : Red Hat, Inc - https://access.redhat.com/labs/ghost/ #echo \"Installed glibc version(s)\" rv=0for glibc_nvr in $( rpm -q --qf '%{name}-%{version}-%{release}.%{arch}\\n' glibc ); doglibc_ver=$( echo \"$glibc_nvr\" | awk -F- '{ print $2 }' )glibc_maj=$( echo \"$glibc_ver\" | awk -F. '{ print $1 }')glibc_min=$( echo \"$glibc_ver\" | awk -F. '{ print $2 }') echo -n \"- $glibc_nvr: \"if [ \"$glibc_maj\" -gt 2 -o \\\\( \"$glibc_maj\" -eq 2 -a \"$glibc_min\" -ge 18 \\) ]; then# fixed upstream versionecho 'not vulnerable'else# all RHEL updates include CVE in rpm %changelogif rpm -q --changelog \"$glibc_nvr\" | grep -q 'CVE-2015-0235'; thenecho \"not vulnerable\"elseecho \"vulnerable\"rv=1fifidone if [ $rv -ne 0 ]; thencat <<EOF This system is vulnerable to CVE-2015-0235. <https://access.redhat.com/security/cve/CVE-2015-0235>Please refer to <https://access.redhat.com/articles/1332213> for remediation stepsEOFfi exit $rv Sample outputs from patched RHEL v6.8 server:bash rhel-GHOST-test.shInstalled glibc version(s)- glibc-2.12-1.149.el6_6.5.x86_64: not vulnerable- glibc-2.12-1.149.el6_6.5.i686: not vulnerableTweet itFacebook itG+ itDownload PDF verd40sionFound an error/typo on this page?This entry is 2 of 2 in the Linux GHOST Glibc Critical Security Vulnerability series. Keep reading the rest of the series: Check Ghost Vulnerability Test ProgramsSecure and Patch Your Linux Server For Ghost Bug{ 114 comments… read them below or add one }1 local January 28, 2015 at 8:20 amIt is time to go on BSD way..Reply2 int0x January 31, 2015 at 2:05 pmNice try ! :pReply3 lucas February 4, 2015 at 1:28 pmSo why version 9.3 of FreeBSD is vulnerable?https://forums.freebsd.org/threads/is-freebsd-vulnerable-to-ghost.50166/Reply4 Miroslav January 28, 2015 at 9:56 amNote that, at least on CentOS 6 and likely on RHEL6, the ldd –version command will still return 2.12 even after the update. One can check the rpm package version to see if the system was updated (see the full package list at https://rhn.redhat.com/errata/RHSA-2015-0092.html). The 2.12 library was patched, not replaced by a newer version. For example:$ rpm -q glibcglibc-2.12-1.149.el6_6.5.i686 <--- patched version$ ldd --versionldd (GNU libc) 2.12 <--- still 2.12Reply5 nixCraft January 28, 2015 at 11:06 amThanks. I’ve posted a script from RHN and C code to for vulnerability check. The ldd --version may not work on all the systems.Reply6 Brody January 28, 2015 at 11:37 amThank you so much for this!Reply7 Patrick January 28, 2015 at 11:52 amRHEL 5 is also affected.Reply8 nixCraft January 28, 2015 at 12:01 pmThanks for the heads up. The faq has been updated to include both RHEL 5.x and CentOS 5.x.Reply9 kevin January 28, 2015 at 2:08 pmwhy is it necessary to reboot?Reply10 bler January 28, 2015 at 6:34 pmThe vulnerability is in glibc. It is used in nearly every program that’s running on your machine. The issue is that you have to restart all those programs after patching to make sure everything is fine. It is hard to list every program that uses glibc so you can just restart your machine instead.Reply11 Bill January 28, 2015 at 8:24 pmReboot is necessary because currently running processes loaded on the old libs, and are vulnerable even after the glibc update. The reboot will force them to read the new libs.Reply12 Bill January 28, 2015 at 8:25 pmI stand corrected. I just checked my box after patching it, and it is no longer vulnerable, even without a reboot yet. Probably best to do it anyway.Reply13 MoChaMan February 3, 2015 at 6:20 pmYou must reboot because *other* programs need to reload GLIBC, some so fundamental you cannot just restart them. When you checked your box, you only ran a program that loaded the newly installed GLIBC. Your box is still vulnerable as long as the other programs are running with the older GLIBC.Reply14 Torbjørn January 28, 2015 at 11:36 pmIt’s not really necessary to reboot, as long as you make sure to restart all affected services so that they no longer use the old version of libc.I just did it on my server, all you need to do (you also need to be root) after upgrading is:lsof | grep libc | grep DELThen, go through the list and restart all the services/programs you see.Some of them you may need to kill manually (the ones that don’t have scripts in /etc/init.d/) – e.g. getty [run ‘init q’ to restart it and get your consoles back], and processes like bash and sshd won’t end until you log out…That said – unless your server is doing something important that shouldn’t be interrupted, a reboot is probably a much quicker and easier solution.Reply15 Brian January 29, 2015 at 12:00 amBecause running daemons will have already loaded the vulnerable code into memory. Alternatively you could bounce every process on your system one by one, theoretically.Reply16 Jens January 29, 2015 at 11:47 amHow do you bounce init? :)Reply17 Spike February 2, 2015 at 5:26 pmtelinit uReply18 Tyler January 29, 2015 at 1:27 amFrom what I’ve read, there are a lot of services that use glibc, so you can either restart all of them or reboot.Reply19 Mike January 29, 2015 at 4:39 amYes, I agree, is a reboot really nessary?Reply20 Mike January 29, 2015 at 6:510001 amThank you everyone for your feedback.Reply21 Marcelo January 28, 2015 at 2:26 pmSweet. Best article I found on how to test it and solve it .Tks!Reply22 Bryan January 28, 2015 at 2:58 pmFor CentOS/RHEL/Fedora/Scientific Linux it might be better to use:yum -y update glibcThis way you are not updating anything else other than glibc. Just a thought. Thanks for posting this by the way!Reply23 Lavi January 28, 2015 at 3:12 pmIn case I don’t want to run “yum update”, cause that will update all OS RPM packages.Can you tell on exact list of RPM packages to be updated?The “lsof” command showing who is using glibc, but not all in this list is an RPM.Thanks,LaviReply24 Miroslav January 28, 2015 at 3:16 pmYou could refer to the list of updated packages (https://rhn.redhat.com/errata/RHSA-2015-0092.html). To make it a bit easier, yum update glibc-* nscd worked as a nice shortcut for me, but you might want to double-check the list of packages yum tells you will be upgraded before allowing it to do so.Reply25 Lavi January 28, 2015 at 3:17 pmThanks!Reply26 Julius January 28, 2015 at 3:50 pmnscd is a dependency of glibc, so will be updated automatically.I used# yum update glibc* -y && rebootwhich gave me unvuln centos 5,6,7 servers..centos 4.9 was a problem though.Reply27 cMax January 29, 2015 at 8:34 pmWell, if you’re still running CentOS4, you’re intentionally signing up for problems, aren’t you?Its End Of Life was 2 years ago.It really doesn’t matter what that box is doing; maintaining it is going to be more work and higher risk than migrating its functionality to a modern OS.Reply28 Eric January 28, 2015 at 3:21 pmDebian 6 is affected as well even if its EOL people still use it. No glibc installed but the libc6 library files are there.Reply29 IP3G January 29, 2015 at 8:31 amCompile from source and install it. Or rebuild deb packages.Reply30 Ignacio January 29, 2015 at 12:06 pmWell, it is not entirely true that it is EOL. They made some kind of a LTS version from last Debian, now with security updates up to date (release 6.0.10).Reply31 Dan at BlackMesh January 28, 2015 at 3:25 pmIf you’re going to “lsof” the entire system, you should add the “-n” flag so you don’t resolve DNS names in open Internet sockets. That will make the operation much faster. Depending on your environment, you may also see a benefit from adding “-l” and “-P” to avoid resolution of usernames and port names, respectively. Finally, on Linux, you can use “-X” to avoid the overhead of searching Internet sockets at all, which can be a huge benefit on a server with tens of thousands of open connections.Reply32 Remco January 28, 2015 at 3:35 pmThanks for sharing. Greatly appreciated.Reply33 sedwards January 28, 2015 at 4:03 pmThe ‘lsof’ command sample needs ‘sudo’ or a ‘needs to be run by root’ disclaimer.The ‘sample output’ shows a shell prompt containing ‘root’ and a ‘#’, but that’s not conclusive or sufficiently obvious.Reply34 Phil January 28, 2015 at 4:18 pmThe script in method #3 does not work correctly and will retun a fail even if patched, confirmend by RHEL staff (https://access.redhat.com/articles/1332213).They are working on an uptated versionReply35 Bryan January 28, 2015 at 4:25 pmYou can also check if your RHEL/CentOS/CloudLinux is patched by checking its changelog:rpm -q --changelog glibc | grep CVE-2015-0235Reply36 Mike January 29, 2015 at 12:49 pmThank you, This is very helpful.Reply37 anon January 28, 2015 at 4:54 pmanyone have a source for centos/redhat el3 updates?Reply38 Patrick January 28, 2015 at 6:04 pmlol, good one.Reply39 Eoin January 28, 2015 at 4:55 pmJust ran the suggested ghost vulnerability check on an Ubuntu 8.10 machine and it reported as ‘vulnerable’Can you update the page to reflect this ? (i.e. the page states only Ubuntu 12.04 and 10.04 are impacted)Reply40 Captain Obvious January 28, 2015 at 9:32 pmDude, if 12.02 and 10.04 is affected, and anything earlier than glibc 2.17.xxx is affected, OBVIOUSLY Ubuntu 8.10 is affected. Geeesh! Time travel anyone? Maybe you should send this to thedailywtf.com.Reply41 Graeme January 28, 2015 at 4:58 pmAfter clean all and update, I haveglibc-2.17-21.fc19.x86_64which is still vulnerable, is there a repo I’m missing?-rw-r–r–. 1 root root 1180 Feb 19 2014 fedora.repo-rw-r–r–. 1 root root 1141 Feb 19 2014 fedora-updates.repo-rw-r–r–. 1 root root 1199 Feb 19 2014 fedora-updates-testing.repo+ livna and 8 rpmfusion repos.Reply42 Bill Mihalo January 29, 2015 at 8:16 pmIt looks as though you are running Fedora 19 which is at End Of Life. Updates are no longer available for this distribution. The easiest solution is to upgrade to Fedora 20 or Fedora 21 using fedup.If you don’t have the time to upgrade, you can download a source rpm from vault.centos.org/7.0.1406/updates/Source/SPackages. You needglibc-2.17-55.el7_0.5.src.rpm. Download this rpm and issue an rpm -ivh to install it (do this as root). Go into /root/rpmbuild/SPECS and issue an rpmbuild -ba glibc.spec. The build takes about an hour. Afterwards, go into the RPMS folder and select the architecture for your machine. Issue a yum install on all the rpms (you can skip the debug ones if you like) and then reboot.Reply43 Graeme January 30, 2015 at 5:49 amThanks, yes I knew Fedora had a quick development cycle, it’s just that I was quite happy with Fedora 19 :) OK a fedup I will go…Reply44 ref January 30, 2015 at 1:50 pmWill this same process work for FC11 and 17?Reply45 Taras January 28, 2015 at 5:11 pmCan I patch my system (CentOS 6) without rebooting?Reply46 nixCraft January 28, 2015 at 5:42 pmYou need to restart every service or app that uses Glibc. Hence, reboot is recommended.Reply47 Tomas January 28, 2015 at 5:22 pmTested your script on Debian 7, Ubuntu 12.04 and Ubuntu 14.04 – not vulnerable.Reply48 nixCraft January 28, 2015 at 5:43 pmA bash script or C program? Script only works with RHEL/CentOS/SL systems.Reply49 Tony January 28, 2015 at 6:28 pmFor SUSE Linux server, run and patch. SUSE Linux Enterprise Software Development Kit 11 SP3:zypper in -t patch sdksp3-glibc-10206SUSE Linux Enterprise Server 11 SP3:zypper in -t patch slessp3-glibc-10206SUSE Linux Enterprise Server 11 SP2 LTSS:zypper in -t patch slessp2-glibc-10204SUSE Linux Enterprise Server 11 SP1 LTSS:zypper in -t patch slessp1-glibc-10202To apply up-to-date patches, run:zypper patchReply50 eric wedaa January 28, 2015 at 9:16 pmwhat about OpenSUSE 11.0 ? I’m not finding a lot of help online:-(Reply51 Andreas Lang February 2, 2015 at 1:07 pmI’m looking for that fix for opensuse 11.0still no solution found!1000Reply52 Tony January 28, 2015 at 6:33 pmCetOS and RHEL users need to run:rpm -q glibcA list of safe versions i.e. if the version of glibc is older than the ones listed below, your server is vulnerable and should be patched ASAP:RHEL/CentOS 5: glibc-2.5-123.el5_11.1RHEL/CentOS 6: glibc-2.12-1.149.el6_6.5RHEL/CentOS 7: glibc-2.17-55.el7_0.5Reply53 MarkL January 28, 2015 at 6:40 pmSomething very important regarding the Ubuntu update commands:If your Ubuntu server is running a software package that is distribution dependent, like Zimbra, running the command “sudo apt-get dist-upgrade” will break the application!The command to update the packages is “sudo apt-get upgrade” ! Running the “dist-upgrade” will upgrade the Ubuntu release, for instance, upgrading the server from Ubuntu 12 to Ubuntu 14!Reply54 nixCraft January 29, 2015 at 5:45 amThanks! The page has been updated.Reply55 Matt January 28, 2015 at 7:02 pmUsing a RHEL5 or RHEL 6:The bash script shows that severs are “Not Vulnerable.” while the c script shows vulnerable.# ./ghost.shVulnerable glibc version <= 2.17-54Vulnerable glibc version <= 2.5-122Vulnerable glibc version <= 2.12-1.148Detected glibc version 2.5 revision 123Not Vulnerable.# ./ghosttestvulnerable]# ./ghost.shVulnerable glibc version <= 2.17-54Vulnerable glibc version <= 2.5-122Vulnerable glibc version <= 2.12-1.148Detected glibc version 2.12 revision 149Not Vulnerable.]# ./ghosttestvulnerableSo maybe your bash script needs some work?Reply56 nixCraft January 29, 2015 at 5:29 amThe script has been updated. Please try again on a CentOS/RHEL server.Reply57 larcher January 28, 2015 at 7:21 pmThat lsof command will catch anything starting with libc (libcrypto, libcolord, libcurl, etc) — not just libc.Instead, grep’ing for “libc-” worked for me — since libc shows up as something like “/lib/x86_64-linux-gnu/libc-2.13.so”Reply58 Jadrian January 28, 2015 at 9:03 pmWhat about older versions of Ubuntu? I’m on Ubuntu 13.04 (raring), and I need to stay on this version. If I dosudo apt-get cleansudo apt-get updatesudo apt-get dist-upgradeThen the response is:Reading package lists… DoneBuilding dependency treeReading state information… DoneCalculating upgrade… Done0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.Are the Ubuntu (and Kubuntu, which I’m actually running) folks not pushing this patch to their old-releases repos? For example1000, when I do the apt-get update, these lines show up:Hit http://old-releases.ubuntu.com raring-security Release.gpg[…]Hit http://old-releases.ubuntu.com raring-security ReleaseI know 13.04 isn’t a long-term support release, but you’d figure that truly critical security patches like this would be backported.Reply59 Dan January 29, 2015 at 12:20 pmSame problem here!How can I upgrade glibc using Ubuntu 13.04 and ubuntu 12.10 ?Using the steps for ubuntu I get the same result as Jadrian.Reading package lists… DoneBuilding dependency treeReading state information… DoneCalculating upgrade… Done0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.Would appreciate If someone can give us an idea.Compiling glibc by hand is not that easy and a little bit risky.ThanksReply60 Michal January 28, 2015 at 9:21 pmThanks! It’s very helpful.Reply61 spirit January 28, 2015 at 10:02 pmI’d have a care with`sudo apt-get dist-upgrade`…sledgehammer and nut spring to mind.`sudo apt-get upgrade` should be sufficient.– 0Reply62 nixCraft January 29, 2015 at 5:45 amThanks! The page has been updated.Reply63 Joe January 29, 2015 at 2:28 amQ. Why must i reboot my system? Why cant i simply restart the services utilizing glibc?Reply64 nixCraft January 29, 2015 at 5:46 amSee earlier comments by others.Reply65 venkat January 29, 2015 at 3:54 amIs Suse 11 SP3 affected?Reply66 nixCraft January 29, 2015 at 5:29 amYes. See tony posted commands.Reply67 IP3G January 29, 2015 at 6:07 amHey,Noob question. Is my FreeBSD server affected?Reply68 nixCraft January 29, 2015 at 6:12 amNoop. FreeBSD is not affected. But, if you are using a “Linux Binary Compatibility” on a FreeBSD laptop/desktop/server, upgrade “linux-base” port. See this page for more info.TL:DR: Upgrade “linux_base-c6″ and “linux_base-f10″ ports if you are using those.Reply69 kind January 29, 2015 at 8:12 amrhn 5.3 client is not this weak version?Reply70 dxman January 29, 2015 at 6:44 am@nixCraft.what if no updates are released by Distro Developers , i have a server running 11.0 suse. what should i do ?Reply71 nixCraft January 29, 2015 at 8:27 amSuse has released updates, see:http://support.novell.com/security/cve/CVE-2015-0235.htmlAlso, see commands posted by Tony in this thread about patching Suse Linux server.Reply72 Ken January 29, 2015 at 8:04 amShould I be re-compiling some binares? Like I installed bind from its source tarball, would I need to recompile bind now?Reply73 oll January 29, 2015 at 8:19 amAre you sure you need to reboot ? At least for CentOS6 ?Is not restating services enough ?I tested with openwall program : http://www.openwall.com/lists/oss-security/2015/01/27/9and had “vulnerable”. Then after a yum update glibc, I had “non vulnerable” .(I have 50+ servers :-( all quite busy )Reply74 Miroslav January 29, 2015 at 9:17 amIt said “not vulnerable” because you started the test application after installing the patched library, hence the test application loaded and used the patched version. All the programs that were already running, however, are still using the unpatched library version because they loaded it before you did the update. See earlier comments on this – while it is theoretically possible to do so without rebooting the system, libc is used by so many applications that it might be easier1000just to reboot. YMMV, of course. See the article and comments on ways to determine what processes (applications) are currently using libc and therefore should be restarted.Reply75 Prasad January 29, 2015 at 11:19 amDoes anybody know if Red Hat Enterprise Linux Server release 5.7 (Tikanga) is vulnerable to GHOST (CVE-2015-0235)?Reply76 Prasad January 29, 2015 at 11:48 amin addition to this – is Oracle database affected?Reply77 Zoran January 29, 2015 at 11:37 amOn Fedora 18 I also have the vulnerability with latest glibc. Probably we need to go for Fedora 20/21 . .Reply78 Loz Bigrave January 29, 2015 at 11:50 amExcellent article.Reply79 kim January 29, 2015 at 12:16 pmWhat about older versions of Fedora?I’m on Fedora 8, and I need to stay on this version.Reply80 Dennis January 29, 2015 at 12:33 pmDoing zypper up on my OpenSUSE system broke my server! MySQL won’t start anymore and iptables is giving me hell when i use the default GRUB option.Reply81 Steven January 29, 2015 at 2:19 pmMost Recent distos with support got the patches goingbut what about old servers :)Would be nice to have some glibc patches for all the versions from 2.2 to 2.17 so we could rebuild our own packagesReply82 kim January 29, 2015 at 11:35 pmI agree.Reply83 ranjith January 30, 2015 at 5:03 ammy server is asid to vulnerable . when i’m try update it shows conflicts file . Please help me to fix this problem .[root@IPFVM2 UyfQ317At]# rpm -qi glibcName : glibc Relocations: (not relocatable)Version : 2.5 Vendor: CentOSRelease : 81.el5_8.7 Build Date: Mon 27 Aug 2012 07:53:14 PM ISTInstall Date: Mon 31 Dec 2012 01:06:04 PM IST Build Host: builder10.centos.orgGroup : System Environment/Libraries Source RPM: glibc-2.5-81.el5_8.7.src.rpmSize : 12996741 License: LGPL1000Signature : DSA/SHA1, Mon 27 Aug 2012 10:15:44 PM IST, Key ID a8a447dce8562897Summary : The GNU libc libraries.Description :The glibc package contains standard libraries which are used bymultiple programs on the system. In order to save disk space andmemory, as well as to make upgrading easier, common system code iskept in one place and shared between programs. This particular packagecontains the most important sets of shared libraries: the standard Clibrary and the standard math library. Without these two libraries, aLinux system will not function.Name : glibc Relocations: (not relocatable)Version : 2.5 Vendor: CentOSRelease : 81.el5_8.7 Build Date: Mon 27 Aug 2012 07:30:23 PM ISTInstall Date: Mon 31 Dec 2012 01:06:05 PM IST Build Host: builder10.centos.orgGroup : System Environment/Libraries Source RPM: glibc-2.5-81.el5_8.7.src.rpmSize : 11674729 License: LGPLSignature : DSA/SHA1, Mon 27 Aug 2012 10:15:44 PM IST, Key ID a8a447dce8562897Summary : The GNU libc libraries.Description :The glibc package contains standard libraries which are used bymultiple programs on the system. In order to save disk space andmemory, as well as to make upgrading easier, common system code iskept in one place and shared between programs. This particular packagecontains the most important sets of shared libraries: the standard Clibrary and the standard math library. Without these two libraries, aLinux system will not function.[root@IPFVM2 UyfQ317At]# uname -aLinux IPFVM2 2.6.18-194.el5 #1 SMP Fri Apr 2 14:58:14 EDT 2010 x86_64 x86_64 x86_64 GNU/Linux[root@IPFVM2 UyfQ317At]#[root@IPFVM2 UyfQ317At]# yum update glibc-devel ncsdLoaded plugins: fastestmirrorLoading mirror speeds from cached hostfile* addons: centos.excellmedia.net* base: centos.excellmedia.net* epel: mirrors.123host.vn* extras: centos.excellmedia.net* rpmforge: mirror.smartmedia.net.id* rpmforge-extras: mirror.smartmedia.net.id* rpmforge-testing: mirror.smartmedia.net.id* updates: centos.excellmedia.netReducing CentOS-5 - Base to included packages onlyFinishedReducing CentOS-5 Testing to included packages onlyFinishedReducing CentOS-5 - Extras to included packages onlyFinishedReducing CentOS-5 - Updates to included packages onlyFinishedSetting up Update ProcessNo Match for argument: ncsdNo package ncsd available.No Packages marked for UpdateReply84 cmax February 9, 2015 at 7:19 pmTry ‘yum clean all’ then repeat the update.There was a naming convention change a while back, and your local cached list may be out of sync.Reply85 Jeroen January 29, 2015 at 8:55 pmI can’t find anything about OpenSuse 11.3. Does anyone know how to update this server. I know there are new OpenSuse versions, but I can’t do it with this specific server, so I would like to know how to update glibc by hand….Reply86 Dennis January 30, 2015 at 9:00 amYou can also follow this thread where i asked the same question.http://www.vicidial.org/VICIDIALforum/viewtopic.php?f=4&t=34015Don’t do zypper up since it will wreck your system.Reply87 Mark January 29, 2015 at 9:15 pmI’m running Ubuntu 12.04 LTS (GNU/Linux 3.2.0-53-generic x86_64) and did not have to do a distro upgrade, I used:sudo apt-get -y update && sudo apt-get -y install libc6without rebooting and the test method above shows “not vulnerable”; it showed “vulnerable” before the update of libc6Is there a reason why this would not work?Reply88 Srini January 30, 2015 at 3:51 amHi experts,I don’t find the SUSE patches mentioned (i.e. slessp2-glibc-10204) in the suse site in the repository. I have enabled all my SLES 11 SP2 core and updates repository. DO any one know what repository I need to add for the fixed glibc version?ThanksReply89 jim dalton January 30, 2015 a1000t 9:46 amA question obvious to some but not to me: I have some old RH installs eg RH ES3 which are marked as not affected in the overall declaration of the problem, but both the script and the code both state vulnerable. The openwall doc says glibc-2.2 was vulnerable, I’ve got 2.3.2 on my ES3 box for, yet ES3 not listed as vulnerable.So I’ve missed the bit that says why the issue only affects RHEL5,6,7: anyone care to point me to the relevant documentation?Thx,jimReply90 amol January 30, 2015 at 9:48 amI’ve CentOS 6.0 servers which I cant update. The bug fixed packages r for CentOS 6.5 – according to their names. Can I update only glibc without updating kernel or other packages?Reply91 Yassin January 30, 2015 at 9:57 amDo we have an updated yum repository to install updated packages from to fix this issue ?Reply92 Bernardo January 30, 2015 at 10:45 amFor those who have debian 6 (squeeze). That’s what I did:1 – Add this line /etc/apt/sources.listdeb http://ftp.us.debian.org/debian squeeze-lts main non-free contrib2 – check and update list packagesapt-get update3 – verify if it shows (2.11.3-4+deb6u4)apt-show-versions libc64 – update only the packageapt-get install –only-upgrade libc65 – verify againapt-show-versions libc66 – check again the vulnerabilty using the C code of this site.7 – you can comment the line added in /etc/apt/sources.listhttp://www.cyberciti.biz/faq/cve-2015-0235-patch-ghost-on-debian-ubuntu-fedora-centos-rhel-linux/https://security-tracker.debian.org/tracker/CVE-2015-0235Reply93 jim dalton January 30, 2015 at 12:00 pmActually I’ve answered my own question. They are vulnerable, its just that RH don’t support them. That’s is a bit misleading of RH.JimReply94 Mani January 30, 2015 at 1:33 pmfor ubuntu 12.04 only following command is enough to get eglibc ldd (Ubuntu EGLIBC 2.15-0ubuntu10.10) 2.15apt-get install libc-bin libc6 libc6-i386Reply95 Tony, London January 30, 2015 at 5:10 pmHi – just a quick note to say thanks so much for publishing this guide. 1&1 (major UK hosting provider) has emailed a link to your article to all its customers, which is how I found it.Thanks again :-)Reply96 Nicolas January 30, 2015 at 6:52 pmBonjour,1°-) Je suis novice et je ne sais pas comment faire pour connaître la version de Glibc que j’ai ?Merci pour votre aide pour me donner le pas à pas.2°-) Si je suis vulnérable, merci pour me donner le pas à pas pour réparer.Je vous remercie pour les personnes qui me répondrons.Bien cordialementNicolasReply97 jaime January 30, 2015 at 9:16 pmpour redhatexécutez[ec2-user@my-hostname ~]$ sudo yum info glibcLoaded plugins: fastestmirrorLoading mirror speeds from cached hostfile* epel: mirrors.cat.pdx.eduInstalled PackagesName : glibcArch : x86_64Version : 2.12…..Reply98 Nicolas January 30, 2015 at 6:54 pmHi,1 -) I am new and I do not know how to check which version of glibc I have?Thank you for your help to give me step by step.2 -) If I’m vulnerable, thank you for giving me the step by step to repair.Thank you for the people who answer me.NicolasReply99 yamo' January 31, 2015 at 8:01 amWhy apt-get clean? It is useless.For Debian LTS it is solved see : https://wiki.debian.org/fr/LTS/UsingReply100 Sanu February 2, 2015 at 9:32 amCheersReply101 Al February 2, 2015 at 11:29 amAccording to Symnatec: glibc versions 2.2 through 2.17 (inclusive) are vulnerable. Versions 2.18 through 2.20 (inclusive) or under 2.1.3 (inclusive) are NOT vulnerable.Reply102 Constantine Shuluypin February 2, 2015 at 2:29 pmhttps://github.com/makelinux/CVE-2015-0235-workaroundCVE-2015-0235-workaround aka GHOST glibc vulnerabilityc48A shared library wrapper with additional checks for the vulnerable functions gethostbyname2_r and gethostbyname_r .The proper solution for CVE-2015-0235 is to upgrade glibc to at least glibc-2.18.In some cases, an immediate glibc upgrade is not possible, for example in custom production embedded systems, because such an upgrade requires a validation of the whole system.In such cases, this workaround provides a hot fix solution, which is easier to validate.See https://github.com/makelinux/CVE-2015-0235-workaroundReply103 Martin February 2, 2015 at 2:42 pmI am alittle bit confused here, CVE-2015-0235 says that all version before 2.18 is vulnerable. I have some old Ubuntu 12.04 servers. I have updated them to 12.04.5 and after that they get version 2.15, and when I run the GCC GHOST vulnerability check from above it says “not vulnerable”. I guess 2.15 is a patched version then and I do not need a version above 2.18, or am I wrong?Reply104 Martin February 3, 2015 at 1:41 pmI can answer my own question, the answer is that 2.15 is the patched version, you can see that by running “apt-get changelog libc6″Reply105 PhilG February 3, 2015 at 8:40 pmThanks for the info. I have upgraded all our RHEL4 – 7 servers, but was wondering if there is ANYTHING that can help with securing/patching RH 9 and RHEL3?Thank you!Reply106 Robert Redl February 4, 2015 at 2:12 amThank you for the detailed articleReply107 TK February 9, 2015 at 1:18 pmPlease help me out. have done yum update glibcl managed to patch to glibc 2.5.123 and am i still vulnerable because its under 2.17. am using Centos 5.11.if so what should i do to curb this. Kindly AssistReply108 MoChaMan February 9, 2015 at 8:42 pm2.5.123 is the latest, patched version of GLIBC for CentOS 5. It was uploaded 27 January 2015 You do not need to do anything more than reboot.Reply109 Jim February 10, 2015 at 12:47 pmFor the really old legacy servers that cannot be upgraded, for example Fedora release 8 (Werewolf) and Ubuntu 7.10 gutsyI did the following:wget –no-check-certificate https://github.com/makelinux/CVE-20151000-0235-workaround/archive/master.zip -O master.zipunzip master.zipmake(as root) make installecho gethostbyname_wrap.so >> /etc/ld.so.preloadfor my fedora install i had to copy the file to the right directory:cp /usr/lib/gethostbyname_wrap.so /usr/lib64/gethostbyname_wrap.soWhen you are done you should restart all services that depend on glibc (see previous posts how to lsof grep them) or restart the entire serverReply110 Gordon Delgado February 12, 2015 at 7:26 pmOK, so you tell me how:“The easiest way to check the version number is to run the following command:ldd –version”…but you don’t tell me what versions are vulnerable.-1Reply111 nixCraft February 12, 2015 at 8:17 pmDistro: VersionUbuntu 12.04 LTS: 2.15-0ubuntu10.10Ubuntu 10.04 LTS: 2.11.1-0ubuntu7.20Debian 7 LTS: 2.13-38+deb7u7CentOS 5: glibc-2.5-123.el5_11.1CentOS 6: glibc-2.12-1.149.el6_6.5CentOS 7: glibc-2.17-55.el7_0.5RHEL 5: glibc-2.5-123.el5_11.1RHEL 6: glibc-2.12-1.149.el6_6.5RHEL 7: glibc-2.17-55.el7_0.5Reply112 MoChaMan February 12, 2015 at 8:42 pmI think NixCraft has posted a list of the patched versions of GLIBC not the vulnerable versions. These RPMs are the latest, all uploaded on 27 January 2015 so I don’t believe they’re vulnerable. Thanks to NixCraft / Vivek Gite for creating an excellent site full of great tutorials.Reply113 nixCraft February 13, 2015 at 7:00 amThank you for the kind words!Reply114 amol February 15, 2015 at 3:12 pmI’ve CentOS 6.0 server with glibc-2.12-1.7.el6.x86_64. Now if I update it to glibc-2.12-1.149.el6_6.5, do I need to recompile my C/C++ apps ?ReplyCancel replyLeave a CommentName *E-mail *WebsiteNotify me of followup comments via e-mailTagged as: cve-2015-0235, glibc, vulnerability, EasyPrevious Faq: How To Add Swap on FreeBSD Unix SystemsNext Faq: Glibc: GHOST Vulnerability Test To See If a Linux Sever Is SecureSubscribe to nixCraftLearn something new about Linux/Unix by emailEnter your email address:1000Latest posts from our blogA Shell Primer: Master Your Linux, OS X, Unix Shell Environment7 Awesome Open Source Cloud Storage Software For Your Privacy and Security20 Unix Command Line Tricks – Part I5 Awesome Open Source Backup Software For Linux and Unix-like Systems8 Tips to Solve Linux & Unix Systems Hard Disk Problems Like Disk Full Or Can’t Write to the Disk©2000-2015 nixCraft. All rights reserved. Privacy Policy - Terms of Service - Questions or Comments -We are proudly powered by Linux + Nginx + WordPress. The content is copyrighted to nixCraft and may not be reproduced on other websites.0"
        ],
        "content_text_length": 39549,
        "content_type": [
          "text/html"
        ],
        "title": "How To Patch and Protect Linux Server Against the Glibc GHOST Vulnerability # CVE-2015-0235",
        "content_encoding": "UTF-8",
        "content_ffb": "6538380d",
        "content_first_bytes": "65 38 38 0d 0a 3c 21 44 4f 43 54 59 50 45 20 68 74 6d 6c 20 50 55 42 4c 49 43 20 22 2d 2f 2f 57",
        "content_type_droid": "text/html",
        "links_hosts": [
          "rhn.redhat.com",
          "www.vuxml.org",
          "feedburner.google.com",
          "plus.google.com",
          "access.redhat.com",
          "nixcraft.wufoo.com",
          "forums.freebsd.org",
          "wiki.debian.org",
          "www.openwall.com",
          "s0.cyberciti.org",
          "github.com",
          "ftp.us.debian.org",
          "www.vicidial.org",
          "www.cyberciti.biz",
          "facebook.com",
          "old-releases.ubuntu.com",
          "www.facebook.com",
          "support.novell.com",
          "bugzilla.redhat.com",
          "twitter.com",
          "bash.cyberciti.biz",
          "youtube.com",
          "security-tracker.debian.org",
          "nixcraft.com",
          "feeds.cyberciti.biz"
        ],
        "links_domains": [
          "debian.org",
          "ubuntu.com",
          "github.com",
          "cyberciti.org",
          "facebook.com",
          "wufoo.com",
          "vicidial.org",
          "google.com",
          "novell.com",
          "vuxml.org",
          "twitter.com",
          "openwall.com",
          "freebsd.org",
          "youtube.com",
          "cyberciti.biz",
          "nixcraft.com",
          "redhat.com"
        ],
        "links_public_suffixes": [
          "com",
          "org",
          "biz"
        ],
        "elements_used": [
          "dt",
          "body",
          "tr",
          "link",
          "div",
          "img",
          "td",
          "br",
          "meta",
          "th",
          "kbd",
          "dd",
          "title",
          "dl",
          "ol",
          "head",
          "h1",
          "h3",
          "h2",
          "ul",
          "form",
          "ins",
          "a",
          "blockquote",
          "abbr",
          "label",
          "code",
          "table",
          "script",
          "li",
          "input",
          "u",
          "strong",
          "textarea",
          "pre",
          "p",
          "html",
          "span"
        ],
        "content_type_tika": "text/html; charset=UTF-8",
        "content_type_full": "text/html; charset=UTF-8",
        "content_type_norm": "html",
        "content_language": "en",
        "ssdeep_hash_bs_768": "GCRFCefLCbaVuqNltUwRd09kWkQGAGmnpx+VhxAF/3+QGg/",
        "ssdeep_hash_bs_1536": "GCRFbjC/EdrQG+npx+Vo+m",
        "ssdeep_hash_ngram_bs_768": "GCRFCefLCbaVuqNltUwRd09kWkQGAGmnpx+VhxAF/3+QGg/",
        "ssdeep_hash_ngram_bs_1536": "GCRFbjC/EdrQG+npx+Vo+m",
        "crawl_dates": [
          "2015-02-27T00:04:42Z"
        ],
        "crawl_years": [
          "2015"
        ],
        "_version_": 1494730971786772500
      }
    ]
  }
}
