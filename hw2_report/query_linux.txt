Query String:
linux

Response:
{
  "responseHeader": {
    "status": 0,
    "QTime": 3,
    "params": {
      "indent": "true",
      "q": "linux",
      "_": "1425487807290",
      "wt": "json"
    }
  },
  "response": {
    "numFound": 13,
    "start": 0,
    "docs": [
      {
        "source_file_s": "28.warc.gz@63139",
        "url": "http://www.technewsworld.com/ai/170124/linux-security-vulnerabilities.jpg",
        "content_type_ext": "jpg",
        "host": "www.technewsworld.com",
        "domain": "technewsworld.com",
        "public_suffix": "com",
        "server": [
          "nginx/1.4.2"
        ],
        "content_type_served": "image/jpeg",
        "content_length": 8217,
        "id": "sha1:HKC6KHCBOOASHPN3JDVWV57DFV7M67ZL/sfuTnuGBr0rGESm5VbWEVw==",
        "hash": [
          "sha1:HKC6KHCBOOASHPN3JDVWV57DFV7M67ZL"
        ],
        "crawl_date": "2015-02-26T23:55:49Z",
        "crawl_year": "2015",
        "wayback_date": "20150226235549",
        "content": [
          ""
        ],
        "content_text_length": 0,
        "content_type": [
          "image/jpeg"
        ],
        "content_ffb": "ffd8ffe0",
        "content_first_bytes": "ff d8 ff e0 00 10 4a 46 49 46 00 01 02 00 00 64 00 64 00 00 ff ec 00 11 44 75 63 6b 79 00 01 00",
        "content_type_droid": "image/jpeg; version=1.02",
        "content_type_tika": "image/jpeg",
        "content_type_version": "1.02",
        "content_type_full": "image/jpeg; version=1.02",
        "content_type_norm": "image",
        "crawl_dates": [
          "2015-02-26T23:55:49Z"
        ],
        "crawl_years": [
          "2015"
        ],
        "_version_": 1494731056922755000
      },
      {
        "source_file_s": "93.warc.gz@53901",
        "url": "http://www.linuxinsider.com/ai/170124/linux-security-vulnerabilities.jpg",
        "content_type_ext": "jpg",
        "host": "www.linuxinsider.com",
        "domain": "linuxinsider.com",
        "public_suffix": "com",
        "server": [
          "nginx/1.4.2"
        ],
        "content_type_served": "image/jpeg",
        "content_length": 8217,
        "id": "sha1:HKC6KHCBOOASHPN3JDVWV57DFV7M67ZL/pjDxVzGkMl77uE/90w7nAg==",
        "hash": [
          "sha1:HKC6KHCBOOASHPN3JDVWV57DFV7M67ZL"
        ],
        "crawl_date": "2015-02-27T00:01:04Z",
        "crawl_year": "2015",
        "wayback_date": "20150227000104",
        "content": [
          ""
        ],
        "content_text_length": 0,
        "content_type": [
          "image/jpeg"
        ],
        "content_ffb": "ffd8ffe0",
        "content_first_bytes": "ff d8 ff e0 00 10 4a 46 49 46 00 01 02 00 00 64 00 64 00 00 ff ec 00 11 44 75 63 6b 79 00 01 00",
        "content_type_droid": "image/jpeg; version=1.02",
        "content_type_tika": "image/jpeg",
        "content_type_version": "1.02",
        "content_type_full": "image/jpeg; version=1.02",
        "content_type_norm": "image",
        "crawl_dates": [
          "2015-02-27T00:01:04Z"
        ],
        "crawl_years": [
          "2015"
        ],
        "_version_": 1494731135119261700
      },
      {
        "source_file_s": "28.warc.gz@857",
        "url": "http://www.technewsworld.com/story/81648.html?rss=1",
        "content_type_ext": "html",
        "host": "www.technewsworld.com",
        "domain": "technewsworld.com",
        "public_suffix": "com",
        "server": [
          "nginx/1.4.2"
        ],
        "content_type_served": "text/html",
        "content_length": 50418,
        "id": "sha1:T5RVK77GYFNOSCCWF2TVGORH3FT6EXKS/aIhE4PF7iTVgCwOphy2K1Q==",
        "hash": [
          "sha1:T5RVK77GYFNOSCCWF2TVGORH3FT6EXKS"
        ],
        "crawl_date": "2015-02-26T23:55:47Z",
        "crawl_year": "2015",
        "wayback_date": "20150226235547",
        "content": [
          "e4cAttention Marketers: Access 30 Million IT Decision Makers with ECT News Network's INSTA-LEADS · Click to Learn More!E-BUSINESS | TECHNOLOGY | CRM | LINUX | ECTNEWS.COMWelcome Guest | Sign InSoftwareComputingApplicationsData ManagementHardwareChipsPersonal ComputersServersOperating SystemsInternetInternet of ThingsOnline EntertainmentSearch TechSocial NetworkingWeb AppsITDevelopersIT LeadershipNetwork ManagementMobile TechMobile AppsSmartphonesTabletsWearable TechWireless NetworkingReviewsSecurityCybersecurityHackingMalwarePrivacyTechnologyAudio/VideoEmerging TechVirtual RealityGamingHome TechHow-ToPhotographyScienceHealthSpaceTech BuzzTech LawTransportationTech Blog Reader Services Account ManagementDiscussionNews AlertsNewslettersRSS / Headline FeedsSearch ECT News NetworkECT News Network MapCRM Buyer Site MapE-Commerce Times Site MapLinuxInsider Site MapTechNewsWorld Site Map|Software Buyers GuideFebruary 26, 2015   03:55:48 PM PSTTechNewsWorld > Software| Next Article in SoftwareThere's a GHOST in Linux's LibraryAs security flaws go, the recently discovered GHOST hole is pretty scary. Patching it could be more trying than fixing other recently discovered Linux vulnerabilities, according to Coverity's Jon Passki. \"Patching a bug like Shellshock and rolling out a new version could be much easier than patching GHOST, as libc is a core library for many packages and the host operating system in Linux.\"By Jack M. Germain • LinuxInsider • ECT News Network01/28/1510004:37 PM PTPatches for GHOST, a critical vulnerability in the Linux GNU C Library (glibc), now are available through vendor communities for a variety of Linux server and desktop distributions.Qualys earlier this week reported its discovery of GHOST (CVE-2015-0235), a vulnerability that allows attackers to remotely take control of an entire system without having any prior knowledge of system credentials.A Qualys security research team found the GHOST flaw and worked closely with Linux distribution vendors in a coordinated effort to offer a patch for all distributions of Linux systems impacted.Corresponding vendors made that patch available effective Wednesday, said Amol Sarwate, director of vulnerability labs at Qualys.Qualys delayed divulging the existence of the security hole for several weeks to allow vendors time to develop and distribute a patch. It is unclear whether hackers have exploited it.\"We discovered the vulnerability during a code audit. It was found not recently but some time ago. We were working with vendors to come up with a coordinated way to disclose it when patches were available,\" Sarwate told LinuxInsider.What It DoesThe exploit allows an attacker to take complete control of a machine, Sarwate explained.\"I would classify this as a high severity threat because of the consequences,\" he added.The flaw opens up most Linux-based Web and mail servers to attack. The vulnerability is triggered by the gethostbyname functions.Numerous core processes call on gethostbyname, including auditd, dbus-daem, dhclient, init, master, mysqld, rsyslogd, sshd and udevd.The flaw in Glibc exposes a buffer overflow that can be triggered locally and remotely in the \"gethostbyname\" functions. Applications using glibc get access to a DNS resolver, which converts hostnames into an IP address, according to Qualys.Almost all networked Linux computers use this function to access another networked computer by using the /etc/hosts files or by resolving an Internet domain name with Domain Name System.Troubled PatchThe vulnerability seems easy to trigger. An attacker can force a buffer overflow by using an invalid hostname argument to an application that performs a DNS resolution. That gives the attacker an ability to remotely execute arbitrary code with the permissions of the user running DNS.Applying the patch is a fairly straightforward process. It is just the same as installing any other patch on a Linux system, according to Sarwate.However, it could be plagued by previous patching faults. The flaw exists in older versions of the GNU C library, or glibc, a repository of open source software written in the C and C++ coding languages. Newer versions of glibc, beginning with the August 2013 glibc 2.18 release, are not affected. However, many builds of Linux may be using older versions.A variety of factors mitigate the impact of this security hole, according to Qualys. One key factor is a fix released on May 21, 2013, between the releases of glibc-2.17 and glibc-2.18. That fix was not classified as a security advisory.As a result, most stable and long-term-support distributions were left exposed, according to Qualys. Affected Linux distros include Debian 7 (wheezy), Red Hat Enterprise Linux 6 and 7, CentOS 6 and 7 and Ubuntu 12.04.Bug Fix HellPatching the GHOST hole could be more trying than fixing other recently discovered Linux vulnerabilities, according to Jon Passki, lead security researcher at767bCoverity.\"Patching a bug like Shellshock and rolling out a new version could be much easier than patching GHOST, as libc is a core library for many packages and the host operating system in Linux,\" he told LinuxInsider.Applying a patch to bash and rolling out a newer version seems a lot easier. None of its dependencies are touched, so the fix can be very specific, Passki said.\"As a sysadmin or someone in security operations, I'd rather have ShellShock than GHOST,\" he added.For single-user Linux desktops running mainly software managed by its distribution, complications probably are no issue, noted Passki. For enterprise systems running proprietary code, getting the patch right could be a thorny problem.Jack M. Germain has been writing about computer technology since the early days of the Apple II and the PC. He still has his original IBM PC-Jr and a few other legacy DOS and Windows boxes. He left shareware programs behind for the open source world of the Linux desktop. He runs several versions of Windows and Linux OSes and often cannot decide whether to grab his tablet, netbook or Android smartphone instead of using his desktop or laptop gear. You can connect with him onGoogle+.Get Permission to License or Reproduce this ArticlePrintEmailReprintsMore by Jack M. GermainNewsletters News Alerts PodcastsMost Popular | This Week on ECT News NetworkE-Commerce TimesGovernment Spies Came Up Dry, Says GemaltoCustomer Tech Support: Don't Go It AloneCourt Sticks It to Apple in $533M Patent CaseNet Neutrality: All Over but the Shouting?Yahoo CISO, NSA Chief Slug It Out Over Security BackdoorsFTC, Private Sector Lock Horns Over Consumer Data ProtectionGoogle Pads Its WalletApple to Sink $1.9B in Green Data Centers in EuropeCRM BuyerRelax, You're SurroundedChanging Sales Behaviors Through Creative CompensationSolving for the CustomerThe Rhyme and Reason of Sales and Marketing Tech AdoptionAre Call Centers Ready for the Internet of Things?Parature from Microsoft Caters to Customer Service ProsSAP Unveils Business Suite 4 SAP HANAVerizon Addresses Supercookie ConundrumLinuxInsiderPearl OS Could Be a Gem in the MakingOpen Source vs. Proprietary Firms on the IoT BattlegroundHP's Marten Mickos: Open Source Is Not a Business ModelPivotal Punts Big Data Platform to Open SourceKorora Comes Bursting With ExtrasBitTorrent's Original Content Deal Makes Bid for ReputabilityFirst Ubuntu Smartphone to Arrive in Europe Next WeekHandBrake Video Transcoder Gets a Grip on LinuxSPONSOR SHOWCASESecurity Driving Online BusinessSatisfaction Guaranteed: Why a little reassurance goes a long way. Download your copy today.Network Monitoring SoftwareOpManager: Monitors network & servers from a single console. Try it for free!Marketers - Fill Your Sales Funnel InstantlyAccess millions of IT and business decision makers. Our full-service global marketing program delivers sales-ready leads. Learn more.TechNewsWorld HeadlinesTechNewsWorldMalicious Emailers Find Healthcare Firms Juicy PreyVolvo Talks Up Its Self-Driving CarsValve To Put Steam Behind VR Efforts With New HeadsetGoogle Puts Blogger Porn Under WrapsPebble Makes Big Ripples on KickstarterHow Apple Will Sell a Watch That No One Really NeedsCitizenfour's Oscar Highlights National Divide Over SnowdenGovernment Spies Steal SIM Card CryptokeysPublicationsE-Commerce TimesTechNewsWorldLinuxInsiderCRM BuyerNewslettersE-Commerce MinuteTech News FlashECT News Network WeeklyEditor's PickSubscribeReader ServicesAccount ManagementDiscussionLinking PolicyNetwork MapNews AlertsRSS / XML FeedsSearch ECT News NetworkCompany InfoAboutAdvertisingBusiness DevelopmentCareersContactPermissionsReprint InformationTerms of Service | Privacy Policy | How To AdvertiseCopyright 1998-2015 ECT News Network, Inc. All Rights Reserved.0"
        ],
        "content_text_length": 8910,
        "content_type": [
          "text/html"
        ],
        "title": "There's a GHOST in Linux's Library | Software | TechNewsWorld",
        "keywords": "Red Hat Inc",
        "content_encoding": "ISO-8859-1",
        "content_ffb": "6534630d",
        "content_first_bytes": "65 34 63 0d 0a 3c 21 44 4f 43 54 59 50 45 20 68 74 6d 6c 20 50 55 42 4c 49 43 20 22 2d 2f 2f 57",
        "content_type_droid": "application/xhtml+xml; version=1.0",
        "links_hosts": [
          "ad.doubleclick.net",
          "plus.google.com",
          "www.ecommercetimes.com",
          "www.twitter.com",
          "www.technewsworld.com",
          "www.linkedin.com",
          "www.coverity.com",
          "www.linuxinsider.com",
          "www.redhat.com",
          "www.facebook.com",
          "www.qualys.com",
          "www.crmbuyer.com",
          "www.copyright.com",
          "www.stumbleupon.com",
          "www.ectnews.com"
        ],
        "links_domains": [
          "linuxinsider.com",
          "crmbuyer.com",
          "linkedin.com",
          "qualys.com",
          "doubleclick.net",
          "stumbleupon.com",
          "ecommercetimes.com",
          "facebook.com",
          "google.com",
          "twitter.com",
          "copyright.com",
          "ectnews.com",
          "technewsworld.com",
          "coverity.com",
          "redhat.com"
        ],
        "links_public_suffixes": [
          "com",
          "net"
        ],
        "elements_used": [
          "hr",
          "body",
          "tr",
          "link",
          "img",
          "div",
          "noscript",
          "td",
          "br",
          "meta",
          "title",
          "style",
          "head",
          "h1",
          "h2",
          "ul",
          "form",
          "a",
          "table",
          "script",
          "li",
          "input",
          "iframe",
          "strong",
          "p",
          "html",
          "span"
        ],
        "content_type_tika": "text/html; charset=ISO-8859-1",
        "content_type_version": "1.0",
        "content_type_full": "text/html; charset=ISO-8859-1",
        "content_type_norm": "html",
        "content_language": "en",
        "ssdeep_hash_bs_192": "do1O//peoiEiMVfY3lB/oeoqHBnZhoSRoHuw02zCm",
        "ssdeep_hash_bs_384": "i1OpfiELVIBwfqhZ7eHWm",
        "ssdeep_hash_ngram_bs_192": "do1O//peoiEiMVfY3lB/oeoqHBnZhoSRoHuw02zCm",
        "ssdeep_hash_ngram_bs_384": "i1OpfiELVIBwfqhZ7eHWm",
        "crawl_dates": [
          "2015-02-26T23:55:47Z"
        ],
        "crawl_years": [
          "2015"
        ],
        "_version_": 1494731056634396700
      },
      {
        "source_file_s": "93.warc.gz@909",
        "url": "http://www.linuxinsider.com/story/81648.html?rss=1&utm_medium=twitter&utm_source=twitterfeed",
        "content_type_ext": "html",
        "host": "www.linuxinsider.com",
        "domain": "linuxinsider.com",
        "public_suffix": "com",
        "server": [
          "nginx/1.4.2"
        ],
        "content_type_served": "text/html",
        "content_length": 46635,
        "id": "sha1:36GQYZAXND7IB5QZ5QXF4M5VLRS5OJKU/2oT3PoikPPcFqHpHFvlc8g==",
        "hash": [
          "sha1:36GQYZAXND7IB5QZ5QXF4M5VLRS5OJKU"
        ],
        "crawl_date": "2015-02-27T00:01:01Z",
        "crawl_year": "2015",
        "wayback_date": "20150227000101",
        "content": [
          "1e91Gain Skills Today To Run Technology Tomorrow > Interactive Curriculum > Click here to learn more.E-BUSINESS | TECHNOLOGY | CRM | LINUX | ECTNEWS.COMWelcome Guest | Sign InSoftwareBusinessCommunityDevelopersEnterpriseMobileReviewsSoftwareTech Blog Reader Services Account ManagementDiscussionNews AlertsNewslettersRSS / Headline FeedsSearch ECT News NetworkECT News Network MapCRM Buyer Site MapE-Commerce Times Site MapLinuxInsider Site MapTechNewsWorld Site MapFebruary 26, 2015   04:01:01 PM PSTLinuxInsider > Software| Next Article in SoftwareThere's a GHOST in Linux's LibraryAs security flaws go, the recently discovered GHOST hole is pretty scary. Patching it could be more trying than fixing other recently discovered Linux vulnerabilities, according to Coverity's Jon Passki. \"Patching a bug like Shellshock and rolling out a new version could be much easier than patching GHOST, as libc is a core library for many packages and the host operating system in Linux.\"By Jack M. Germain01/28/15 4:37 PM PTPatches for GHOST, a critical vulnerability in the Linux GNU C Library (glibc), now are available through vendor communities for a variety of Linux server and desktop distributions.Qualys earlier this week reported its discovery of GHOST (CVE-2015-0235), a vulnerability that allows attackers to remotely take control of an entire system without having any prior knowledge of system credentials.A Qualys security research team found the GHOST flaw and worked closely with Linux distribution vendors in a coordinated effort to offer a patch for all distributions of Linux systems impacted.Corresponding vendors made that patch available effective Wednesday, said Amol Sarwate, director of vulnerability labs at Qualys.Qualys delayed divulging the existence of the security hole for several weeks to allow vendors time to develop and distribute a patch. It is unclear whether hackers have exploited it.\"We discovered the vulnerability during a code audit. It was found not recently but some time ago. We were working with vendors to come up with a coordinated way to disclose it when patches were available,\" Sarwate told LinuxInsider.What It DoesThe exploit allows an attacker to take complete control of a machine, Sarwate explained.\"I would classify this as a high severity threat because of the consequences,\" he added.The flaw opens up most Linux-based Web and mail servers to attack. The vulnerability is triggered by the gethostbyname functions.Numerous core processes call on gethostbyname, including auditd, dbus-daem, dhclient, init, master, mysqld, rsyslogd, sshd and udevd.The flaw in Glibc exposes a buffer overflow that can be triggered locally and remotely in the \"gethostbyname\" functions. Applications using glibc get access to a DNS resolver, which converts hostnames into an IP address, according to Qualys.Almost all networked Linux computers use this function to access another networked computer by using the /etc/hosts files or by resolving an Internet domain name with Domain Name System.Troubled PatchThe vulnerability seems easy to trigger. An attacker can force a buffer overflow by using an invalid hostname argument to an application that performs a DNS resolution. That gives the attacker an ability to remotely execute arbitrary code with the permissions of the user running DNS.Applying the patch is a fairly straightforward process. It is just the same as installing any other patch on a Linux system, according to Sarwate.However, it could be plagued by previous patching faults. The flaw exists in older versions of the GNU C library, or glibc, a repository of open source software written in the C and C++ coding languages. Newer versions of glibc, beginning with the August 2013 glibc 2.18 release, are not affected. However, many builds of Linux may be using older versions.A variety of factors mitigate the impact of this security hole, according to Qualys. One key factor is a fix released on May 21, 2013, between the releases of glibc-2.17 and glibc-2.18. That fix was not classified as a security advisory.As a result, most stable and long-term-support distributions were left exposed, according to Qualys. Affected Linux distros include Debian 7 (wheezy), Red Hat Enterprise Linux 6 and 7, CentOS 6 and 7 and Ubuntu 12.04.Bug Fix HellPatching the GHOST hole could be more trying than fixing other recently discovered Linux vulnerabilities, according to Jon Passki, lead security researcher atCoverity.\"Patching a bug like Shellshock and rolling out a new version could be much easier than patching GHOST, as libc is a core library for many packages and the host operating system in Linux,\" he told LinuxInsider.Applying a patch to bash and rolling out a newer version seems a lot easier. None of its dependencies are touched, so the fix can be very specific, Passki said.\"As a sysadmin or someone in security operations, I'd rather have ShellShock than GHOST,\" he added.For single-user Linux desktops running mainly software managed by its distribution, complications probably are no issue, noted Passki. For enterprise systems running proprietary code, getting the patch right could be a thorny problem.Jack M. Germain has been writing about computer technology since the early days of the Apple II and the PC. He still has his original IBM PC-Jr and a few other legacy DOS and Windows boxes. He left shareware programs behind for the open source world of the Linux desktop. He runs several versions of Windows and Linux OSes and often cannot decide whether to grab his tablet, netbook or Android smartphone instead of using his desktop or laptop gear. You can connect with him onGoogle+.Get Permission to License or Reproduce this ArticlePrintEmailReprintsMore by Jack M. GermainNewsletters News Alerts PodcastsMost Popular | This Week on ECT News NetworkE-Commerce TimesGovernment Spies Came Up Dry, Says GemaltoCustomer Tech Support: Don't Go It AloneCourt Sticks It to Apple in $533M Patent CaseNet Neutrality: All Over but the Shouting?Yahoo CISO, NSA Chief Slug It Out Over Security BackdoorsFTC, Private Sector Lock Horns Over Consumer Data ProtectionGoogle Pads Its WalletApple to Sink $1.9B in Green Data Centers in EuropeTechNewsWorldMalicious Emailers Find Healthcare Firms Juicy PreyVolvo Talks Up Its Self-Driving CarsValve To Put Steam Behind VR Efforts With New HeadsetGoogle Puts Blogger Porn Under WrapsPebble Makes Big Ripples on KickstarterHow Apple Will Sell a Watch That No One Really NeedsCitizenfour's Oscar Highlights National Divide Over SnowdenGovernment Spies Steal SIM Card CryptokeysCRM BuyerRelax, You're SurroundedChanging Sales Behaviors Through Creative CompensationSolving for the CustomerThe Rhyme and Reason of Sales and Marketing Tech AdoptionAre Call Centers Ready for the Internet of Things?Parature from Microsoft Caters to Customer Service ProsSAP Unveils Business Suite 4 SAP HANAVerizon Addresses Supercookie ConundrumSPONSOR SHOWCASENetwork Monitoring SoftwareOpManager: Monitors network & servers from a single console. Try it for free!Security Driving Online BusinessSatisfaction Guaranteed: Why a little reassurance goes a long way. Download your copy today.Marketers - Fill Your Sales Funnel InstantlyAccess millions of IT and business decision makers. Our full-service global marketing program delivers sales-ready leads. Learn more.LinuxInsider HeadlinesLinuxInsiderPearl OS Could Be a Gem in the MakingOpen Source vs. Proprietary Firms on the IoT BattlegroundHP's Marten Mickos: Open Source Is Not a Business ModelPivotal Punts Big Data Platform to Open SourceKorora Comes Bursting With ExtrasBitTorrent's Original Content Deal Makes Bid for ReputabilityFirst Ubuntu Smartphone to Arrive in Europe Next WeekHandBrake Video Transcoder Gets a Grip on LinuxPublicationsE-Commerce TimesTechNewsWorldLinuxInsiderCRM BuyerNewslettersE-Commerce MinuteTech News FlashECT News Network WeeklyEditor's PickSubscribeReader ServicesAccount ManagementDiscussionLinking PolicyNetwork MapNews AlertsRSS / XML FeedsSearch ECT News NetworkCompany InfoAboutAdvertisingBusiness DevelopmentCareersContactPermissionsReprint InformationTerms of Service | Privacy Policy | How To AdvertiseCopyright 1998-2015 ECT News Network, Inc. All Rights Reserved.0"
        ],
        "content_text_length": 8376,
        "content_type": [
          "text/html"
        ],
        "title": "There's a GHOST in Linux's Library | Software | LinuxInsider",
        "keywords": "Red Hat Inc",
        "content_encoding": "ISO-8859-1",
        "content_ffb": "31653931",
        "content_first_bytes": "31 65 39 31 0d 0a 3c 21 44 4f 43 54 59 50 45 20 68 74 6d 6c 20 50 55 42 4c 49 43 20 22 2d 2f 2f",
        "content_type_droid": "application/xhtml+xml; version=1.0",
        "links_hosts": [
          "ad.doubleclick.net",
          "plus.google.com",
          "www.ecommercetimes.com",
          "www.technewsworld.com",
          "www.twitter.com",
          "www.coverity.com",
          "www.linkedin.com",
          "www.linuxinsider.com",
          "www.redhat.com",
          "www.facebook.com",
          "www.qualys.com",
          "www.crmbuyer.com",
          "www.stumbleupon.com",
          "www.ectnews.com"
        ],
        "links_domains": [
          "linuxinsider.com",
          "crmbuyer.com",
          "linkedin.com",
          "qualys.com",
          "doubleclick.net",
          "stumbleupon.com",
          "ecommercetimes.com",
          "facebook.com",
          "google.com",
          "twitter.com",
          "ectnews.com",
          "technewsworld.com",
          "coverity.com",
          "redhat.com"
        ],
        "links_public_suffixes": [
          "com",
          "net"
        ],
        "elements_used": [
          "hr",
          "body",
          "tr",
          "link",
          "img",
          "div",
          "noscript",
          "td",
          "br",
          "meta",
          "title",
          "style",
          "head",
          "h1",
          "h2",
          "ul",
          "form",
          "a",
          "table",
          "script",
          "li",
          "input",
          "iframe",
          "strong",
          "p",
          "html",
          "span"
        ],
        "content_type_tika": "text/html; charset=ISO-8859-1",
        "content_type_version": "1.0",
        "content_type_full": "text/html; charset=ISO-8859-1",
        "content_type_norm": "html",
        "content_language": "en",
        "ssdeep_hash_bs_192": "Cxa0eJ4iDpYbAL0H4baA0ajo4Th8BcM7dMgvkRHuN0wkREtcH",
        "ssdeep_hash_bs_384": "kf58p47Ff397d6Vwle",
        "ssdeep_hash_ngram_bs_192": "Cxa0eJ4iDpYbAL0H4baA0ajo4Th8BcM7dMgvkRHuN0wkREtcH",
        "ssdeep_hash_ngram_bs_384": "kf58p47Ff397d6Vwle",
        "crawl_dates": [
          "2015-02-27T00:01:01Z"
        ],
        "crawl_years": [
          "2015"
        ],
        "_version_": 1494731134817271800
      },
      {
        "source_file_s": "115.warc.gz@912",
        "url": "http://www.cyberciti.biz/faq/cve-2015-0235-patch-ghost-on-debian-ubuntu-fedora-centos-rhel-linux/",
        "host": "www.cyberciti.biz",
        "domain": "cyberciti.biz",
        "public_suffix": "biz",
        "server": [
          "nginx"
        ],
        "content_type_served": "text/html; charset=UTF-8",
        "content_length": 164286,
        "id": "sha1:5F3647CUGIFEMICZ6DUW52P2SNXRP4HE/YTEatQAWgvAbh82cfW6dlg==",
        "hash": [
          "sha1:5F3647CUGIFEMICZ6DUW52P2SNXRP4HE"
        ],
        "crawl_date": "2015-02-27T00:04:42Z",
        "crawl_year": "2015",
        "wayback_date": "20150227000442",
        "content": [
          "e88Tutorials BASH ShellTroubleshootingNginxNetworkingMySQLGoogle Cloud PlatformAmazon Cloud ComputingRackspace Cloud ComputingLinux CentOSDebian / UbuntuUbuntu LinuxSuseRedHat and FriendsSlackware LinuxUNIX AIXMac OS XFreeBSDFreeBSD Jails (VPS)OpenbsdSolarisSee all tutorial topicsBlogAboutContact usForumLinux Scripting GuideRSS/FEEDLinux FAQ / HowtosHow To Patch and Protect Linux Server Against the Glibc GHOST Vulnerability # CVE-2015-0235by nixCraft on January 28, 2015 · 114 comments· LAST UPDATED January 29, 2015in CentOS, Debian / Ubuntu, Linux, RedHat and Friends, SecurityA very serious security problem has been found in the GNU C Library (Glibc) called GHOST. How can I fix GHOST vulnerability and protect my Linux server against the attack? How do I verify that my server has been fixed against the Glibc GHOST vulnerability?A very serious security problem has been found and patched in the GNU C Library called Glibc. It was announced on 27th January 2015.What is the GHOST security bug?Tutorial detailsDifficulty Easy (rss)Root privileges YesRequirements Linux+reboot requiredEstimated completion time 10mFrom the RHEL bugzilla:A heap-based buffer overflow was found in __nss_hostname_digits_dots(), which is used by the gethostbyname() and gethostbyname2() glibc function call. A remote attacker could use this flaw to execute arbitary code with the permissions of the user running the application.A mailing list entry with more details, including in-depth analysis and exploit vectors is here.What C library (Glibc) version does my Linux system use?The easiest way to check the version number is to run the following command:ldd --version Sample outputs from RHEL/CentOS Linux v6.6:ldd (GNU libc) 2.12Copyright (C) 2010 Free Software Foundation, Inc.This is free software; see the source for copying conditions. There is NOwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.Written by Roland McGrath and Ulrich Drepper.Sample outputs from Ubuntu Linux 12.04.5 LTS:ldd (Ubuntu EGLIBC 2.15-0ubuntu10.9) 2.15Copyright (C) 2012 Free Software Foundation, Inc.This is free software; see the source for copying conditions. There is NOwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.Written by Roland McGrath and Ulrich Drepper.Sampled40outputs from Debian Linux v7.8:ldd (Debian EGLIBC 2.13-38+deb7u6) 2.13Copyright (C) 2011 Free Software Foundation, Inc.This is free software; see the source for copying conditions. There is NOwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.Written by Roland McGrath and Ulrich Drepper.A list of affected Linux distrosRHEL (Red Hat Enterprise Linux) version 5.x, 6.x and 7.xCentOS Linux version 5.x, 6.x & 7.xUbuntu Linux version 10.04, 12.04 LTSDebian Linux version 7.xLinux Mint version 13.0Fedora Linux version 19 or olderSUSE Linux Enterprise 11 and older (also OpenSuse Linux 11 or older versions).SUSE Linux Enterprise Software Development Kit 11 SP3SUSE Linux Enterprise Server 11 SP3 for VMwareSUSE Linux Enterprise Server 11 SP3SUSE Linux Enterprise Server 11 SP2 LTSSSUSE Linux Enterprise Server 11 SP1 LTSSSUSE Linux Enterprise Server 10 SP4 LTSSSUSE Linux Enterprise Desktop 11 SP3Arch Linux glibc versionGHOST vulnerability checkYou can test or reproduce the bug using the following C code:/* ghosttest.c: GHOST vulnerability tester *//* Credit: http://www.openwall.com/lists/oss-security/2015/01/27/9 */#include <netdb.h>#include <stdio.h>#include <stdlib.h>#include <string.h>#include <errno.h> #define CANARY \"in_the_coal_mine\" struct {char buffer[1024];char canary[sizeof(CANARY)];} temp = { \"buffer\", CANARY }; int main(void) {struct hostent resbuf;struct hostent *result;int herrno;int retval; /*** strlen (name) = size_needed - sizeof (*host_add1000r) - sizeof (*h_addr_ptrs) - 1; ***/size_t len = sizeof(temp.buffer) - 16*sizeof(unsigned char) - 2*sizeof(char *) - 1;char name[sizeof(temp.buffer)];memset(name, '0', len);name[len] = '\\0'; retval = gethostbyname_r(name, &resbuf, temp.buffer, sizeof(temp.buffer), &result, &herrno); if (strcmp(temp.canary, CANARY) != 0) {puts(\"vulnerable\");exit(EXIT_SUCCESS);}if (retval == ERANGE) {puts(\"not vulnerable\");exit(EXIT_SUCCESS);}puts(\"should not happen\");exit(EXIT_FAILURE);} Compile and run it as follows:$ gcc ghosttest.c -o ghosttest$ ./ghosttestSample outputs from patched Debian v7.8 server:not vulnerableSample outputs from unpatched Ubuntu 12.04 LTS server:vulnerableHow do list packages/applications depends upon vulnerable Glibc?Type the following lsof command:lsof | grep libc | awk '{print $1}' | sort | uniqSample outputs from my Debian Linux v7.x nas:Fig.01: Linux find all the services/applications that rely on the GNU C libraries (Glibc) commandFix the GHOST vulnerability on a CentOS/RHEL/Fedora/Scientific LinuxType the following yum command as the root user:sudo yum clean allsudo yum updateFinally, reboot RHEL/SL/Fedora/CentOS Linux server by typing the following command:### Sysadmin should plan on updating as soon as possible or use maintenance reboot window ##sudo rebootSample outputs:Fig.02 Fix the GHOST vulnerability on a CentOS/RHEL/Fedora/Scientific LinuxFix the GHOST vulnerability on a Ubuntu LinuxType the following apt-get command as the root user:sudo apt-get cleansudo apt-get updatesudo apt-get upgrade## only run dist-upgrade on a Ubuntu if you want to upgrade kernel too##sudo apt-get dist-upgradeFinally, reboot Ubuntu Linux server by typing the following command:sudo rebootSample outputs:Fig.03: Fix the GHOST vulnerability on a Ubuntu Linux LTSFix the GHOST vulnerability on a Debian LinuxType the following apt-get command as the root user:sudo apt-get cleansudo apt-get updatesudo apt-get upgrade##No need to do dist-upgrade (see man page: man apt-get)##sudo apt-get dist-upgradeFinally, reboot Debian Linux server by typing the following command:sudo rebootSample session:Gif 01: Fix the GHOST vulnerability on a Debian Linux serverFix the GHOST vulnerability on a SUSE Linux EnterpriseTo install this SUSE Security Update use YaST online_update. Or use the following commands as per your version:SUSE Linux Enterprise Software Development Kit 11 SP3zypper in -t patch sdksp3-glibc-10206SUSE Linux Enterprise Server 11 SP3 for VMwarezypper in -t patch slessp3-glibc-10206SUSE Linux Enterprise Server 11 SP3zypper in -t patch slessp3-glibc-10206SUSE Linux Enterprise Server 11 SP2 LTSSzypper in -t patch slessp2-glibc-10204SUSE Linux Enterprise Server 11 SP1 LTSSzypper in -t patch slessp1-glibc-10202SUSE Linux Enterprise Desktop 11 SP3zypper in -t patch sledsp3-glibc-10206Finally run for all SUSE linux version to bring your system up-to-date:zypper patch1001Fix the GHOST vulnerability on a OpenSUSE LinuxTo see a list of available updates including glibc on a OpenSUSE Linux, enter:# zypper luTo simply update installed glibc packages with their newer available versions, run:# zypper upHow can I verify that my Linux system no longer vulnerable after the reboot?Method #1: The easiest way to check vulnerability and/or confirm remediation is to run the following command to verify that you are running an updated version of Glibc:$ ldd --versionMethod #2: Run the instructions given in the previous section called GHOST vulnerability check (generic method for all Linux based systems).Method #3: If you are RHN subscriber see the Red Hat Access Lab: GHOST tool (only for RHEL/CentOS/SL systems - download link):#!/bin/bash# rhel-GHOST-test.sh - GHOST vulnerability tester. Only for CentOS/RHEL based servers. ## Version 3# Credit : Red Hat, Inc - https://access.redhat.com/labs/ghost/ #echo \"Installed glibc version(s)\" rv=0for glibc_nvr in $( rpm -q --qf '%{name}-%{version}-%{release}.%{arch}\\n' glibc ); doglibc_ver=$( echo \"$glibc_nvr\" | awk -F- '{ print $2 }' )glibc_maj=$( echo \"$glibc_ver\" | awk -F. '{ print $1 }')glibc_min=$( echo \"$glibc_ver\" | awk -F. '{ print $2 }') echo -n \"- $glibc_nvr: \"if [ \"$glibc_maj\" -gt 2 -o \\\\( \"$glibc_maj\" -eq 2 -a \"$glibc_min\" -ge 18 \\) ]; then# fixed upstream versionecho 'not vulnerable'else# all RHEL updates include CVE in rpm %changelogif rpm -q --changelog \"$glibc_nvr\" | grep -q 'CVE-2015-0235'; thenecho \"not vulnerable\"elseecho \"vulnerable\"rv=1fifidone if [ $rv -ne 0 ]; thencat <<EOF This system is vulnerable to CVE-2015-0235. <https://access.redhat.com/security/cve/CVE-2015-0235>Please refer to <https://access.redhat.com/articles/1332213> for remediation stepsEOFfi exit $rv Sample outputs from patched RHEL v6.8 server:bash rhel-GHOST-test.shInstalled glibc version(s)- glibc-2.12-1.149.el6_6.5.x86_64: not vulnerable- glibc-2.12-1.149.el6_6.5.i686: not vulnerableTweet itFacebook itG+ itDownload PDF verd40sionFound an error/typo on this page?This entry is 2 of 2 in the Linux GHOST Glibc Critical Security Vulnerability series. Keep reading the rest of the series: Check Ghost Vulnerability Test ProgramsSecure and Patch Your Linux Server For Ghost Bug{ 114 comments… read them below or add one }1 local January 28, 2015 at 8:20 amIt is time to go on BSD way..Reply2 int0x January 31, 2015 at 2:05 pmNice try ! :pReply3 lucas February 4, 2015 at 1:28 pmSo why version 9.3 of FreeBSD is vulnerable?https://forums.freebsd.org/threads/is-freebsd-vulnerable-to-ghost.50166/Reply4 Miroslav January 28, 2015 at 9:56 amNote that, at least on CentOS 6 and likely on RHEL6, the ldd –version command will still return 2.12 even after the update. One can check the rpm package version to see if the system was updated (see the full package list at https://rhn.redhat.com/errata/RHSA-2015-0092.html). The 2.12 library was patched, not replaced by a newer version. For example:$ rpm -q glibcglibc-2.12-1.149.el6_6.5.i686 <--- patched version$ ldd --versionldd (GNU libc) 2.12 <--- still 2.12Reply5 nixCraft January 28, 2015 at 11:06 amThanks. I’ve posted a script from RHN and C code to for vulnerability check. The ldd --version may not work on all the systems.Reply6 Brody January 28, 2015 at 11:37 amThank you so much for this!Reply7 Patrick January 28, 2015 at 11:52 amRHEL 5 is also affected.Reply8 nixCraft January 28, 2015 at 12:01 pmThanks for the heads up. The faq has been updated to include both RHEL 5.x and CentOS 5.x.Reply9 kevin January 28, 2015 at 2:08 pmwhy is it necessary to reboot?Reply10 bler January 28, 2015 at 6:34 pmThe vulnerability is in glibc. It is used in nearly every program that’s running on your machine. The issue is that you have to restart all those programs after patching to make sure everything is fine. It is hard to list every program that uses glibc so you can just restart your machine instead.Reply11 Bill January 28, 2015 at 8:24 pmReboot is necessary because currently running processes loaded on the old libs, and are vulnerable even after the glibc update. The reboot will force them to read the new libs.Reply12 Bill January 28, 2015 at 8:25 pmI stand corrected. I just checked my box after patching it, and it is no longer vulnerable, even without a reboot yet. Probably best to do it anyway.Reply13 MoChaMan February 3, 2015 at 6:20 pmYou must reboot because *other* programs need to reload GLIBC, some so fundamental you cannot just restart them. When you checked your box, you only ran a program that loaded the newly installed GLIBC. Your box is still vulnerable as long as the other programs are running with the older GLIBC.Reply14 Torbjørn January 28, 2015 at 11:36 pmIt’s not really necessary to reboot, as long as you make sure to restart all affected services so that they no longer use the old version of libc.I just did it on my server, all you need to do (you also need to be root) after upgrading is:lsof | grep libc | grep DELThen, go through the list and restart all the services/programs you see.Some of them you may need to kill manually (the ones that don’t have scripts in /etc/init.d/) – e.g. getty [run ‘init q’ to restart it and get your consoles back], and processes like bash and sshd won’t end until you log out…That said – unless your server is doing something important that shouldn’t be interrupted, a reboot is probably a much quicker and easier solution.Reply15 Brian January 29, 2015 at 12:00 amBecause running daemons will have already loaded the vulnerable code into memory. Alternatively you could bounce every process on your system one by one, theoretically.Reply16 Jens January 29, 2015 at 11:47 amHow do you bounce init? :)Reply17 Spike February 2, 2015 at 5:26 pmtelinit uReply18 Tyler January 29, 2015 at 1:27 amFrom what I’ve read, there are a lot of services that use glibc, so you can either restart all of them or reboot.Reply19 Mike January 29, 2015 at 4:39 amYes, I agree, is a reboot really nessary?Reply20 Mike January 29, 2015 at 6:510001 amThank you everyone for your feedback.Reply21 Marcelo January 28, 2015 at 2:26 pmSweet. Best article I found on how to test it and solve it .Tks!Reply22 Bryan January 28, 2015 at 2:58 pmFor CentOS/RHEL/Fedora/Scientific Linux it might be better to use:yum -y update glibcThis way you are not updating anything else other than glibc. Just a thought. Thanks for posting this by the way!Reply23 Lavi January 28, 2015 at 3:12 pmIn case I don’t want to run “yum update”, cause that will update all OS RPM packages.Can you tell on exact list of RPM packages to be updated?The “lsof” command showing who is using glibc, but not all in this list is an RPM.Thanks,LaviReply24 Miroslav January 28, 2015 at 3:16 pmYou could refer to the list of updated packages (https://rhn.redhat.com/errata/RHSA-2015-0092.html). To make it a bit easier, yum update glibc-* nscd worked as a nice shortcut for me, but you might want to double-check the list of packages yum tells you will be upgraded before allowing it to do so.Reply25 Lavi January 28, 2015 at 3:17 pmThanks!Reply26 Julius January 28, 2015 at 3:50 pmnscd is a dependency of glibc, so will be updated automatically.I used# yum update glibc* -y && rebootwhich gave me unvuln centos 5,6,7 servers..centos 4.9 was a problem though.Reply27 cMax January 29, 2015 at 8:34 pmWell, if you’re still running CentOS4, you’re intentionally signing up for problems, aren’t you?Its End Of Life was 2 years ago.It really doesn’t matter what that box is doing; maintaining it is going to be more work and higher risk than migrating its functionality to a modern OS.Reply28 Eric January 28, 2015 at 3:21 pmDebian 6 is affected as well even if its EOL people still use it. No glibc installed but the libc6 library files are there.Reply29 IP3G January 29, 2015 at 8:31 amCompile from source and install it. Or rebuild deb packages.Reply30 Ignacio January 29, 2015 at 12:06 pmWell, it is not entirely true that it is EOL. They made some kind of a LTS version from last Debian, now with security updates up to date (release 6.0.10).Reply31 Dan at BlackMesh January 28, 2015 at 3:25 pmIf you’re going to “lsof” the entire system, you should add the “-n” flag so you don’t resolve DNS names in open Internet sockets. That will make the operation much faster. Depending on your environment, you may also see a benefit from adding “-l” and “-P” to avoid resolution of usernames and port names, respectively. Finally, on Linux, you can use “-X” to avoid the overhead of searching Internet sockets at all, which can be a huge benefit on a server with tens of thousands of open connections.Reply32 Remco January 28, 2015 at 3:35 pmThanks for sharing. Greatly appreciated.Reply33 sedwards January 28, 2015 at 4:03 pmThe ‘lsof’ command sample needs ‘sudo’ or a ‘needs to be run by root’ disclaimer.The ‘sample output’ shows a shell prompt containing ‘root’ and a ‘#’, but that’s not conclusive or sufficiently obvious.Reply34 Phil January 28, 2015 at 4:18 pmThe script in method #3 does not work correctly and will retun a fail even if patched, confirmend by RHEL staff (https://access.redhat.com/articles/1332213).They are working on an uptated versionReply35 Bryan January 28, 2015 at 4:25 pmYou can also check if your RHEL/CentOS/CloudLinux is patched by checking its changelog:rpm -q --changelog glibc | grep CVE-2015-0235Reply36 Mike January 29, 2015 at 12:49 pmThank you, This is very helpful.Reply37 anon January 28, 2015 at 4:54 pmanyone have a source for centos/redhat el3 updates?Reply38 Patrick January 28, 2015 at 6:04 pmlol, good one.Reply39 Eoin January 28, 2015 at 4:55 pmJust ran the suggested ghost vulnerability check on an Ubuntu 8.10 machine and it reported as ‘vulnerable’Can you update the page to reflect this ? (i.e. the page states only Ubuntu 12.04 and 10.04 are impacted)Reply40 Captain Obvious January 28, 2015 at 9:32 pmDude, if 12.02 and 10.04 is affected, and anything earlier than glibc 2.17.xxx is affected, OBVIOUSLY Ubuntu 8.10 is affected. Geeesh! Time travel anyone? Maybe you should send this to thedailywtf.com.Reply41 Graeme January 28, 2015 at 4:58 pmAfter clean all and update, I haveglibc-2.17-21.fc19.x86_64which is still vulnerable, is there a repo I’m missing?-rw-r–r–. 1 root root 1180 Feb 19 2014 fedora.repo-rw-r–r–. 1 root root 1141 Feb 19 2014 fedora-updates.repo-rw-r–r–. 1 root root 1199 Feb 19 2014 fedora-updates-testing.repo+ livna and 8 rpmfusion repos.Reply42 Bill Mihalo January 29, 2015 at 8:16 pmIt looks as though you are running Fedora 19 which is at End Of Life. Updates are no longer available for this distribution. The easiest solution is to upgrade to Fedora 20 or Fedora 21 using fedup.If you don’t have the time to upgrade, you can download a source rpm from vault.centos.org/7.0.1406/updates/Source/SPackages. You needglibc-2.17-55.el7_0.5.src.rpm. Download this rpm and issue an rpm -ivh to install it (do this as root). Go into /root/rpmbuild/SPECS and issue an rpmbuild -ba glibc.spec. The build takes about an hour. Afterwards, go into the RPMS folder and select the architecture for your machine. Issue a yum install on all the rpms (you can skip the debug ones if you like) and then reboot.Reply43 Graeme January 30, 2015 at 5:49 amThanks, yes I knew Fedora had a quick development cycle, it’s just that I was quite happy with Fedora 19 :) OK a fedup I will go…Reply44 ref January 30, 2015 at 1:50 pmWill this same process work for FC11 and 17?Reply45 Taras January 28, 2015 at 5:11 pmCan I patch my system (CentOS 6) without rebooting?Reply46 nixCraft January 28, 2015 at 5:42 pmYou need to restart every service or app that uses Glibc. Hence, reboot is recommended.Reply47 Tomas January 28, 2015 at 5:22 pmTested your script on Debian 7, Ubuntu 12.04 and Ubuntu 14.04 – not vulnerable.Reply48 nixCraft January 28, 2015 at 5:43 pmA bash script or C program? Script only works with RHEL/CentOS/SL systems.Reply49 Tony January 28, 2015 at 6:28 pmFor SUSE Linux server, run and patch. SUSE Linux Enterprise Software Development Kit 11 SP3:zypper in -t patch sdksp3-glibc-10206SUSE Linux Enterprise Server 11 SP3:zypper in -t patch slessp3-glibc-10206SUSE Linux Enterprise Server 11 SP2 LTSS:zypper in -t patch slessp2-glibc-10204SUSE Linux Enterprise Server 11 SP1 LTSS:zypper in -t patch slessp1-glibc-10202To apply up-to-date patches, run:zypper patchReply50 eric wedaa January 28, 2015 at 9:16 pmwhat about OpenSUSE 11.0 ? I’m not finding a lot of help online:-(Reply51 Andreas Lang February 2, 2015 at 1:07 pmI’m looking for that fix for opensuse 11.0still no solution found!1000Reply52 Tony January 28, 2015 at 6:33 pmCetOS and RHEL users need to run:rpm -q glibcA list of safe versions i.e. if the version of glibc is older than the ones listed below, your server is vulnerable and should be patched ASAP:RHEL/CentOS 5: glibc-2.5-123.el5_11.1RHEL/CentOS 6: glibc-2.12-1.149.el6_6.5RHEL/CentOS 7: glibc-2.17-55.el7_0.5Reply53 MarkL January 28, 2015 at 6:40 pmSomething very important regarding the Ubuntu update commands:If your Ubuntu server is running a software package that is distribution dependent, like Zimbra, running the command “sudo apt-get dist-upgrade” will break the application!The command to update the packages is “sudo apt-get upgrade” ! Running the “dist-upgrade” will upgrade the Ubuntu release, for instance, upgrading the server from Ubuntu 12 to Ubuntu 14!Reply54 nixCraft January 29, 2015 at 5:45 amThanks! The page has been updated.Reply55 Matt January 28, 2015 at 7:02 pmUsing a RHEL5 or RHEL 6:The bash script shows that severs are “Not Vulnerable.” while the c script shows vulnerable.# ./ghost.shVulnerable glibc version <= 2.17-54Vulnerable glibc version <= 2.5-122Vulnerable glibc version <= 2.12-1.148Detected glibc version 2.5 revision 123Not Vulnerable.# ./ghosttestvulnerable]# ./ghost.shVulnerable glibc version <= 2.17-54Vulnerable glibc version <= 2.5-122Vulnerable glibc version <= 2.12-1.148Detected glibc version 2.12 revision 149Not Vulnerable.]# ./ghosttestvulnerableSo maybe your bash script needs some work?Reply56 nixCraft January 29, 2015 at 5:29 amThe script has been updated. Please try again on a CentOS/RHEL server.Reply57 larcher January 28, 2015 at 7:21 pmThat lsof command will catch anything starting with libc (libcrypto, libcolord, libcurl, etc) — not just libc.Instead, grep’ing for “libc-” worked for me — since libc shows up as something like “/lib/x86_64-linux-gnu/libc-2.13.so”Reply58 Jadrian January 28, 2015 at 9:03 pmWhat about older versions of Ubuntu? I’m on Ubuntu 13.04 (raring), and I need to stay on this version. If I dosudo apt-get cleansudo apt-get updatesudo apt-get dist-upgradeThen the response is:Reading package lists… DoneBuilding dependency treeReading state information… DoneCalculating upgrade… Done0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.Are the Ubuntu (and Kubuntu, which I’m actually running) folks not pushing this patch to their old-releases repos? For example1000, when I do the apt-get update, these lines show up:Hit http://old-releases.ubuntu.com raring-security Release.gpg[…]Hit http://old-releases.ubuntu.com raring-security ReleaseI know 13.04 isn’t a long-term support release, but you’d figure that truly critical security patches like this would be backported.Reply59 Dan January 29, 2015 at 12:20 pmSame problem here!How can I upgrade glibc using Ubuntu 13.04 and ubuntu 12.10 ?Using the steps for ubuntu I get the same result as Jadrian.Reading package lists… DoneBuilding dependency treeReading state information… DoneCalculating upgrade… Done0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.Would appreciate If someone can give us an idea.Compiling glibc by hand is not that easy and a little bit risky.ThanksReply60 Michal January 28, 2015 at 9:21 pmThanks! It’s very helpful.Reply61 spirit January 28, 2015 at 10:02 pmI’d have a care with`sudo apt-get dist-upgrade`…sledgehammer and nut spring to mind.`sudo apt-get upgrade` should be sufficient.– 0Reply62 nixCraft January 29, 2015 at 5:45 amThanks! The page has been updated.Reply63 Joe January 29, 2015 at 2:28 amQ. Why must i reboot my system? Why cant i simply restart the services utilizing glibc?Reply64 nixCraft January 29, 2015 at 5:46 amSee earlier comments by others.Reply65 venkat January 29, 2015 at 3:54 amIs Suse 11 SP3 affected?Reply66 nixCraft January 29, 2015 at 5:29 amYes. See tony posted commands.Reply67 IP3G January 29, 2015 at 6:07 amHey,Noob question. Is my FreeBSD server affected?Reply68 nixCraft January 29, 2015 at 6:12 amNoop. FreeBSD is not affected. But, if you are using a “Linux Binary Compatibility” on a FreeBSD laptop/desktop/server, upgrade “linux-base” port. See this page for more info.TL:DR: Upgrade “linux_base-c6″ and “linux_base-f10″ ports if you are using those.Reply69 kind January 29, 2015 at 8:12 amrhn 5.3 client is not this weak version?Reply70 dxman January 29, 2015 at 6:44 am@nixCraft.what if no updates are released by Distro Developers , i have a server running 11.0 suse. what should i do ?Reply71 nixCraft January 29, 2015 at 8:27 amSuse has released updates, see:http://support.novell.com/security/cve/CVE-2015-0235.htmlAlso, see commands posted by Tony in this thread about patching Suse Linux server.Reply72 Ken January 29, 2015 at 8:04 amShould I be re-compiling some binares? Like I installed bind from its source tarball, would I need to recompile bind now?Reply73 oll January 29, 2015 at 8:19 amAre you sure you need to reboot ? At least for CentOS6 ?Is not restating services enough ?I tested with openwall program : http://www.openwall.com/lists/oss-security/2015/01/27/9and had “vulnerable”. Then after a yum update glibc, I had “non vulnerable” .(I have 50+ servers :-( all quite busy )Reply74 Miroslav January 29, 2015 at 9:17 amIt said “not vulnerable” because you started the test application after installing the patched library, hence the test application loaded and used the patched version. All the programs that were already running, however, are still using the unpatched library version because they loaded it before you did the update. See earlier comments on this – while it is theoretically possible to do so without rebooting the system, libc is used by so many applications that it might be easier1000just to reboot. YMMV, of course. See the article and comments on ways to determine what processes (applications) are currently using libc and therefore should be restarted.Reply75 Prasad January 29, 2015 at 11:19 amDoes anybody know if Red Hat Enterprise Linux Server release 5.7 (Tikanga) is vulnerable to GHOST (CVE-2015-0235)?Reply76 Prasad January 29, 2015 at 11:48 amin addition to this – is Oracle database affected?Reply77 Zoran January 29, 2015 at 11:37 amOn Fedora 18 I also have the vulnerability with latest glibc. Probably we need to go for Fedora 20/21 . .Reply78 Loz Bigrave January 29, 2015 at 11:50 amExcellent article.Reply79 kim January 29, 2015 at 12:16 pmWhat about older versions of Fedora?I’m on Fedora 8, and I need to stay on this version.Reply80 Dennis January 29, 2015 at 12:33 pmDoing zypper up on my OpenSUSE system broke my server! MySQL won’t start anymore and iptables is giving me hell when i use the default GRUB option.Reply81 Steven January 29, 2015 at 2:19 pmMost Recent distos with support got the patches goingbut what about old servers :)Would be nice to have some glibc patches for all the versions from 2.2 to 2.17 so we could rebuild our own packagesReply82 kim January 29, 2015 at 11:35 pmI agree.Reply83 ranjith January 30, 2015 at 5:03 ammy server is asid to vulnerable . when i’m try update it shows conflicts file . Please help me to fix this problem .[root@IPFVM2 UyfQ317At]# rpm -qi glibcName : glibc Relocations: (not relocatable)Version : 2.5 Vendor: CentOSRelease : 81.el5_8.7 Build Date: Mon 27 Aug 2012 07:53:14 PM ISTInstall Date: Mon 31 Dec 2012 01:06:04 PM IST Build Host: builder10.centos.orgGroup : System Environment/Libraries Source RPM: glibc-2.5-81.el5_8.7.src.rpmSize : 12996741 License: LGPL1000Signature : DSA/SHA1, Mon 27 Aug 2012 10:15:44 PM IST, Key ID a8a447dce8562897Summary : The GNU libc libraries.Description :The glibc package contains standard libraries which are used bymultiple programs on the system. In order to save disk space andmemory, as well as to make upgrading easier, common system code iskept in one place and shared between programs. This particular packagecontains the most important sets of shared libraries: the standard Clibrary and the standard math library. Without these two libraries, aLinux system will not function.Name : glibc Relocations: (not relocatable)Version : 2.5 Vendor: CentOSRelease : 81.el5_8.7 Build Date: Mon 27 Aug 2012 07:30:23 PM ISTInstall Date: Mon 31 Dec 2012 01:06:05 PM IST Build Host: builder10.centos.orgGroup : System Environment/Libraries Source RPM: glibc-2.5-81.el5_8.7.src.rpmSize : 11674729 License: LGPLSignature : DSA/SHA1, Mon 27 Aug 2012 10:15:44 PM IST, Key ID a8a447dce8562897Summary : The GNU libc libraries.Description :The glibc package contains standard libraries which are used bymultiple programs on the system. In order to save disk space andmemory, as well as to make upgrading easier, common system code iskept in one place and shared between programs. This particular packagecontains the most important sets of shared libraries: the standard Clibrary and the standard math library. Without these two libraries, aLinux system will not function.[root@IPFVM2 UyfQ317At]# uname -aLinux IPFVM2 2.6.18-194.el5 #1 SMP Fri Apr 2 14:58:14 EDT 2010 x86_64 x86_64 x86_64 GNU/Linux[root@IPFVM2 UyfQ317At]#[root@IPFVM2 UyfQ317At]# yum update glibc-devel ncsdLoaded plugins: fastestmirrorLoading mirror speeds from cached hostfile* addons: centos.excellmedia.net* base: centos.excellmedia.net* epel: mirrors.123host.vn* extras: centos.excellmedia.net* rpmforge: mirror.smartmedia.net.id* rpmforge-extras: mirror.smartmedia.net.id* rpmforge-testing: mirror.smartmedia.net.id* updates: centos.excellmedia.netReducing CentOS-5 - Base to included packages onlyFinishedReducing CentOS-5 Testing to included packages onlyFinishedReducing CentOS-5 - Extras to included packages onlyFinishedReducing CentOS-5 - Updates to included packages onlyFinishedSetting up Update ProcessNo Match for argument: ncsdNo package ncsd available.No Packages marked for UpdateReply84 cmax February 9, 2015 at 7:19 pmTry ‘yum clean all’ then repeat the update.There was a naming convention change a while back, and your local cached list may be out of sync.Reply85 Jeroen January 29, 2015 at 8:55 pmI can’t find anything about OpenSuse 11.3. Does anyone know how to update this server. I know there are new OpenSuse versions, but I can’t do it with this specific server, so I would like to know how to update glibc by hand….Reply86 Dennis January 30, 2015 at 9:00 amYou can also follow this thread where i asked the same question.http://www.vicidial.org/VICIDIALforum/viewtopic.php?f=4&t=34015Don’t do zypper up since it will wreck your system.Reply87 Mark January 29, 2015 at 9:15 pmI’m running Ubuntu 12.04 LTS (GNU/Linux 3.2.0-53-generic x86_64) and did not have to do a distro upgrade, I used:sudo apt-get -y update && sudo apt-get -y install libc6without rebooting and the test method above shows “not vulnerable”; it showed “vulnerable” before the update of libc6Is there a reason why this would not work?Reply88 Srini January 30, 2015 at 3:51 amHi experts,I don’t find the SUSE patches mentioned (i.e. slessp2-glibc-10204) in the suse site in the repository. I have enabled all my SLES 11 SP2 core and updates repository. DO any one know what repository I need to add for the fixed glibc version?ThanksReply89 jim dalton January 30, 2015 a1000t 9:46 amA question obvious to some but not to me: I have some old RH installs eg RH ES3 which are marked as not affected in the overall declaration of the problem, but both the script and the code both state vulnerable. The openwall doc says glibc-2.2 was vulnerable, I’ve got 2.3.2 on my ES3 box for, yet ES3 not listed as vulnerable.So I’ve missed the bit that says why the issue only affects RHEL5,6,7: anyone care to point me to the relevant documentation?Thx,jimReply90 amol January 30, 2015 at 9:48 amI’ve CentOS 6.0 servers which I cant update. The bug fixed packages r for CentOS 6.5 – according to their names. Can I update only glibc without updating kernel or other packages?Reply91 Yassin January 30, 2015 at 9:57 amDo we have an updated yum repository to install updated packages from to fix this issue ?Reply92 Bernardo January 30, 2015 at 10:45 amFor those who have debian 6 (squeeze). That’s what I did:1 – Add this line /etc/apt/sources.listdeb http://ftp.us.debian.org/debian squeeze-lts main non-free contrib2 – check and update list packagesapt-get update3 – verify if it shows (2.11.3-4+deb6u4)apt-show-versions libc64 – update only the packageapt-get install –only-upgrade libc65 – verify againapt-show-versions libc66 – check again the vulnerabilty using the C code of this site.7 – you can comment the line added in /etc/apt/sources.listhttp://www.cyberciti.biz/faq/cve-2015-0235-patch-ghost-on-debian-ubuntu-fedora-centos-rhel-linux/https://security-tracker.debian.org/tracker/CVE-2015-0235Reply93 jim dalton January 30, 2015 at 12:00 pmActually I’ve answered my own question. They are vulnerable, its just that RH don’t support them. That’s is a bit misleading of RH.JimReply94 Mani January 30, 2015 at 1:33 pmfor ubuntu 12.04 only following command is enough to get eglibc ldd (Ubuntu EGLIBC 2.15-0ubuntu10.10) 2.15apt-get install libc-bin libc6 libc6-i386Reply95 Tony, London January 30, 2015 at 5:10 pmHi – just a quick note to say thanks so much for publishing this guide. 1&1 (major UK hosting provider) has emailed a link to your article to all its customers, which is how I found it.Thanks again :-)Reply96 Nicolas January 30, 2015 at 6:52 pmBonjour,1°-) Je suis novice et je ne sais pas comment faire pour connaître la version de Glibc que j’ai ?Merci pour votre aide pour me donner le pas à pas.2°-) Si je suis vulnérable, merci pour me donner le pas à pas pour réparer.Je vous remercie pour les personnes qui me répondrons.Bien cordialementNicolasReply97 jaime January 30, 2015 at 9:16 pmpour redhatexécutez[ec2-user@my-hostname ~]$ sudo yum info glibcLoaded plugins: fastestmirrorLoading mirror speeds from cached hostfile* epel: mirrors.cat.pdx.eduInstalled PackagesName : glibcArch : x86_64Version : 2.12…..Reply98 Nicolas January 30, 2015 at 6:54 pmHi,1 -) I am new and I do not know how to check which version of glibc I have?Thank you for your help to give me step by step.2 -) If I’m vulnerable, thank you for giving me the step by step to repair.Thank you for the people who answer me.NicolasReply99 yamo' January 31, 2015 at 8:01 amWhy apt-get clean? It is useless.For Debian LTS it is solved see : https://wiki.debian.org/fr/LTS/UsingReply100 Sanu February 2, 2015 at 9:32 amCheersReply101 Al February 2, 2015 at 11:29 amAccording to Symnatec: glibc versions 2.2 through 2.17 (inclusive) are vulnerable. Versions 2.18 through 2.20 (inclusive) or under 2.1.3 (inclusive) are NOT vulnerable.Reply102 Constantine Shuluypin February 2, 2015 at 2:29 pmhttps://github.com/makelinux/CVE-2015-0235-workaroundCVE-2015-0235-workaround aka GHOST glibc vulnerabilityc48A shared library wrapper with additional checks for the vulnerable functions gethostbyname2_r and gethostbyname_r .The proper solution for CVE-2015-0235 is to upgrade glibc to at least glibc-2.18.In some cases, an immediate glibc upgrade is not possible, for example in custom production embedded systems, because such an upgrade requires a validation of the whole system.In such cases, this workaround provides a hot fix solution, which is easier to validate.See https://github.com/makelinux/CVE-2015-0235-workaroundReply103 Martin February 2, 2015 at 2:42 pmI am alittle bit confused here, CVE-2015-0235 says that all version before 2.18 is vulnerable. I have some old Ubuntu 12.04 servers. I have updated them to 12.04.5 and after that they get version 2.15, and when I run the GCC GHOST vulnerability check from above it says “not vulnerable”. I guess 2.15 is a patched version then and I do not need a version above 2.18, or am I wrong?Reply104 Martin February 3, 2015 at 1:41 pmI can answer my own question, the answer is that 2.15 is the patched version, you can see that by running “apt-get changelog libc6″Reply105 PhilG February 3, 2015 at 8:40 pmThanks for the info. I have upgraded all our RHEL4 – 7 servers, but was wondering if there is ANYTHING that can help with securing/patching RH 9 and RHEL3?Thank you!Reply106 Robert Redl February 4, 2015 at 2:12 amThank you for the detailed articleReply107 TK February 9, 2015 at 1:18 pmPlease help me out. have done yum update glibcl managed to patch to glibc 2.5.123 and am i still vulnerable because its under 2.17. am using Centos 5.11.if so what should i do to curb this. Kindly AssistReply108 MoChaMan February 9, 2015 at 8:42 pm2.5.123 is the latest, patched version of GLIBC for CentOS 5. It was uploaded 27 January 2015 You do not need to do anything more than reboot.Reply109 Jim February 10, 2015 at 12:47 pmFor the really old legacy servers that cannot be upgraded, for example Fedora release 8 (Werewolf) and Ubuntu 7.10 gutsyI did the following:wget –no-check-certificate https://github.com/makelinux/CVE-20151000-0235-workaround/archive/master.zip -O master.zipunzip master.zipmake(as root) make installecho gethostbyname_wrap.so >> /etc/ld.so.preloadfor my fedora install i had to copy the file to the right directory:cp /usr/lib/gethostbyname_wrap.so /usr/lib64/gethostbyname_wrap.soWhen you are done you should restart all services that depend on glibc (see previous posts how to lsof grep them) or restart the entire serverReply110 Gordon Delgado February 12, 2015 at 7:26 pmOK, so you tell me how:“The easiest way to check the version number is to run the following command:ldd –version”…but you don’t tell me what versions are vulnerable.-1Reply111 nixCraft February 12, 2015 at 8:17 pmDistro: VersionUbuntu 12.04 LTS: 2.15-0ubuntu10.10Ubuntu 10.04 LTS: 2.11.1-0ubuntu7.20Debian 7 LTS: 2.13-38+deb7u7CentOS 5: glibc-2.5-123.el5_11.1CentOS 6: glibc-2.12-1.149.el6_6.5CentOS 7: glibc-2.17-55.el7_0.5RHEL 5: glibc-2.5-123.el5_11.1RHEL 6: glibc-2.12-1.149.el6_6.5RHEL 7: glibc-2.17-55.el7_0.5Reply112 MoChaMan February 12, 2015 at 8:42 pmI think NixCraft has posted a list of the patched versions of GLIBC not the vulnerable versions. These RPMs are the latest, all uploaded on 27 January 2015 so I don’t believe they’re vulnerable. Thanks to NixCraft / Vivek Gite for creating an excellent site full of great tutorials.Reply113 nixCraft February 13, 2015 at 7:00 amThank you for the kind words!Reply114 amol February 15, 2015 at 3:12 pmI’ve CentOS 6.0 server with glibc-2.12-1.7.el6.x86_64. Now if I update it to glibc-2.12-1.149.el6_6.5, do I need to recompile my C/C++ apps ?ReplyCancel replyLeave a CommentName *E-mail *WebsiteNotify me of followup comments via e-mailTagged as: cve-2015-0235, glibc, vulnerability, EasyPrevious Faq: How To Add Swap on FreeBSD Unix SystemsNext Faq: Glibc: GHOST Vulnerability Test To See If a Linux Sever Is SecureSubscribe to nixCraftLearn something new about Linux/Unix by emailEnter your email address:1000Latest posts from our blogA Shell Primer: Master Your Linux, OS X, Unix Shell Environment7 Awesome Open Source Cloud Storage Software For Your Privacy and Security20 Unix Command Line Tricks – Part I5 Awesome Open Source Backup Software For Linux and Unix-like Systems8 Tips to Solve Linux & Unix Systems Hard Disk Problems Like Disk Full Or Can’t Write to the Disk©2000-2015 nixCraft. All rights reserved. Privacy Policy - Terms of Service - Questions or Comments -We are proudly powered by Linux + Nginx + WordPress. The content is copyrighted to nixCraft and may not be reproduced on other websites.0"
        ],
        "content_text_length": 39549,
        "content_type": [
          "text/html"
        ],
        "title": "How To Patch and Protect Linux Server Against the Glibc GHOST Vulnerability # CVE-2015-0235",
        "content_encoding": "UTF-8",
        "content_ffb": "6538380d",
        "content_first_bytes": "65 38 38 0d 0a 3c 21 44 4f 43 54 59 50 45 20 68 74 6d 6c 20 50 55 42 4c 49 43 20 22 2d 2f 2f 57",
        "content_type_droid": "text/html",
        "links_hosts": [
          "rhn.redhat.com",
          "www.vuxml.org",
          "feedburner.google.com",
          "plus.google.com",
          "access.redhat.com",
          "nixcraft.wufoo.com",
          "forums.freebsd.org",
          "wiki.debian.org",
          "www.openwall.com",
          "s0.cyberciti.org",
          "github.com",
          "ftp.us.debian.org",
          "www.vicidial.org",
          "www.cyberciti.biz",
          "facebook.com",
          "old-releases.ubuntu.com",
          "www.facebook.com",
          "support.novell.com",
          "bugzilla.redhat.com",
          "twitter.com",
          "bash.cyberciti.biz",
          "youtube.com",
          "security-tracker.debian.org",
          "nixcraft.com",
          "feeds.cyberciti.biz"
        ],
        "links_domains": [
          "debian.org",
          "ubuntu.com",
          "github.com",
          "cyberciti.org",
          "facebook.com",
          "wufoo.com",
          "vicidial.org",
          "google.com",
          "novell.com",
          "vuxml.org",
          "twitter.com",
          "openwall.com",
          "freebsd.org",
          "youtube.com",
          "cyberciti.biz",
          "nixcraft.com",
          "redhat.com"
        ],
        "links_public_suffixes": [
          "com",
          "org",
          "biz"
        ],
        "elements_used": [
          "dt",
          "body",
          "tr",
          "link",
          "div",
          "img",
          "td",
          "br",
          "meta",
          "th",
          "kbd",
          "dd",
          "title",
          "dl",
          "ol",
          "head",
          "h1",
          "h3",
          "h2",
          "ul",
          "form",
          "ins",
          "a",
          "blockquote",
          "abbr",
          "label",
          "code",
          "table",
          "script",
          "li",
          "input",
          "u",
          "strong",
          "textarea",
          "pre",
          "p",
          "html",
          "span"
        ],
        "content_type_tika": "text/html; charset=UTF-8",
        "content_type_full": "text/html; charset=UTF-8",
        "content_type_norm": "html",
        "content_language": "en",
        "ssdeep_hash_bs_768": "GCRFCefLCbaVuqNltUwRd09kWkQGAGmnpx+VhxAF/3+QGg/",
        "ssdeep_hash_bs_1536": "GCRFbjC/EdrQG+npx+Vo+m",
        "ssdeep_hash_ngram_bs_768": "GCRFCefLCbaVuqNltUwRd09kWkQGAGmnpx+VhxAF/3+QGg/",
        "ssdeep_hash_ngram_bs_1536": "GCRFbjC/EdrQG+npx+Vo+m",
        "crawl_dates": [
          "2015-02-27T00:04:42Z"
        ],
        "crawl_years": [
          "2015"
        ],
        "_version_": 1494730971786772500
      },
      {
        "source_file_s": "4.warc.gz@50595",
        "url": "http://www.inetwebsystems.com/js/lib.js",
        "content_type_ext": "js",
        "host": "www.inetwebsystems.com",
        "domain": "inetwebsystems.com",
        "public_suffix": "com",
        "content_type_served": "application/javascript",
        "server": [
          "Microsoft-IIS/8.0",
          "ASP.NET"
        ],
        "content_length": 47906,
        "id": "sha1:EJHL4KQVBMTQNSK6MNIBQURR262ZQVSB/f4XfyCTNqo8ULrPG0Lr3ZQ==",
        "hash": [
          "sha1:EJHL4KQVBMTQNSK6MNIBQURR262ZQVSB"
        ],
        "crawl_date": "2015-02-26T23:55:05Z",
        "crawl_year": "2015",
        "wayback_date": "20150226235505",
        "content": [
          "/* iscroll*/(function (window, doc) { var m = Math, dummyStyle = doc.createElement('div').style, vendor = (function () { var vendors = 't,webkitT,MozT,msT,OT'.split(','), t, i = 0, l = vendors.length; for (; i < l; i++) { t = vendors[i] + 'ransform'; if (t in dummyStyle) { return vendors[i].substr(0, vendors[i].length - 1) } } return false })(), cssVendor = vendor ? '-' + vendor.toLowerCase() + '-' : '', transform = prefixStyle('transform'), transitionProperty = prefixStyle('transitionProperty'), transitionDuration = prefixStyle('transitionDuration'), transformOrigin = prefixStyle('transformOrigin'), transitionTimingFunction = prefixStyle('transitionTimingFunction'), transitionDelay = prefixStyle('transitionDelay'), isAndroid = (/android/gi).test(navigator.appVersion), isIDevice = (/iphone|ipad/gi).test(navigator.appVersion), isTouchPad = (/hp-tablet/gi).test(navigator.appVersion), has3d = prefixStyle('perspective') in dummyStyle, hasTouch = 'ontouchstart' in window && !isTouchPad, hasTransform = vendor !== false, hasTransitionEnd = prefixStyle('transition') in dummyStyle, RESIZE_EV = 'onorientationchange' in window ? 'orientationchange' : 'resize', START_EV = hasTouch ? 'touchstart' : 'mousedown', MOVE_EV = hasTouch ? 'touchmove' : 'mousemove', END_EV = hasTouch ? 'touchend' : 'mouseup', CANCEL_EV = hasTouch ? 'touchcancel' : 'mouseup', TRNEND_EV = (function () { if (vendor === false) return false; var transitionEnd = { '': 'transitionend', 'webkit': 'webkitTransitionEnd', 'Moz': 'transitionend', 'O': 'otransitionend', 'ms': 'MSTransitionEnd' }; return transitionEnd[vendor] })(), nextFrame = (function () { return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) { return setTimeout(callback, 1) } })(), cancelFrame = (function () { return window.cancelRequestAnimationFrame || window.webkitCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || clearTimeout })(), translateZ = has3d ? ' translateZ(0)' : '', iScroll = function (el, options) { var that = this, i; that.wrapper = typeof el == 'object' ? el : doc.getElementById(el); that.wrapper.style.overflow = 'hidden'; that.scroller = that.wrapper.children[0]; that.options = { hScroll: true, vScroll: true, x: 0, y: 0, bounce: true, bounceLock: false, momentum: true, lockDirection: true, useTransform: true, useTransition: false, topOffset: 0, checkDOMChanges: false, handleClick: true, hScrollbar: true, vScrollbar: true, fixedScrollbar: isAndroid, hideScrollbar: isIDevice, fadeScrollbar: isIDevice && has3d, scrollbarClass: '', zoom: false, zoomMin: 1, zoomMax: 4, doubleTapZoom: 2, wheelAction: 'scroll', snap: false, snapThreshold: 1, onRefresh: null, onBeforeScrollStart: function (e) { e.preventDefault() }, onScrollStart: null, onBeforeScrollMove: null, onScrollMove: null, onBeforeScrollEnd: null, onScrollEnd: null, onTouchEnd: null, onDestroy: null, onZoomStart: null, onZoom: null, onZoomEnd: null }; for (i in options) that.options[i] = options[i]; that.x = that.options.x; that.y = that.options.y; that.options.useTransform = hasTransform && that.options.useTransform; that.options.hScrollbar = that.options.hScroll && that.options.hScrollbar; that.options.vScrollbar = that.options.vScroll && that.options.vScrollbar; that.options.zoom = that.options.useTransform && that.options.zoom; that.options.useTransition = hasTransitionEnd && that.options.useTransition; if (that.options.zoom && isAndroid) { translateZ = '' } that.scroller.style[transitionProperty] = that.options.useTransform ? cssVendor + 'transform' : 'top left'; that.scroller.style[transitionDuration] = '0'; that.scroller.style[transformOrigin] = '0 0'; if (that.options.useTransition) that.scroller.style[transitionTimingFunction] = 'cubic-bezier(0.33,0.66,0.66,1)'; if (that.options.useTransform) that.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px)' + translateZ; else that.scroller.style.cssText += ';position:absolute;top:' + that.y + 'px;left:' + that.x + 'px'; if (that.options.useTransition) that.options.fixedScrollbar = true; that.refresh(); that._bind(RESIZE_EV, window); that._bind(START_EV); if (!hasTouch) { if (that.options.wheelAction != 'none') { that._bind('DOMMouseScroll'); that._bind('mousewheel') } } if (that.options.checkDOMChanges) that.checkDOMTime = setInterval(function () { that._checkDOMChanges() }, 500) }; iScroll.prototype = { enabled: true, x: 0, y: 0, steps: [], scale: 1, currPageX: 0, currPageY: 0, pagesX: [], pagesY: [], aniTime: null, wheelZoomCount: 0, handleEvent: function (e) { var that = this; switch (e.type) { case START_EV: if (!hasTouch && e.button !== 0) return; that._start(e); break; case MOVE_EV: that._move(e); break; case END_EV: case CANCEL_EV: that._end(e); break; case RESIZE_EV: that._resize(); break; case 'DOMMouseScroll': case 'mousewheel': that._wheel(e); break; case TRNEND_EV: that._transitionEnd(e); break } }, _checkDOMChanges: function () { if (this.moved || this.zoomed || this.animating || (this.scrollerW == this.scroller.offsetWidth * this.scale && this.scrollerH == this.scroller.offsetHeight * this.scale)) return; this.refresh() }, _scrollbar: function (dir) { var that = this, bar; if (!that[dir + 'Scrollbar']) { if (that[dir + 'ScrollbarWrapper']) { if (hasTransform) that[dir + 'ScrollbarIndicator'].style[transform] = ''; that[dir + 'ScrollbarWrapper'].parentNode.removeChild(that[dir + 'ScrollbarWrapper']); that[dir + 'ScrollbarWrapper'] = null; that[dir + 'ScrollbarIndicator'] = null } return } if (!that[dir + 'ScrollbarWrapper']) { bar = doc.createElement('div'); if (that.options.scrollbarClass) bar.className = that.options.scrollbarClass + dir.toUpperCase(); else bar.style.cssText = 'position:absolute;z-index:100;' + (dir == 'h' ? 'height:7px;bottom:1px;left:2px;right:' + (that.vScrollbar ? '7' : '2') + 'px' : 'width:7px;bottom:' + (that.hScrollbar ? '7' : '2') + 'px;top:2px;right:1px'); bar.style.cssText += ';pointer-events:none;' + cssVendor + 'transition-property:opacity;' + cssVendor + 'transition-duration:' + (that.options.fadeScrollbar ? '350ms' : '0') + ';overflow:hidden;opacity:' + (that.options.hideScrollbar ? '0' : '1'); that.wrapper.appendChild(bar); that[dir + 'ScrollbarWrapper'] = bar; bar = doc.createElement('div'); if (!that.options.scrollbarClass) { bar.style.cssText = 'position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);' + cssVendor + 'background-clip:padding-box;' + cssVendor + 'box-sizing:border-box;' + (dir == 'h' ? 'height:100%' : 'width:100%') + ';' + cssVendor + 'border-radius:3px;border-radius:3px' } bar.style.cssText += ';pointer-events:none;' + cssVendor + 'transition-property:' + cssVendor + 'transform;' + cssVendor + 'transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);' + cssVendor + 'transition-duration:0;' + cssVendor + 'transform: translate(0,0)' + translateZ; if (that.options.useTransition) bar.style.cssText += ';' + cssVendor + 'transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)'; that[dir + 'ScrollbarWrapper'].appendChild(bar); that[dir + 'ScrollbarIndicator'] = bar } if (dir == 'h') { that.hScrollbarSize = that.hScrollbarWrapper.clientWidth; that.hScrollbarIndicatorSize = m.max(m.round(that.hScrollbarSize * that.hScrollbarSize / that.scrollerW), 8); that.hScrollbarIndicator.style.width = that.hScrollbarIndicatorSize + 'px'; that.hScrollbarMaxScroll = that.hScrollbarSize - that.hScrollbarIndicatorSize; that.hScrollbarProp = that.hScrollbarMaxScroll / that.maxScrollX } else { that.vScrollbarSize = that.vScrollbarWrapper.clientHeight; that.vScrollbarIndicatorSize = m.max(m.round(that.vScrollbarSize * that.vScrollbarSize / that.scrollerH), 8); that.vScrollbarIndicator.style.height = that.vScrollbarIndicatorSize + 'px'; that.vScrollbarMaxScroll = that.vScrollbarSize - that.vScrollbarIndicatorSize; that.vScrollbarProp = that.vScrollbarMaxScroll / that.maxScrollY } that._scrollbarPos(dir, true) }, _resize: function () { var that = this; setTimeout(function () { that.refresh() }, isAndroid ? 200 : 0) }, _pos: function (x, y) { if (this.zoomed) return; x = this.hScroll ? x : 0; y = this.vScroll ? y : 0; if (this.options.useTransform) { this.scroller.style[transform] = 'translate(' + x + 'px,' + y + 'px) scale(' + this.scale + ')' + translateZ } else { x = m.round(x); y = m.round(y); this.scroller.style.left = x + 'px'; this.scroller.style.top = y + 'px' } this.x = x; this.y = y; this._scrollbarPos('h'); this._scrollbarPos('v') }, _scrollbarPos: function (dir, hidden) { var that = this, pos = dir == 'h' ? that.x : that.y, size; if (!that[dir + 'Scrollbar']) return; pos = that[dir + 'ScrollbarProp'] * pos; if (pos < 0) { if (!that.options.fixedScrollbar) { size = that[dir + 'ScrollbarIndicatorSize'] + m.round(pos * 3); if (size < 8) size = 8; that[dir + 'ScrollbarIndicator'].style[dir == 'h' ? 'width' : 'height'] = size + 'px' } pos = 0 } else if (pos > that[dir + 'ScrollbarMaxScroll']) { if (!that.options.fixedScrollbar) { size = that[dir + 'ScrollbarIndicatorSize'] - m.round((pos - that[dir + 'ScrollbarMaxScroll']) * 3); if (size < 8) size = 8; that[dir + 'ScrollbarIndicator'].style[dir == 'h' ? 'width' : 'height'] = size + 'px'; pos = that[dir + 'ScrollbarMaxScroll'] + (that[dir + 'ScrollbarIndicatorSize'] - size) } else { pos = that[dir + 'ScrollbarMaxScroll'] } } that[dir + 'ScrollbarWrapper'].style[transitionDelay] = '0'; that[dir + 'ScrollbarWrapper'].style.opacity = hidden && that.options.hideScrollbar ? '0' : '1'; that[dir + 'ScrollbarIndicator'].style[transform] = 'translate(' + (dir == 'h' ? pos + 'px,0)' : '0,' + pos + 'px)') + translateZ }, _start: function (e) { var that = this, point = hasTouch ? e.touches[0] : e, matrix, x, y, c1, c2; if (!that.enabled) return; if (that.options.onBeforeScrollStart) that.options.onBeforeScrollStart.call(that, e); if (that.options.useTransition || that.options.zoom) that._transitionTime(0); that.moved = false; that.animating = false; that.zoomed = false; that.distX = 0; that.distY = 0; that.absDistX = 0; that.absDistY = 0; that.dirX = 0; that.dirY = 0; if (that.options.zoom && hasTouch && e.touches.length > 1) { c1 = m.abs(e.touches[0].pageX - e.touches[1].pageX); c2 = m.abs(e.touches[0].pageY - e.touches[1].pageY); that.touchesDistStart = m.sqrt(c1 * c1 + c2 * c2); that.originX = m.abs(e.touches[0].pageX + e.touches[1].pageX - that.wrapperOffsetLeft * 2) / 2 - that.x; that.originY = m.abs(e.touches[0].pageY + e.touches[1].pageY - that.wrapperOffsetTop * 2) / 2 - that.y; if (that.options.onZoomStart) that.options.onZoomStart.call(that, e) } if (that.options.momentum) { if (that.options.useTransform) { matrix = getComputedStyle(that.scroller, null)[transform].replace(/[^0-9\\-.,]/g, '').split(','); x = +(matrix[12] || matrix[4]); y = +(matrix[13] || matrix[5]) } else { x = +getComputedStyle(that.scroller, null).left.replace(/[^0-9-]/g, ''); y = +getComputedStyle(that.scroller, null).top.replace(/[^0-9-]/g, '') } if (x != that.x || y != that.y) { if (that.options.useTransition) that._unbind(TRNEND_EV); else cancelFrame(that.aniTime); that.steps = []; that._pos(x, y); if (that.options.onScrollEnd) that.options.onScrollEnd.call(that) } } that.absStartX = that.x; that.absStartY = that.y; that.startX = that.x; that.startY = that.y; that.pointX = point.pageX; that.pointY = point.pageY; that.startTime = e.timeStamp || Date.now(); if (that.options.onScrollStart) that.options.onScrollStart.call(that, e); that._bind(MOVE_EV, window); that._bind(END_EV, window); that._bind(CANCEL_EV, window) }, _move: function (e) { var that = this, point = hasTouch ? e.touches[0] : e, deltaX = point.pageX - that.pointX, deltaY = point.pageY - that.pointY, newX = that.x + deltaX, newY = that.y + deltaY, c1, c2, scale, timestamp = e.timeStamp || Date.now(); if (that.options.onBeforeScrollMove) that.options.onBeforeScrollMove.call(that, e); if (that.options.zoom && hasTouch && e.touches.length > 1) { c1 = m.abs(e.touches[0].pageX - e.touches[1].pageX); c2 = m.abs(e.touches[0].pageY - e.touches[1].pageY); that.touchesDist = m.sqrt(c1 * c1 + c2 * c2); that.zoomed = true; scale = 1 / that.touchesDistStart * that.touchesDist * this.scale; if (scale < that.options.zoomMin) scale = 0.5 * that.options.zoomMin * Math.pow(2.0, scale / that.options.zoomMin); else if (scale > that.options.zoomMax) scale = 2.0 * that.options.zoomMax * Math.pow(0.5, that.options.zoomMax / scale); that.lastScale = scale / this.scale; newX = this.originX - this.originX * that.lastScale + this.x; newY = this.originY - this.originY * that.lastScale + this.y; this.scroller.style[transform] = 'translate(' + newX + 'px,' + newY + 'px) scale(' + scale + ')' + translateZ; if (that.options.onZoom) that.options.onZoom.call(that, e); return } that.pointX = point.pageX; that.pointY = point.pageY; if (newX > 0 || newX < that.maxScrollX) { newX = that.options.bounce ? that.x + (deltaX / 2) : newX >= 0 || that.maxScrollX >= 0 ? 0 : that.maxScrollX } if (newY > that.minScrollY || newY < that.maxScrollY) { newY = that.options.bounce ? that.y + (deltaY / 2) : newY >= that.minScrollY || that.maxScrollY >= 0 ? that.minScrollY : that.maxScrollY } that.distX += deltaX; that.distY += deltaY; that.absDistX = m.abs(that.distX); that.absDistY = m.abs(that.distY); if (that.absDistX < 6 && that.absDistY < 6) { return } if (that.options.lockDirection) { if (that.absDistX > that.absDistY + 5) { newY = that.y; deltaY = 0 } else if (that.absDistY > that.absDistX + 5) { newX = that.x; deltaX = 0 } } that.moved = true; that._pos(newX, newY); that.dirX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0; that.dirY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0; if (timestamp - that.startTime > 300) { that.startTime = timestamp; that.startX = that.x; that.startY = that.y } if (that.options.onScrollMove) that.options.onScrollMove.call(that, e) }, _end: function (e) { if (hasTouch && e.touches.length !== 0) return; var that = this, point = hasTouch ? e.changedTouches[0] : e, target, ev, momentumX = { dist: 0, time: 0 }, momentumY = { dist: 0, time: 0 }, duration = (e.timeStamp || Date.now()) - that.startTime, newPosX = that.x, newPosY = that.y, distX, distY, newDuration, snap, scale; that._unbind(MOVE_EV, window); that._unbind(END_EV, window); that._unbind(CANCEL_EV, window); if (that.options.onBeforeScrollEnd) that.options.onBeforeScrollEnd.call(that, e); if (that.zoomed) { scale = that.scale * that.lastScale; scale = Math.max(that.options.zoomMin, scale); scale = Math.min(that.options.zoomMax, scale); that.lastScale = scale / that.scale; that.scale = scale; that.x = that.originX - that.originX * that.lastScale + that.x; that.y = that.originY - that.originY * that.lastScale + that.y; that.scroller.style[transitionDuration] = '200ms'; that.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px) scale(' + that.scale + ')' + translateZ; that.zoomed = false; that.refresh(); if (that.options.onZoomEnd) that.options.onZoomEnd.call(that, e); return } if (!that.moved) { if (hasTouch) { if (that.doubleTapTimer && that.options.zoom) { clearTimeout(that.doubleTapTimer); that.doubleTapTimer = null; if (that.options.onZoomStart) that.options.onZoomStart.call(that, e); that.zoom(that.pointX, that.pointY, that.scale == 1 ? that.options.doubleTapZoom : 1); if (that.options.onZoomEnd) { setTimeout(function () { that.options.onZoomEnd.call(that, e) }, 200) } } else if (this.options.handleClick) { that.doubleTapTimer = setTimeout(function () { that.doubleTapTimer = null; target = point.target; while (target.nodeType != 1) target = target.parentNode; if (target.tagName != 'SELECT' && target.tagName != 'INPUT' && target.tagName != 'TEXTAREA') { ev = doc.createEvent('MouseEvents'); ev.initMouseEvent('click', true, true, e.view, 1, point.screenX, point.screenY, point.clientX, point.clientY, e.ctrlKey, e.altKey, e.shiftKey, e.metaKey, 0, null); ev._fake = true; target.dispatchEvent(ev) } }, that.options.zoom ? 250 : 0) } } that._resetPos(400); if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e); return } if (duration < 300 && that.options.momentum) { momentumX = newPosX ? that._momentum(newPosX - that.startX, duration, -that.x, that.scrollerW - that.wrapperW + that.x, that.options.bounce ? that.wrapperW : 0) : momentumX; momentumY = newPosY ? that._momentum(newPosY - that.startY, duration, -that.y, (that.maxScrollY < 0 ? that.scrollerH - that.wrapperH + that.y - that.minScrollY : 0), that.options.bounce ? that.wrapperH : 0) : momentumY; newPosX = that.x + momentumX.dist; newPosY = that.y + momentumY.dist; if ((that.x > 0 && newPosX > 0) || (that.x < that.maxScrollX && newPosX < that.maxScrollX)) momentumX = { dist: 0, time: 0 }; if ((that.y > that.minScrollY && newPosY > that.minScrollY) || (that.y < that.maxScrollY && newPosY < that.maxScrollY)) momentumY = { dist: 0, time: 0} } if (momentumX.dist || momentumY.dist) { newDuration = m.max(m.max(momentumX.time, momentumY.time), 10); if (that.options.snap) { distX = newPosX - that.absStartX; distY = newPosY - that.absStartY; if (m.abs(distX) < that.options.snapThreshold && m.abs(distY) < that.options.snapThreshold) { that.scrollTo(that.absStartX, that.absStartY, 200) } else { snap = that._snap(newPosX, newPosY); newPosX = snap.x; newPosY = snap.y; newDuration = m.max(snap.time, newDuration) } } that.scrollTo(m.round(newPosX), m.round(newPosY), newDuration); if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e); return } if (that.options.snap) { distX = newPosX - that.absStartX; distY = newPosY - that.absStartY; if (m.abs(distX) < that.options.snapThreshold && m.abs(distY) < that.options.snapThreshold) that.scrollTo(that.absStartX, that.absStartY, 200); else { snap = that._snap(that.x, that.y); if (snap.x != that.x || snap.y != that.y) that.scrollTo(snap.x, snap.y, snap.time) } if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e); return } that._resetPos(200); if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e) }, _resetPos: function (time) { var that = this, resetX = that.x >= 0 ? 0 : that.x < that.maxScrollX ? that.maxScrollX : that.x, resetY = that.y >= that.minScrollY || that.maxScrollY > 0 ? that.minScrollY : that.y < that.maxScrollY ? that.maxScrollY : that.y; if (resetX == that.x && resetY == that.y) { if (that.moved) { that.moved = false; if (that.options.onScrollEnd) that.options.onScrollEnd.call(that) } if (that.hScrollbar && that.options.hideScrollbar) { if (vendor == 'webkit') that.hScrollbarWrapper.style[transitionDelay] = '300ms'; that.hScrollbarWrapper.style.opacity = '0' } if (that.vScrollbar && that.options.hideScrollbar) { if (vendor == 'webkit') that.vScrollbarWrapper.style[transitionDelay] = '300ms'; that.vScrollbarWrapper.style.opacity = '0' } return } that.scrollTo(resetX, resetY, time || 0) }, _wheel: function (e) { var that = this, wheelDeltaX, wheelDeltaY, deltaX, deltaY, deltaScale; if ('wheelDeltaX' in e) { wheelDeltaX = e.wheelDeltaX / 12; wheelDeltaY = e.wheelDeltaY / 12 } else if ('wheelDelta' in e) { wheelDeltaX = wheelDeltaY = e.wheelDelta / 12 } else if ('detail' in e) { wheelDeltaX = wheelDeltaY = -e.detail * 3 } else { return } if (that.options.wheelAction == 'zoom') { deltaScale = that.scale * Math.pow(2, 1 / 3 * (wheelDeltaY ? wheelDeltaY / Math.abs(wheelDeltaY) : 0)); if (deltaScale < that.options.zoomMin) deltaScale = that.options.zoomMin; if (deltaScale > that.options.zoomMax) deltaScale = that.options.zoomMax; if (deltaScale != that.scale) { if (!that.wheelZoomCount && that.options.onZoomStart) that.options.onZoomStart.call(that, e); that.wheelZoomCount++; that.zoom(e.pageX, e.pageY, deltaScale, 400); setTimeout(function () { that.wheelZoomCount--; if (!that.wheelZoomCount && that.options.onZoomEnd) that.options.onZoomEnd.call(that, e) }, 400) } return } deltaX = that.x + wheelDeltaX; deltaY = that.y + wheelDeltaY; if (deltaX > 0) deltaX = 0; else if (deltaX < that.maxScrollX) deltaX = that.maxScrollX; if (deltaY > that.minScrollY) deltaY = that.minScrollY; else if (deltaY < that.maxScrollY) deltaY = that.maxScrollY; if (that.maxScrollY < 0) { that.scrollTo(deltaX, deltaY, 0) } }, _transitionEnd: function (e) { var that = this; if (e.target != that.scroller) return; that._unbind(TRNEND_EV); that._startAni() }, _startAni: function () { var that = this, startX = that.x, startY = that.y, startTime = Date.now(), step, easeOut, animate; if (that.animating) return; if (!that.steps.length) { that._resetPos(400); return } step = that.steps.shift(); if (step.x == startX && step.y == startY) step.time = 0; that.animating = true; that.moved = true; if (that.options.useTransition) { that._transitionTime(step.time); that._pos(step.x, step.y); that.animating = false; if (step.time) that._bind(TRNEND_EV); else that._resetPos(0); return } animate = function () { var now = Date.now(), newX, newY; if (now >= startTime + step.time) { that._pos(step.x, step.y); that.animating = false; if (that.options.onAnimationEnd) that.options.onAnimationEnd.call(that); that._startAni(); return } now = (now - startTime) / step.time - 1; easeOut = m.sqrt(1 - now * now); newX = (step.x - startX) * easeOut + startX; newY = (step.y - startY) * easeOut + startY; that._pos(newX, newY); if (that.animating) that.aniTime = nextFrame(animate) }; animate() }, _transitionTime: function (time) { time += 'ms'; this.scroller.style[transitionDuration] = time; if (this.hScrollbar) this.hScrollbarIndicator.style[transitionDuration] = time; if (this.vScrollbar) this.vScrollbarIndicator.style[transitionDuration] = time }, _momentum: function (dist, time, maxDistUpper, maxDistLower, size) { var deceleration = 0.0006, speed = m.abs(dist) / time, newDist = (speed * speed) / (2 * deceleration), newTime = 0, outsideDist = 0; if (dist > 0 && newDist > maxDistUpper) { outsideDist = size / (6 / (newDist / speed * deceleration)); maxDistUpper = maxDistUpper + outsideDist; speed = speed * maxDistUpper / newDist; newDist = maxDistUpper } else if (dist < 0 && newDist > maxDistLower) { outsideDist = size / (6 / (newDist / speed * deceleration)); maxDistLower = maxDistLower + outsideDist; speed = speed * maxDistLower / newDist; newDist = maxDistLower } newDist = newDist * (dist < 0 ? -1 : 1); newTime = speed / deceleration; return { dist: newDist, time: m.round(newTime)} }, _offset: function (el) { var left = -el.offsetLeft, top = -el.offsetTop; while (el = el.offsetParent) { left -= el.offsetLeft; top -= el.offsetTop } if (el != this.wrapper) { left *= this.scale; top *= this.scale } return { left: left, top: top} }, _snap: function (x, y) { var that = this, i, l, page, time, sizeX, sizeY; page = that.pagesX.length - 1; for (i = 0, l = that.pagesX.length; i < l; i++) { if (x >= that.pagesX[i]) { page = i; break } } if (page == that.currPageX && page > 0 && that.dirX < 0) page--; x = that.pagesX[page]; sizeX = m.abs(x - that.pagesX[that.currPageX]); sizeX = sizeX ? m.abs(that.x - x) / sizeX * 500 : 0; that.currPageX = page; page = that.pagesY.length - 1; for (i = 0; i < page; i++) { if (y >= that.pagesY[i]) { page = i; break } } if (page == that.currPageY && page > 0 && that.dirY < 0) page--; y = that.pagesY[page]; sizeY = m.abs(y - that.pagesY[that.currPageY]); sizeY = sizeY ? m.abs(that.y - y) / sizeY * 500 : 0; that.currPageY = page; time = m.round(m.max(sizeX, sizeY)) || 200; return { x: x, y: y, time: time} }, _bind: function (type, el, bubble) { (el || this.scroller).addEventListener(type, this, !!bubble) }, _unbind: function (type, el, bubble) { (el || this.scroller).removeEventListener(type, this, !!bubble) }, destroy: function () { var that = this; that.scroller.style[transform] = ''; that.hScrollbar = false; that.vScrollbar = false; that._scrollbar('h'); that._scrollbar('v'); that._unbind(RESIZE_EV, window); that._unbind(START_EV); that._unbind(MOVE_EV, window); that._unbind(END_EV, window); that._unbind(CANCEL_EV, window); if (!that.options.hasTouch) { that._unbind('DOMMouseScroll'); that._unbind('mousewheel') } if (that.options.useTransition) that._unbind(TRNEND_EV); if (that.options.checkDOMChanges) clearInterval(that.checkDOMTime); if (that.options.onDestroy) that.options.onDestroy.call(that) }, refresh: function () { var that = this, offset, i, l, els, pos = 0, page = 0; if (that.scale < that.options.zoomMin) that.scale = that.options.zoomMin; that.wrapperW = that.wrapper.clientWidth || 1; that.wrapperH = that.wrapper.clientHeight || 1; that.minScrollY = -that.options.topOffset || 0; that.scrollerW = m.round(that.scroller.offsetWidth * that.scale); that.scrollerH = m.round((that.scroller.offsetHeight + that.minScrollY) * that.scale); that.maxScrollX = that.wrapperW - that.scrollerW; that.maxScrollY = that.wrapperH - that.scrollerH + that.minScrollY; that.dirX = 0; that.dirY = 0; if (that.options.onRefresh) that.options.onRefresh.call(that); that.hScroll = that.options.hScroll && that.maxScrollX < 0; that.vScroll = that.options.vScroll && (!that.options.bounceLock && !that.hScroll || that.scrollerH > that.wrapperH); that.hScrollbar = that.hScroll && that.options.hScrollbar; that.vScrollbar = that.vScroll && that.options.vScrollbar && that.scrollerH > that.wrapperH; offset = that._offset(that.wrapper); that.wrapperOffsetLeft = -offset.left; that.wrapperOffsetTop = -offset.top; if (typeof that.options.snap == 'string') { that.pagesX = []; that.pagesY = []; els = that.scroller.querySelectorAll(that.options.snap); for (i = 0, l = els.length; i < l; i++) { pos = that._offset(els[i]); pos.left += that.wrapperOffsetLeft; pos.top += that.wrapperOffsetTop; that.pagesX[i] = pos.left < that.maxScrollX ? that.maxScrollX : pos.left * that.scale; that.pagesY[i] = pos.top < that.maxScrollY ? that.maxScrollY : pos.top * that.scale } } else if (that.options.snap) { that.pagesX = []; while (pos >= that.maxScrollX) { that.pagesX[page] = pos; pos = pos - that.wrapperW; page++ } if (that.maxScrollX % that.wrapperW) that.pagesX[that.pagesX.length] = that.maxScrollX - that.pagesX[that.pagesX.length - 1] + that.pagesX[that.pagesX.length - 1]; pos = 0; page = 0; that.pagesY = []; while (pos >= that.maxScrollY) { that.pagesY[page] = pos; pos = pos - that.wrapperH; page++ } if (that.maxScrollY % that.wrapperH) that.pagesY[that.pagesY.length] = that.maxScrollY - that.pagesY[that.pagesY.length - 1] + that.pagesY[that.pagesY.length - 1] } that._scrollbar('h'); that._scrollbar('v'); if (!that.zoomed) { that.scroller.style[transitionDuration] = '0'; that._resetPos(400) } }, scrollTo: function (x, y, time, relative) { var that = this, step = x, i, l; that.stop(); if (!step.length) step = [{ x: x, y: y, time: time, relative: relative}]; for (i = 0, l = step.length; i < l; i++) { if (step[i].relative) { step[i].x = that.x - step[i].x; step[i].y = that.y - step[i].y } that.steps.push({ x: step[i].x, y: step[i].y, time: step[i].time || 0 }) } that._startAni() }, scrollToElement: function (el, time) { var that = this, pos; el = el.nodeType ? el : that.scroller.querySelector(el); if (!el) return; pos = that._offset(el); pos.left += that.wrapperOffsetLeft; pos.top += that.wrapperOffsetTop; pos.left = pos.left > 0 ? 0 : pos.left < that.maxScrollX ? that.maxScrollX : pos.left; pos.top = pos.top > that.minScrollY ? that.minScrollY : pos.top < that.maxScrollY ? that.maxScrollY : pos.top; time = time === undefined ? m.max(m.abs(pos.left) * 2, m.abs(pos.top) * 2) : time; that.scrollTo(pos.left, pos.top, time) }, scrollToPage: function (pageX, pageY, time) { var that = this, x, y; time = time === undefined ? 400 : time; if (that.options.onScrollStart) that.options.onScrollStart.call(that); if (that.options.snap) { pageX = pageX == 'next' ? that.currPageX + 1 : pageX == 'prev' ? that.currPageX - 1 : pageX; pageY = pageY == 'next' ? that.currPageY + 1 : pageY == 'prev' ? that.currPageY - 1 : pageY; pageX = pageX < 0 ? 0 : pageX > that.pagesX.length - 1 ? that.pagesX.length - 1 : pageX; pageY = pageY < 0 ? 0 : pageY > that.pagesY.length - 1 ? that.pagesY.length - 1 : pageY; that.currPageX = pageX; that.currPageY = pageY; x = that.pagesX[pageX]; y = that.pagesY[pageY] } else { x = -that.wrapperW * pageX; y = -that.wrapperH * pageY; if (x < that.maxScrollX) x = that.maxScrollX; if (y < that.maxScrollY) y = that.maxScrollY } that.scrollTo(x, y, time) }, disable: function () { this.stop(); this._resetPos(0); this.enabled = false; this._unbind(MOVE_EV, window); this._unbind(END_EV, window); this._unbind(CANCEL_EV, window) }, enable: function () { this.enabled = true }, stop: function () { if (this.options.useTransition) this._unbind(TRNEND_EV); else cancelFrame(this.aniTime); this.steps = []; this.moved = false; this.animating = false }, zoom: function (x, y, scale, time) { var that = this, relScale = scale / that.scale; if (!that.options.useTransform) return; that.zoomed = true; time = time === undefined ? 200 : time; x = x - that.wrapperOffsetLeft - that.x; y = y - that.wrapperOffsetTop - that.y; that.x = x - x * relScale + that.x; that.y = y - y * relScale + that.y; that.scale = scale; that.refresh(); that.x = that.x > 0 ? 0 : that.x < that.maxScrollX ? that.maxScrollX : that.x; that.y = that.y > that.minScrollY ? that.minScrollY : that.y < that.maxScrollY ? that.maxScrollY : that.y; that.scroller.style[transitionDuration] = time + 'ms'; that.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px) scale(' + scale + ')' + translateZ; that.zoomed = false }, isReady: function () { return !this.moved && !this.zoomed && !this.animating } }; function prefixStyle(style) { if (vendor === '') return style; style = style.charAt(0).toUpperCase() + style.substr(1); return vendor + style } dummyStyle = null; if (typeof exports !== 'undefined') exports.iScroll = iScroll; else window.iScroll = iScroll })(window, document);/* jq.mousewheel */(function (factory) { if (typeof define === 'function' && define.amd) { define(['jquery'], factory) } else if (typeof exports === 'object') { module.exports = factory } else { factory(jQuery) } }(function ($) { var toFix = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll']; var toBind = 'onwheel' in document || document.documentMode >= 9 ? ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll']; var lowestDelta, lowestDeltaXY; if ($.event.fixHooks) { for (var i = toFix.length; i;) { $.event.fixHooks[toFix[--i]] = $.event.mouseHooks } } $.event.special.mousewheel = { setup: function () { if (this.addEventListener) { for (var i = toBind.length; i;) { this.addEventListener(toBind[--i], handler, false) } } else { this.onmousewheel = handler } }, teardown: function () { if (this.removeEventListener) { for (var i = toBind.length; i;) { this.removeEventListener(toBind[--i], handler, false) } } else { this.onmousewheel = null } } }; $.fn.extend({ mousewheel: function (fn) { return fn ? this.bind(\"mousewheel\", fn) : this.trigger(\"mousewheel\") }, unmousewheel: function (fn) { return this.unbind(\"mousewheel\", fn) } }); function handler(event) { var orgEvent = event || window.event, args = [].slice.call(arguments, 1), delta = 0, deltaX = 0, deltaY = 0, absDelta = 0, absDeltaXY = 0, fn; event = $.event.fix(orgEvent); event.type = \"mousewheel\"; if (orgEvent.wheelDelta) { delta = orgEvent.wheelDelta } if (orgEvent.detail) { delta = orgEvent.detail * -1 } if (orgEvent.deltaY) { deltaY = orgEvent.deltaY * -1; delta = deltaY } if (orgEvent.deltaX) { deltaX = orgEvent.deltaX; delta = deltaX * -1 } if (orgEvent.wheelDeltaY !== undefined) { deltaY = orgEvent.wheelDeltaY } if (orgEvent.wheelDeltaX !== undefined) { deltaX = orgEvent.wheelDeltaX * -1 } absDelta = Math.abs(delta); if (!lowestDelta || absDelta < lowestDelta) { lowestDelta = absDelta } absDeltaXY = Math.max(Math.abs(deltaY), Math.abs(deltaX)); if (!lowestDeltaXY || absDeltaXY < lowestDeltaXY) { lowestDeltaXY = absDeltaXY } fn = delta > 0 ? 'floor' : 'ceil'; delta = Math[fn](delta / lowestDelta); deltaX = Math[fn](deltaX / lowestDeltaXY); deltaY = Math[fn](deltaY / lowestDeltaXY); args.unshift(event, delta, deltaX, deltaY); return ($.event.dispatch || $.event.handle).apply(this, args) } }));/*parallax*/if (!jQuery.event.special.frame) { (function (d, h) { function i(a, b) { function e() { f.frameCount++; a.call(f) } var f = this, g; this.frameDuration = b || 25; this.frameCount = -1; this.start = function () { e(); g = setInterval(e, this.frameDuration) }; this.stop = function () { clearInterval(g); g = null } } function j() { var a = d.event.special.frame.handler, b = d.Event(\"frame\"), e = this.array, f = e.length; for (b.frameCount = this.frameCount; f--;) a.call(e[f], b) } var c; if (!d.event.special.frame) d.event.special.frame = { setup: function (a) { if (c) c.array.push(this); else { c = new i(j, a && a.frameDuration); c.array = [this]; var b = setTimeout(function () { c.start(); clearTimeout(b); b = null }, 0) } }, teardown: function () { for (var a = c.array, b = a.length; b--;) if (a[b] === this) { a.splice(b, 1); break } if (a.length === 0) { c.stop(); c = h } }, handler: function () { d.event.handle.apply(this, arguments) } } })(jQuery) } (function (l, t) { function y(i) { return this.lib[i] } function q(i) { return typeof i === \"boolean\" ? i : !!parseFloat(i) } function r(i, b) { var k = [q(i.xparallax), q(i.yparallax)]; this.ontarget = false; this.decay = i.decay; this.pointer = b || [0.5, 0.5]; this.update = function (e, a) { if (this.ontarget) this.pointer = e; else if ((!k[0] || u(e[0] - this.pointer[0]) < a[0]) && (!k[1] || u(e[1] - this.pointer[1]) < a[1])) { this.ontarget = true; this.pointer = e } else { a = []; for (var g = 2; g--;) if (k[g]) a[g] = e[g] + this.decay * (this.pointer[g] - e[g]); this.pointer = a } } } function z(i, b) { var k = this, e = i instanceof l ? i : l(i), a = [q(b.xparallax), q(b.yparallax)], g = 0, d; this.pointer = [0, 0]; this.active = false; this.activeOutside = b && b.activeOutside || false; this.update = function (h) { var j = this.pos, c = this.size, f = [], m = 2; if (g > 0) { if (g === 2) { g = 0; if (d) h = d } for (; m--;) if (a[m]) { f[m] = (h[m] - j[m]) / c[m]; f[m] = f[m] < 0 ? 0 : f[m] > 1 ? 1 : f[m] } this.active = true; this.pointer = f } else this.active = false }; this.updateSize = function () { var h = e.width(), j = e.height(); k.size = [h, j]; k.threshold = [1 / h, 1 / j] }; this.updatePos = function () { var h = e.offset() || { left: 0, top: 0 }, j = parseInt(e.css(\"borderLeftWidth\")) + parseInt(e.css(\"paddingLeft\")), c = parseInt(e.css(\"borderTopWidth\")) + parseInt(e.css(\"paddingTop\")); k.pos = [h.left + j, h.top + c] }; l(window).bind(\"resize\", k.updateSize).bind(\"resize\", k.updatePos); e.bind(\"mouseenter\", function () { g = 1 }).bind(\"mouseleave\", function (h) { g = 2; d = [h.pageX, h.pageY] }); this.updateSize(); this.updatePos() } function A(i, b) { var k = [], e = [], a = [], g = []; this.update = function (d) { for (var h = [], j, c, f = 2, m = {}; f--;) if (e[f]) { h[f] = e[f] * d[f] + a[f]; if (k[f]) { j = g[f]; c = h[f] * -1 } else { j = h[f] * 100 + \"%\"; c = h[f] * this.size[f] * -1 } if (f === 0) { m.left = j; m.marginLeft = c } else { m.top = j; m.marginTop = c } } i.css(m) }; this.setParallax = function (d, h, j, c) { d = [d || b.xparallax, h || b.yparallax]; j = [j || b.xorigin, c || b.yorigin]; for (c = 2; c--;) { k[c] = o.px.test(d[c]); if (typeof j[c] === \"string\") j[c] = o.percent.test(j[c]) ? parseFloat(j[c]) / 100 : v[j[c]] || 1; if (k[c]) { e[c] = parseInt(d[c]); a[c] = j[c] * (this.size[c] - e[c]); g[c] = j[c] * 100 + \"%\" } else { e[c] = d[c] === true ? 1 : o.percent.test(d[c]) ? parseFloat(d[c]) / 100 : d[c]; a[c] = e[c] ? j[c] * (1 - e[c]) : 0 } } }; this.getPointer = function () { for (var d = i.offsetParent(), h = i.position(), j = [], c = [], f = 2; f--;) { j[f] = k[f] ? 0 : h[f === 0 ? \"left\" : \"top\"] / (d[f === 0 ? \"outerWidth\" : \"outerHeight\"]() - this.size[f]); c[f] = (j[f] - a[f]) / e[f] } return c }; this.setSize = function (d, h) { this.size = [d || i.outerWidth(), h || i.outerHeight()] }; this.setSize(b.width, b.height); this.setParallax(b.xparallax, b.yparallax, b.xorigin, b.yorigin) } function s(i) { var b = l(this), k = i.data, e = b.data(n), a = k.port, g = k.mouse, d = e.mouse; if (k.timeStamp !== i.timeStamp) { k.timeStamp = i.timeStamp; a.update(w); if (a.active || !g.ontarget) g.update(a.pointer, a.threshold) } if (d) { d.update(e.freeze ? e.freeze.pointer : a.pointer, a.threshold); if (d.ontarget) { delete e.mouse; e.freeze && b.unbind(p).addClass(k.freezeClass) } g = d } else g.ontarget && !a.active && b.unbind(p); e.layer.update(g.pointer) } var n = \"parallax\", x = { mouseport: \"body\", xparallax: true, yparallax: true, xorigin: 0.5, yorigin: 0.5, decay: 0.66, frameDuration: 30, freezeClass: \"freeze\" }, v = { left: 0, top: 0, middle: 0.5, center: 0.5, right: 1, bottom: 1 }, o = { px: /^\\d+\\s?px$/, percent: /^\\d+\\s?%$/ }, p = \"frame.\" + n, u = Math.abs, w = [0, 0]; y.lib = v; l.fn[n] = function (i) { var b = l.extend({}, l.fn[n].options, i), k = arguments, e = this; if (!(b.mouseport instanceof l)) b.mouseport = l(b.mouseport); b.port = new z(b.mouseport, b); b.mouse = new r(b); b.mouseport.bind(\"mouseenter\", function () { b.mouse.ontarget = false; e.each(function () { var a = l(this); a.data(n).freeze || a.bind(p, b, s) }) }); return e.bind(\"freeze\", function (a) { var g = l(this), d = g.data(n), h = d.mouse || d.freeze || b.mouse, j = o.percent.exec(a.x) ? parseFloat(a.x.replace(/%$/, \"\")) / 100 : a.x || h.pointer[0], c = o.percent.exec(a.y) ? parseFloat(a.y.replace(/%$/, \"\")) / 100 : a.y || h.pointer[1]; a = a.decay; d.freeze = { pointer: [j, c] }; d.mouse = new r(b, h.pointer); if (a !== t) d.mouse.decay = a; g.bind(p, b, s) }).bind(\"unfreeze\", function (a) { var g = l(this), d = g.data(n); a = a.decay; var h; if (d.freeze) { h = d.mouse ? d.mouse.pointer : d.freeze.pointer; d.mouse = new r(b); d.mouse.pointer = h; if (a !== t) d.mouse.decay = a; delete d.freeze; g.removeClass(x.freezeClass).bind(p, b, s) } }).each(function (a) { var g = l(this); a = k[a + 1] ? l.extend({}, b, k[a + 1]) : b; var d = new A(g, a); g.data(n, { layer: d, mouse: new r(a, d.getPointer()) }) }) }; l.fn[n].options = x; l(document).ready(function () { l(document).mousemove(function (i) { w = [i.pageX, i.pageY] }) }) })(jQuery);/* browser */var BrowserDetect = { init: function () { this.browser = this.searchString(this.dataBrowser) || \"An unknown browser\"; this.version = this.searchVersion(navigator.userAgent) || this.searchVersion(navigator.appVersion) || \"an unknown version\"; this.OS = this.searchString(this.dataOS) || \"an unknown OS\" }, searchString: function (data) { for (var i = 0; i < data.length; i++) { var dataString = data[i].string; var dataProp = data[i].prop; this.versionSearchString = data[i].versionSearch || data[i].identity; if (dataString) { if (dataString.indexOf(data[i].subString) != -1) return data[i].identity } else if (dataProp) return data[i].identity } }, searchVersion: function (dataString) { var index = dataString.indexOf(this.versionSearchString); if (index == -1) return; return parseFloat(dataString.substring(index + this.versionSearchString.length + 1)) }, dataBrowser: [{ string: navigator.userAgent, subString: \"Chrome\", identity: \"Chrome\" }, { string: navigator.userAgent, subString: \"OmniWeb\", versionSearch: \"OmniWeb/\", identity: \"OmniWeb\" }, { string: navigator.vendor, subString: \"Apple\", identity: \"Safari\", versionSearch: \"Version\" }, { prop: window.opera, identity: \"Opera\", versionSearch: \"Version\" }, { string: navigator.vendor, subString: \"iCab\", identity: \"iCab\" }, { string: navigator.vendor, subString: \"KDE\", identity: \"Konqueror\" }, { string: navigator.userAgent, subString: \"Firefox\", identity: \"Firefox\" }, { string: navigator.vendor, subString: \"Camino\", identity: \"Camino\" }, { string: navigator.userAgent, subString: \"Netscape\", identity: \"Netscape\" }, { string: navigator.userAgent, subString: \"MSIE\", identity: \"Explorer\", versionSearch: \"MSIE\" }, { string: navigator.userAgent, subString: \"Gecko\", identity: \"Mozilla\", versionSearch: \"rv\" }, { string: navigator.userAgent, subString: \"Mozilla\", identity: \"Netscape\", versionSearch: \"Mozilla\"}], dataOS: [{ string: navigator.platform, subString: \"Win\", identity: \"Windows\" }, { string: navigator.platform, subString: \"Mac\", identity: \"Mac\" }, { string: navigator.userAgent, subString: \"iPhone\", identity: \"iPhone/iPod\" }, { string: navigator.platform, subString: \"Linux\", identity: \"Linux\"}] }; BrowserDetect.init();/** In-Field Label jQuery Plugin* http://fuelyourcoding.com/scripts/infield.html** Copyright (c) 2009 Doug Neiner* Dual licensed under the MIT and GPL licenses.* Uses the same license as jQuery, see:* http://docs.jquery.com/License** @version 0.1*/$(function () {$.InFieldLabels = function (b, c, d) {var f = this; f.$label = $(b); f.label = b; f.$field = $(c);f.field = c; f.$label.data(\"InFieldLabels\", f); f.showing = true;f.init = function () {f.options = $.extend({}, $.InFieldLabels.defaultOptions, d);if (f.$field.val() != \"\") { f.$label.hide(); f.showing = false };f.$field.focus(function () { f.fadeOnFocus() }).blur(function () { f.checkForEmpty(true) }).bind('keydown.infieldlabel', function (e) { f.hideOnChange(e) }).change(function (e) { f.checkForEmpty() }).bind('onPropertyChange', function () { f.checkForEmpty() })};f.fadeOnFocus = function () { if (f.showing) { f.setOpacity(f.options.fadeOpacity) } }; f.setOpacity = function (a) {f.$label.stop().animate({ opacity: a }, f.options.fadeDuration); f.showing = (a > 0.0)}; f.checkForEmpty = function (a) {if (f.$field.val() == \"\") {f.prepForShow(); f.setOpacity(a ? 1.0 : f.options.fadeOpacity)} else { f.setOpacity(0.0) }};f.prepForShow = function (e) {if (!f.showing) {f.$label.css({ opacity: 0.0 }).show(); f.$field.bind('keydown.infieldlabel', function (e) {f.hideOnChange(e)})}}; f.hideOnChange = function (e) {if ((e.keyCode == 16) || (e.keyCode == 9)) return; if (f.showing) {f.$label.hide();f.showing = false}; f.$field.unbind('keydown.infieldlabel')}; f.init()}; $.InFieldLabels.defaultOptions = {fadeOpacity: 0.5, fadeDuration: 300}; $.fn.inFieldLabels = function (c) {return this.each(function () {var a = $(this).attr('for');if (!a) return; var b = $(\"input.\" + a + \"[type='text'],\" + \"input.\" + a + \"[type='password'],\" + \"textarea.\" + a); if (b.length == 0) return; (new $.InFieldLabels(this, b[0], c))})}});jQuery.easing.jswing = jQuery.easing.swing; jQuery.extend(jQuery.easing, { def: \"easeOutQuad\", swing: function (e, t, n, r, i) { return jQuery.easing[jQuery.easing.def](e, t, n, r, i) }, easeInQuad: function (e, t, n, r, i) { return r * (t /= i) * t + n }, easeOutQuad: function (e, t, n, r, i) { return -r * (t /= i) * (t - 2) + n }, easeInOutQuad: function (e, t, n, r, i) { if ((t /= i / 2) < 1) { return r / 2 * t * t + n } return -r / 2 * (--t * (t - 2) - 1) + n }, easeInCubic: function (e, t, n, r, i) { return r * (t /= i) * t * t + n }, easeOutCubic: function (e, t, n, r, i) { return r * ((t = t / i - 1) * t * t + 1) + n }, easeInOutCubic: function (e, t, n, r, i) { if ((t /= i / 2) < 1) { return r / 2 * t * t * t + n } return r / 2 * ((t -= 2) * t * t + 2) + n }, easeInQuart: function (e, t, n, r, i) { return r * (t /= i) * t * t * t + n }, easeOutQuart: function (e, t, n, r, i) { return -r * ((t = t / i - 1) * t * t * t - 1) + n }, easeInOutQuart: function (e, t, n, r, i) { if ((t /= i / 2) < 1) { return r / 2 * t * t * t * t + n } return -r / 2 * ((t -= 2) * t * t * t - 2) + n }, easeInQuint: function (e, t, n, r, i) { return r * (t /= i) * t * t * t * t + n }, easeOutQuint: function (e, t, n, r, i) { return r * ((t = t / i - 1) * t * t * t * t + 1) + n }, easeInOutQuint: function (e, t, n, r, i) { if ((t /= i / 2) < 1) { return r / 2 * t * t * t * t * t + n } return r / 2 * ((t -= 2) * t * t * t * t + 2) + n }, easeInSine: function (e, t, n, r, i) { return -r * Math.cos(t / i * (Math.PI / 2)) + r + n }, easeOutSine: function (e, t, n, r, i) { return r * Math.sin(t / i * (Math.PI / 2)) + n }, easeInOutSine: function (e, t, n, r, i) { return -r / 2 * (Math.cos(Math.PI * t / i) - 1) + n }, easeInExpo: function (e, t, n, r, i) { return t == 0 ? n : r * Math.pow(2, 10 * (t / i - 1)) + n }, easeOutExpo: function (e, t, n, r, i) { return t == i ? n + r : r * (-Math.pow(2, -10 * t / i) + 1) + n }, easeInOutExpo: function (e, t, n, r, i) { if (t == 0) { return n } if (t == i) { return n + r } if ((t /= i / 2) < 1) { return r / 2 * Math.pow(2, 10 * (t - 1)) + n } return r / 2 * (-Math.pow(2, -10 * --t) + 2) + n }, easeInCirc: function (e, t, n, r, i) { return -r * (Math.sqrt(1 - (t /= i) * t) - 1) + n }, easeOutCirc: function (e, t, n, r, i) { return r * Math.sqrt(1 - (t = t / i - 1) * t) + n }, easeInOutCirc: function (e, t, n, r, i) { if ((t /= i / 2) < 1) { return -r / 2 * (Math.sqrt(1 - t * t) - 1) + n } return r / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + n }, easeInElastic: function (e, t, n, r, i) { var s = 1.70158; var o = 0; var u = r; if (t == 0) { return n } if ((t /= i) == 1) { return n + r } if (!o) { o = i * .3 } if (u < Math.abs(r)) { u = r; var s = o / 4 } else { var s = o / (2 * Math.PI) * Math.asin(r / u) } return -(u * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * i - s) * 2 * Math.PI / o)) + n }, easeOutElastic: function (e, t, n, r, i) { var s = 1.70158; var o = 0; var u = r; if (t == 0) { return n } if ((t /= i) == 1) { return n + r } if (!o) { o = i * .3 } if (u < Math.abs(r)) { u = r; var s = o / 4 } else { var s = o / (2 * Math.PI) * Math.asin(r / u) } return u * Math.pow(2, -10 * t) * Math.sin((t * i - s) * 2 * Math.PI / o) + r + n }, easeInOutElastic: function (e, t, n, r, i) { var s = 1.70158; var o = 0; var u = r; if (t == 0) { return n } if ((t /= i / 2) == 2) { return n + r } if (!o) { o = i * .3 * 1.5 } if (u < Math.abs(r)) { u = r; var s = o / 4 } else { var s = o / (2 * Math.PI) * Math.asin(r / u) } if (t < 1) { return -.5 * u * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * i - s) * 2 * Math.PI / o) + n } return u * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * i - s) * 2 * Math.PI / o) * .5 + r + n }, easeInBack: function (e, t, n, r, i, s) { if (s == undefined) { s = 1.70158 } return r * (t /= i) * t * ((s + 1) * t - s) + n }, easeOutBack: function (e, t, n, r, i, s) { if (s == undefined) { s = 1.70158 } return r * ((t = t / i - 1) * t * ((s + 1) * t + s) + 1) + n }, easeInOutBack: function (e, t, n, r, i, s) { if (s == undefined) { s = 1.70158 } if ((t /= i / 2) < 1) { return r / 2 * t * t * (((s *= 1.525) + 1) * t - s) + n } return r / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + n }, easeInBounce: function (e, t, n, r, i) { return r - jQuery.easing.easeOutBounce(e, i - t, 0, r, i) + n }, easeOutBounce: function (e, t, n, r, i) { if ((t /= i) < 1 / 2.75) { return r * 7.5625 * t * t + n } else { if (t < 2 / 2.75) { return r * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + n } else { if (t < 2.5 / 2.75) { return r * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + n } else { return r * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + n } } } }, easeInOutBounce: function (e, t, n, r, i) { if (t < i / 2) { return jQuery.easing.easeInBounce(e, t * 2, 0, r, i) * .5 + n } return jQuery.easing.easeOutBounce(e, t * 2 - i, 0, r, i) * .5 + r * .5 + n } })"
        ],
        "content_text_length": 47541,
        "content_type": [
          "text/plain"
        ],
        "content_encoding": "windows-1252",
        "content_ffb": "2f2a2069",
        "content_first_bytes": "2f 2a 20 69 73 63 72 6f 6c 6c 2a 2f 0d 0a 28 66 75 6e 63 74 69 6f 6e 20 28 77 69 6e 64 6f 77 2c",
        "content_type_droid": "application/octet-stream",
        "content_type_tika": "text/plain; charset=windows-1252",
        "content_type_full": "text/plain; charset=windows-1252",
        "content_type_norm": "text",
        "content_language": "en",
        "ssdeep_hash_bs_768": "qcD9pzLTJkw+42zTzMjb1VhLe1y/XC6IFeeV0H9tjzbPfvyQ+U0uwG5HM6dXe",
        "ssdeep_hash_bs_1536": "qcppzLTJkw+42zTzMjb1vLe1y/oFeS0G",
        "ssdeep_hash_ngram_bs_768": "qcD9pzLTJkw+42zTzMjb1VhLe1y/XC6IFeeV0H9tjzbPfvyQ+U0uwG5HM6dXe",
        "ssdeep_hash_ngram_bs_1536": "qcppzLTJkw+42zTzMjb1vLe1y/oFeS0G",
        "crawl_dates": [
          "2015-02-26T23:55:05Z"
        ],
        "crawl_years": [
          "2015"
        ],
        "_version_": 1494731081130180600
      },
      {
        "source_file_s": "103.warc.gz@922",
        "url": "http://www.reddit.com/r/technology/comments/2u0ngk/google_is_bringing_superfast_internet_to_four/",
        "host": "www.reddit.com",
        "domain": "reddit.com",
        "public_suffix": "com",
        "content_type_served": "text/html; charset=UTF-8",
        "server": [
          "cloudflare-nginx"
        ],
        "content_length": 148044,
        "id": "sha1:AVCVZ4QUTTQKAO4PQ7EBQTAWCZRHN43Z/K+isItrKdBF7Oi0vh2tILw==",
        "hash": [
          "sha1:AVCVZ4QUTTQKAO4PQ7EBQTAWCZRHN43Z"
        ],
        "crawl_date": "2015-02-27T00:02:28Z",
        "crawl_year": "2015",
        "wayback_date": "20150227000228",
        "content": [
          "3c05jump to contentmy subredditsannouncementsArtAskRedditaskscienceawwblogbookscreepydataisbeautifulDIYDocumentariesEarthPornexplainlikeimfiveFitnessfoodfunnyFuturologygadgetsgamingGetMotivatedgifshistoryIAmAInternetIsBeautifulJokesLifeProTipslistentothismildlyinterestingmoviesMusicnewsnosleepnottheonionOldSchoolCoolpersonalfinancephilosophyphotoshopbattlespicsscienceShowerthoughtsspacesportstelevisiontifutodayilearnedTwoXChromosomesUpliftingNewsvideosworldnewsWritingPromptsedit subscriptionsfront-all-random |  sports-gadgets-videos-funny-Art-gaming-askscience-books-Documentaries-creepy-DIY-nosleep-listentothis-AskReddit-worldnews-pics-EarthPorn-movies-TwoXChromosomes-WritingPrompts-LifeProTips-space-science-Music-gifs-InternetIsBeautiful-GetMotivated-aww-personalfinance-dataisbeautiful-Futurology-history-photoshopbattles-philosophy-mildlyinteresting-Showerthoughts-tifu-IAmA-Fitness-news-explainlikeimfive-television-UpliftingNews-nottheonion-Jokes-OldSchoolCool-food-todayilearnedmore » technology commentsrelatedother discussions (1)want to join? sign in or create an account in seconds| Englishlimit my search to /r/technologyuse the following search parameters to narrow your results:subreddit:subredditfind submissions in \"subreddit\"author:usernamefind submissions by \"username\"site:example.comfind submissions from \"example.com\"url:textsearch for \"text\" in urlselftext:textsearch for \"text\" in self post contentsself:yes (or self:no)include (or exclude) self postsnsfw:yes (or nsfw:no)include (or exclude) results marked as NSFWe.g. subreddit:aww site:imgur.com dogsee the search faq for details.advanced search: by author, subreddit...this post was submitted on 28 Jan 2015193 points (86% upvoted)shortlink:remember mereset passwordloginSubmit a new linkSubmit a new text posttechnologysubscribeunsubscribe5,103,808 readers2,511 users here nowFilterAllPoliticsPure TechBusinessDiscussionCurrent Topic FiltersNo Net NeutralityNo ComcastRemove FilterWelcome to r/technologyVision/r/technology is a subreddit dedicated to the discussion of all things technology. This subreddit is for technology-related submissions only, but we allow articles which are of a political nature provided they are also significantly related to technology.DefinitionTechnology is the making, modification, usage, and knowledge of tools, machines, techniques, crafts, systems, and methods of organization, in order to solve a problem, improve a pre-existing solution to a problem, achieve a goal, handle an applied input/output relation or perform a specific function. (Wikipedia)*Rules1. Allowed SubmissionsSubmissions must be a technology related article or self post.Self posts must contribute to /r/technology and foster reasonable discussion.Self posts must not be about customer service or complaints.Not allowed:Requests for tech support, asking questions, or asking for help. Try posting these in /r/techsupport and /r/AskTechnology respectively.Meta posts: you can submit these to /r/technologytalk.2. Follow the Rules of RedditAll reddit-wide rules apply here.Reddiquette also applies.3. TitlesLink submissions should use the article's title or a quote describing its content. They must be free of personal opinion and accurately represent the content of the article. Posts that fail to meet these criteria may be removed at moderator discretion.4. No Image or Video SubmissionsThis does not include articles with supporting videos.5. No Mobile SitesThese URLs are usually prepended with \"m.\" or \"mobile.\" Please link to the desktop versions of sites instead.6. No Personal InformationNo personal information or Facebook links.7. No Petitions or SurveysAlso no crowdfunding submissions.TransparencyReformsThe moderators of this subreddit are dedicated to transparency and building trust with the community. /r/technology is currently undergoing reform to increase moderator transparency and openness. Currently implemented reforms:AutomoderatorOur /u/AutoModerator configuration may be viewed here.Submission RemovalsRemoved threads will either be given a removal reason flair or comment response. Please message the moderators if your thread was removed without a reason in the flair or the comments.ModmailWe will answer all legitimate, answerable modmail inquiries to the best of our abilities within a reasonable period of time.Way AheadFurther reforms will be implemented in the coming days, if you have a suggestion please message the moderators.Technical Support CommunitiesAny tech related queries to be posted in/r/techsupport/r/buildapc/r/24hoursupport/r/applehelp/r/linux4noobsRelated Sub-RedditsTechnology relevant Communities/r/Android/r/Apple/r/Blackberry/r/Bitcoin/r/Chrome/r/CompSci/r/Computing/r/Engineering/r/Firefox/r/Futurology/r/Gadgets/r/Geek/r/Google/r/GoogleGlass/r/Hardware/r/ImaginaryTechnology/r/Kickstarter/r/Linux/r/Microsoft/r/Mobile/r/NetSec/r/Privacy/r/Programming/r/Rad_Decentralization/r/RenewableEnergy/r/Software/r/Startups/r/Tech/r/TechnologyPorn/r/Ubuntu/r/Windows/r/WindowsPhoneCreditsCSS & Logoa community for 7 yearsmessage the moderatorsMODERATORSqgyh2ketralnisAutoModeratorX019creqbillyuprotorcowboypreggithazysummerskyGilgamesh-...and 19 more »192193194BusinessGoogle is bringing superfast internet to four cities. Cable companies should be terrified. (vox.com)submitted 16 days ago by User_Name1352 commentssharecancelloading...4000all 52 commentssorted by: bestbesttopnewhotcontroversialoldrandom[–]fluxuate27 24 points25 points26 points 16 days ago (18 children)Until they come to more than just a few cities a year, no one's going to be terrified.permalink[–]subsubquery 11 points12 points13 points 16 days ago* (16 children)Look at the trend:+1: Kansas City+2: San Antonio and Austin+4: This announcementTo not get carried away with the pattern, one thing we can agree on is that Google is getting better and more efficient at this. More revenue is also being put into this \"hobby\" so they'll announce more than a few cities next time.permalinkparent[–]SmiteTheeWithAFish 10 points11 points12 points 15 days ago (13 children)Don't forget that partnership with SpaceX, to launch about 4,000 internet satellites, for a global connection alternative.permalinkparent[–]chrisms150 2 points3 points4 points 15 days ago (11 children)Which, while interesting, would have horrible latency times. So the only people interested in that would be people who don't game, or use their connection for video conferencing into an office or something like that.It would at least cut off some cash flow to the cable companies of users who don't need low pings though.permalinkparent[–]kaibee 1 point2 points3 points 15 days ago (1 child)Actually the plan is to put them in near earth orbit so the latency times wouldn't be horrible. (something like 60-120ms)permalinkparent[–]chrisms150 0 points1 point2 points 15 days ago (0 children)Hmm, 60 is reasonable, but 120 would make gaming unplayable. At least those delays would make average home users fine though so hopefully it'l force the ISPS to actually compete and be better.permalinkparent[–]SmiteTheeWithAFish 0 points1 point2 points 14 days ago* (0 children)Only according to how high up the satellites are.Keep in mind, satellite latency is a four way trip. Your request goes up, then down, then the answer goes up, then down. As well as wherever it bounces around, normally.If they put the satellites up around 500 miles up, like GPS satellites, that's 'normal' + 2000 miles, or about 100ms additional lag.While that would be murder on a video game, it would be relatively benign for typical internet use.I should underscore that they are NOT putting all of these up in geosynchronous orbit. Parking up there is extremely limited. You'll just be connected to whatever satellites are overhead, and connect to additional ones as they move along. Sort of like driving and talking on the phone connects to different cellular towers.Of course, most of the time, they won't be directly overhead. So add some variable ping time for them, according to their relative locations to you, over time.permalinkparent[–]SmiteTheeWithAFish 0 points1 point2 points 14 days ago* (6 children)Another thing you're overlooking is co-hosting+mirroring content on the satellites. I wonder how much SSD storage you could launch with each of them? I'm thinking: LOTS.That would be a 25ms ping time (give or take) from surface to satellite, at 500 miles up. That's better than anything I can get from my cable internet or from a cell phone.The English Wikipedia, images and all a little less than 50GB, as a ZIM. You can download/torrent it. (You should, too). Sure, it's bigger, stored as a mirror, and it does come in many languages, but the content could be mirrored across the constellation of satellites. Trivially. There are other, similar repositories of knowledge that could be cohosted and mirrored on all of the satellites. The Project Gutenberg ZIM is also about the same size. You should download it, too.Common web libraries, fonts, etc., could all be cohosted, to speed up load times.As a revenue source, you could charge companies to mirror their content on it. News sites could cache content on the satellites, and refresh several times a day. Most web sites have a fuck-ton of relatively invariant content and assets, before you get to the meat of their offerings, and for the majority, that 'meat' doesn't really change that much, either.Even if there were a global catastrophe, like an all-out nuclear war, most of these satellites would still be up there, working. Wouldn't it be nice, if they had useful content to serve up? Like wikipedia articles on water purification? How to make batteries? Even the 'old', non-copyrighted Project Gutenberg content preserves content on making things from scratch.permalinkparent[–]chrisms150 0 points1 point2 points 14 days ago (5 children)Hi; I feel like you didn't read my post at all from what you just said.permalinkparent[–]SmiteTheeWithAFish 0 points1 point2 points 14 days ago (4 children)You claimed 'horrible latency times'.25ms is not 'horrible'.permalinkparent[–]chrisms150 0 points1 point2 points 14 days ago (3 children)Again, please reread my post. Your 25ms is one trip. Not four. So the true latency would be 50ms if the data was on a satellite. And, if you read my post, I specifically said this would be no-go for games/teleconferencing.Both of which are not scenarios your post addresses at all.permalinkparent[–]SmiteTheeWithAFish 0 points158121 point2 points 14 days ago (2 children)You're right and wrong. It's 50ms, up and down, since the satellite had the content mirrored, locally.As in, it didn't have to bounce all over space and the internet, to find a terrestrial server farm. It's got a copy of the same shit ON THAT SATELLITE, to send back.http://www.webopedia.com/TERM/M/mirror_site.htmlIn other words, your browser asks for: http://allthefonts/some_big_font.woffThe satellite has 'http://allthefonts/some_big_font.woff' in its local cache.It sends its own, mirrored copy to your browser, without involving the rest of the internet, as if it came from there.permalinkparent[–]chrisms150 0 points1 point2 points 14 days ago (1 child)What are you on about dude. I just said - that it is 50ms assuming the satellite has the data on it. Literally just said that exactly. Please read my posts before you reply to them.permalinkparentcontinue this thread[–]elkab0ng 0 points1 point2 points 15 days ago (0 children)A lot of the utility value of the internet is simply the ability to communicate something - even a short message or update - to any place in the world at little or no cost.I like my netflix and will give up house of cards when they pry it from my cold dead fingers, but it's important to remember the value of a communication network isn't necesarily how big a pile of stuff you can move from one place to another, but just the fact that you can, and it doesn't cost anythingpermalinkparent[–]KevlarBoxers 1 point2 points3 points 14 days ago (0 children)If Google and Space X were a physical entity, I'd hug it.permalinkparent[–]FunnyHunnyBunny 3 points4 points5 points 15 days ago (0 children)San Antonio still hasn't been officially confirmed... Very likely it will in future though.permalinkparent[–]Throwahoymatie 0 points1 point2 points 15 days ago (0 children)That would be funny if they announced 8 cities next. The cable companies would catch the pattern and piss themselves.permalinkparent[–]UptownDonkey 2 points3 points4 points 15 days ago (0 children)just a few cities a yearGoogle already missed their opportunity to seriously compete with cable companies because of this. That was probably never their goal of course but if they had done an aggressive roll out 3-5 years ago they would have had a major competitive advantage. With all the major cable companies on track to start deploying DOCSIS 3.1 later this year it's very likely cable will have more gigabit data subscribers than Google Fiber even by the end of 2015. It's basically the same situation that happened with Verizon FIOS. They couldn't build out fast enough and pickup enough subscribers to make the numbers work. When cable companies started DOCSIS 3 deployments plus deep discounting in competitive markets Verizon actually lost subscribers.permalinkparent[–]The_sad_zebra 20 points21 points22 points 15 days ago (1 child)They should put some in Philadelphia, Comcast's home city.permalink[–]Sybs 5 points6 points7 points 15 days ago (0 children)Maybe not wise to try eating the prey before you've killed it.permalinkparent[–]ReverendDexter 10 points11 points12 points 16 days ago (9 children)If Google would come to the North Bay, I'd scrap Comcast as fast as their customer service would let me. I'd pay more for Google Fiber than I currently overpay to Comcast just to have an actual fast, actually reliable service.permalink[–]j_schmotzenberg 3 points4 points5 points 15 days ago (1 child)Try Sonic.netpermalinkparent[–]ReverendDexter 2 points3 points4 points 15 days ago (0 children)I have :( I'm at the very end of the run, max speed is about double dial-up, and the connection drops out every 5-10 minutes. Even the sonic employees in the neighborhood don't use the free sonic service they can get.permalinkparent[+]PostNationalism comment score below threshold-7 points-6 points-5 points 16 days ago (6 children)If Google covered the nation in fiber they'd have all the same problems Comcast is having..permalinkparent[–]12345768 7 points8 points9 points 16 days ago (1 child)Comcast is a Frankenstein network from buying up companies, Google wouldn't have that problem.permalinkparent[–]MacGuffin1 1 point2 points3 points 15 days ago (0 children)Google bought the Provo system that was built by Provo city and managed/retailed by third parties. I'm not disagreeing with you, just wanted to add clarifying information if we're drawing a comparison.permalinkparent[–]SvenSvensen 1 point2 points3 points 15 days ago (0 children)Just so we're clear on this: Comcast is not having any technical problems. They are perfectly capable of providing better service but they choose not to in any city where they have no competition.permalinkparent[–]ReverendDexter 7 points8 points9 points 16 days ago (2 children)Sure. Google's not some magical fantasy do-gooder, they're the new kid on the block and they have to provide reason for people to switch. When they're the big established company with the majority of market share, they don't have to do that.Right now, Google WILL provide better service than Comcast becasue they have to. Should Google become the monopoly player, then we can move on to the next upcomer who's using better service to bait us away.It's not about Google vs Comcast, it's about new player in a damn near monopoly market.permalinkparent[–]DZCreeper 8 points9 points10 points 15 days ago (1 child)Google would never be as bad as Comcast. Their an internet company. They make revenue from people having fast and reliable internet connections.permalinkparent[–]bartturner 3 points4 points5 points 15 days ago (0 children)Totally agree. The incentive for Google is completely different than Comcast. There is much better alignmentpermalinkparent[–]digitrix 3 points4 points5 points 16 days ago (4 children)Sucks that it will probably never come to WA. I would love to have it.permalink[–]Gunski 0 points1 point2 points 15 days ago (3 children)Don't speak such devil words!permalinkparent[–]digitrix 1 point2 points3 points 15 days ago (1 child)Here is an article explaining why. Although maybe they would consider a smaller city like Bellevue or Tacoma.permalinkparent[–]Gunski 1 point2 points3 points 15 days ago (0 children)This makes me really sad.permalinkparent[–]trainrider27 7 points8 points9 points 16 days ago (0 children)Cable companies HATE them!Find out what one company can do to speed up your Internet by 100x!permalink[–]MNasser4 2 points3 points4 points 16 days ago (5 children)So why WONT they bring it to more cities faster? ELI5 anyone?permalink[–]Yuli-Ban 9 points10 points11 points 16 days ago (0 children)Because it costs money to build the infrastructure, and the cable companies are fighting this every step of the way.permalinkparent[–]PsychoWorld 4 points5 points6 points 15 days ago (0 children)More importantly, many cities have laws that heavily favor established cable companies as to make them into oligopolies.Right of Way laws and council interference is why they probably won't ever go into certain Cali cities and Seattle.permalinkparent[–]johansch 0 points1 point2 points 15 days ago (0 children)Because they aren't really that serious about this effort. They're willing to put in a small amount of their money to try to tease the market into action, but not really wanting to go full in. It's a bit similar to trolling. (Congrats to those in the selected markets though!)permalinkparent[–]Carocrazy132 -2 points-1 points0 points 16 days ago (0 children)Google is an awesome crafty company who doesn't wanna be targeted. Now sh...permalinkparent[–]bartturner 1 point2 points3 points 15 days ago* (0 children)Google interest alignment with the consumer is what excites me most about Google providing Internet.Faster and cheaper Internet is good for Google. This is one of the critical problems with the existing ISPs.permalink[–]WStHappenings 0 points1 point2 points 15 days ago (0 children)Another really interesting side-benefit of installing fiber and running it is that Google becomes a vertically integrated business - they own the search, they own the ads, and they own the wire (or fiber) you used to get to the search and the ads.Who knows if they'd do it (IMHO they would be stupid not to, morals excepted), but it means their data centers can access your bits as they fly across the wire - meaning they can collect all sorts of interesting user habits based on your browsing (data is big money) and they won't even have the \"who is this user IRL?\" problems since they'll have an account holder's physical name/address for each fiber account.permalink[–]coldincanada 0 points1 point2 points 15 days ago (0 children)Are they going to use this one weird old trick that moms in your area know about but is going to be banned?!permalink[–]Ev3nt 0 points1 point2 points 15 days ago (2 children)Come on do some major cities already, especially NYC to give Time Warner a kick in the ass for its crap overpriced garbage service.permalink[–]Iced-Dragonhide 0 points1 point2 points 14 days ago (0 children)Yes, please.permalinkparent[–]mike7654 0 points1 point2 points 16 days ago (1 child)If google installed fiber on Uranus I bet most redditors would visit if not make a colonypermalink[–]Dwansumfauk 2 points3 points4 points 15 days ago (0 children)I don't know, the latency to Earth would be too much to game on, but the download speed would be really tempting.permalinkparent[–]infotheist -1 points0 points1 point 15 days ago (1 child)Why are they taking so fucking long? Seriously. It seems like Google Fiber has been rolling out for at least 2-4 years now.permalink[–]Moses89 1 point2 points3 points 15 days ago (0 children)Because they have to tear up streets and yards to install the fiber. They also have to work with cities to get everything in order legally which takes awhile. It's also why Google is so invested in trying to get rid of state laws that prohibit them from expanding into areas that don't already have some basic fiber networks already in place.permalinkparentaboutblogaboutteamsource codeadvertisejobshelpwikiFAQreddiquetterulescontact ustoolsmobilefirefox extensionchrome extensionbuttonswidget<3reddit goldstoreredditgiftsreddit AMA appreddit.tvradio redditUse of this site constitutes acceptance of our User Agreement (updated) and Privacy Policy (updated). © 2015 reddit inc. All rights reserved.REDDIT and the ALIEN Logo are registered trademarks of reddit inc.π Rendered by PID 10094 on app-28 at 2015-02-14 03:15:19.298293+00:00 running d131957 country code: US.0"
        ],
        "content_text_length": 21454,
        "content_type": [
          "text/html"
        ],
        "title": "Google is bringing superfast internet to four cities. Cable companies should be terrified. : technology",
        "keywords": "reddit, reddit.com, vote, comment, submit",
        "content_encoding": "UTF-8",
        "content_ffb": "33633035",
        "content_first_bytes": "33 63 30 35 0d 0a 3c 21 64 6f 63 74 79 70 65 20 68 74 6d 6c 3e 3c 68 74 6d 6c 20 78 6d 6c 6e 73",
        "content_type_droid": "text/html; version=5",
        "links_hosts": [
          "nc.reddit.com",
          "radioreddit.com",
          "addons.mozilla.org",
          "reddit.tv",
          "redditama.reddit.com",
          "www.geekwire.com",
          "chrome.google.com",
          "ne.reddit.com",
          "www.reddit.com",
          "reddit.com",
          "www.vox.com",
          "i.reddit.com",
          "www.webopedia.com",
          "redditgifts.com"
        ],
        "links_domains": [
          "radioreddit.com",
          "webopedia.com",
          "reddit.com",
          "google.com",
          "mozilla.org",
          "reddit.tv",
          "vox.com",
          "redditgifts.com",
          "geekwire.com"
        ],
        "links_public_suffixes": [
          "com",
          "tv",
          "org"
        ],
        "elements_used": [
          "dt",
          "body",
          "tr",
          "link",
          "div",
          "img",
          "td",
          "br",
          "meta",
          "th",
          "dd",
          "title",
          "time",
          "style",
          "button",
          "h4",
          "dl",
          "h1",
          "head",
          "option",
          "h3",
          "h2",
          "ul",
          "form",
          "select",
          "a",
          "blockquote",
          "label",
          "table",
          "code",
          "script",
          "i",
          "li",
          "input",
          "iframe",
          "strong",
          "p",
          "html",
          "em",
          "span"
        ],
        "content_type_tika": "text/html; charset=UTF-8",
        "content_type_version": "5",
        "content_type_full": "text/html; charset=UTF-8; version=5",
        "content_type_norm": "html",
        "content_language": "en",
        "ssdeep_hash_bs_384": "zXr0px7HEXQ6UMW9NSrpJjMKiMMJn67fpWAcELsjLs7ozCQj+3dyWVDW5c63o",
        "ssdeep_hash_bs_768": "aEZUj9NSrpJpiApxbs872+3dyWd4cN",
        "ssdeep_hash_ngram_bs_384": "zXr0px7HEXQ6UMW9NSrpJjMKiMMJn67fpWAcELsjLs7ozCQj+3dyWVDW5c63o",
        "ssdeep_hash_ngram_bs_768": "aEZUj9NSrpJpiApxbs872+3dyWd4cN",
        "crawl_dates": [
          "2015-02-27T00:02:28Z"
        ],
        "crawl_years": [
          "2015"
        ],
        "_version_": 1494730953106391000
      },
      {
        "source_file_s": "32.warc.gz@65602",
        "url": "http://highschoolsports.nj.com/static/common/js/plugins.js",
        "content_type_ext": "js",
        "host": "highschoolsports.nj.com",
        "domain": "nj.com",
        "public_suffix": "com",
        "server": [
          "Apache"
        ],
        "content_type_served": "application/x-javascript",
        "content_length": 24956,
        "id": "sha1:H37WCIKWFFTDQ5Z5H4VC5TQCHCZ25LQC/8CBEDmpXtW8kGZiZMBRWGw==",
        "hash": [
          "sha1:H37WCIKWFFTDQ5Z5H4VC5TQCHCZ25LQC"
        ],
        "crawl_date": "2015-02-26T23:55:56Z",
        "crawl_year": "2015",
        "wayback_date": "20150226235556",
        "content": [
          "/*** plugins.js** Contains common jquery plugin scripts for advance blog sites.* Requires jquery-1.7.1.js to be loaded first.** Copyright (c) Advance Internet. All rights reserved.*/// usage: log('inside coolFunc', this, arguments);// paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/window.log = function(){log.history = log.history || []; // store logs to an array for referencelog.history.push(arguments);if(this.console) {arguments.callee = arguments.callee.caller;var newarr = [].slice.call(arguments);(typeof console.log === 'object' ? log.apply.call(console.log, console, newarr) : console.log.apply(console, newarr));}};// make it safe to use console.log always(function(b){function c(){}for(var d=\"assert,clear,count,debug,dir,dirxml,error,exception,firebug,group,groupCollapsed,groupEnd,info,log,memoryProfile,memoryProfileEnd,profile,profileEnd,table,time,timeEnd,timeStamp,trace,warn\".split(\",\"),a;a=d.pop();){b[a]=b[a]||c}})((function(){try{console.log();return window.console;}catch(err){return window.console={};}})());// place any jQuery/helper plugins in here, instead of separate, slower script files./** jQuery Browser Plugin* Version 2.3* 2008-09-17 19:27:05* URL: http://jquery.thewikies.com/browser* Description: jQuery Browser Plugin extends browser detection capabilities and can assign browser selectors to CSS classes.* Author: Nate Cavanaugh, Minhchau Dang, & Jonathan Neal* Copyright: Copyright (c) 2008 Jonathan Neal under dual MIT/GPL license.* JSLint: This javascript file passes JSLint verification.*//*jslintbitwise: true,browser: true,eqeqeq: true,forin: true,nomen: true,plusplus: true,undef: true,white: true*//*globaljQuery*/(function (jQuery) {jQuery.browserTest = function (a, z) {var u = 'unknown', x = 'X', m = function (r, h) {for (var i = 0; i < h.length; i = i + 1) {r = r.replace(h[i][0], h[i][1]);}return r;},c = function (i, a, b, c) {var r = {name: m((a.exec(i) || [u, u])[1], b)};r[r.name] = true;r.version = (c.exec(i) || [x, x, x, x])[3];if (r.name.match(/safari/) && r.version > 400) {r.version = '2.0';}if (r.name === 'presto') {r.version = (jQuery.browser.version > 9.27) ? 'futhark' : 'linear_b';}r.versionNumber = parseFloat(r.version, 10) || 0;r.versionX = (r.version !== x) ? (r.version + '').substr(0, 1) : x;r.className = r.name + r.versionX;return r;},a = (a.match(/Opera|Navigator|Minefield|KHTML|Chrome/) ? m(a, [[/(Firefox|MSIE|KHTML,\\slike\\sGecko|Konqueror)/, ''],['Chrome Safari', 'Chrome'],['KHTML', 'Konqueror'],['Minefield', 'Firefox'],['Navigator', 'Netscape']]) : a).toLowerCase();jQuery.browser = jQuery.extend((!z) ? jQuery.browser : {}, c(a, /(camino|chrome|firefox|netscape|konqueror|lynx|msie|opera|safari)/, [], /(camino|chrome|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\\/|\\s)([a-z0-9\\.\\+]*?)(\\;|dev|rel|\\s|$)/));jQuery.layout = c(a, /(gecko|konqueror|msie|opera|webkit)/, [['konqueror', 'khtml'],['msie', 'trident'],['opera', 'presto']], /(applewebkit|rv|konqueror|msie)(\\:|\\/|\\s)([a-z0-9\\.]*?)(\\;|\\)|\\s)/);jQuery.os = {name: (/(win|mac|linux|sunos|solaris|iphone)/.exec(navigator.platform.toLowerCase()) || [u])[0].replace('sunos', 'solaris')};if (!z) {jQuery('html').addClass([jQuery.os.name, jQuery.browser.name, jQuery.browser.className, jQuery.layout.name, jQuery.layout.className].join(' '));}};jQuery.browserTest(navigator.userAgent);})(jQuery);/*** jqModal - Minimalist Modaling with jQuery* (http://dev.iceburg.net/jquery/jqmodal/)** Copyright (c) 2007,2008 Brice Burgess <bhb@iceburg.net>* Dual licensed under the MIT and GPL licenses:* http://www.opensource.org/licenses/mit-license.php* http://www.gnu.org/licenses/gpl.html* * $Version: 07/06/2008 +r13* SK 2009-10-14 added the ability to specify hover*/(function(jQuery) {jQuery.fn.jqm=function(o){var p={overlay: 50,overlayClass: 'jqmOverlay',closeClass: 'jqmClose',trigger: '.jqModal',ajax: F,ajaxText: '',target: F,modal: F,toTop: F,onShow: F,onHide: F,onLoad: F,hover: F};return this.each(function(){if(this._jqm)return H[this._jqm].c=jQuery.extend({},H[this._jqm].c,o);s++;this._jqm=s;H[s]={c:jQuery.extend(p,jQuery.jqm.params,o),aa:F,w:jQuery(this).addClass('jqmID'+s),s:s};if(p.trigger)jQuery(this).jqmAddTrigger(p.trigger);});};jQuery.fn.jqmAddClose=function(e){return hs(this,e,'jqmHide');};jQuery.fn.jqmAddTrigger=function(e){return hs(this,e,'jqmShow');};jQuery.fn.jqmShow=function(t){return this.each(function(){jQuery.jqm.open(this._jqm,t);});};jQuery.fn.jqmHide=function(t){return this.each(function(){jQuery.jqm.close(this._jqm,t)});};jQuery.jqm = {hash:{},open:function(s,t){var h=H[s],c=h.c,cc='.'+c.closeClass,z=(parseInt(h.w.css('z-index'))),z=(z>0)?z:3000,o=jQuery('<div></div>').css({height:(jQuery('body').scrollTop()+jQuery('body').innerHeight())+'px',width:'100%',position:'fixed',left:0,top:0,'z-index':z-1,opacity:c.overlay/100});if(h.aa)return F;h.t=t;h.aa=true;h.w.css('z-index',z);if(c.modal) {if(!A[0])L('bind');A.push(s);}else if(c.overlay > 0)h.w.jqmAddClose(o);else o=F;h.o=(o)?o.addClass(c.overlayClass).prependTo('body'):F;if(ie6){jQuery('html,body').css({height:'100%',width:'100%'});if(o){o=o.css({position:'absolute'})[0];for(var y in {Top:1,Left:1})o.style.setExpression(y.toLowerCase(),\"(_=(document.documentElement.scroll\"+y+\" || document.body.scroll\"+y+\"))+'px'\");}}if(c.ajax) {var r=c.target||h.w,u=c.ajax,r=(typeof r == 'string')?jQuery(r,h.w):jQuery(r),u=(u.substr(0,1) == '@')?jQuery(t).attr(u.substring(1)):u;r.html(c.ajaxText).load(u,function(){if(c.onLoad)c.onLoad.call(this,h);if(cc)h.w.jqmAddClose(jQuery(cc,h.w));e(h);});}else if(cc)h.w.jqmAddClose(jQuery(cc,h.w));if(c.toTop&&h.o)h.w.before('<span id=\"jqmP'+h.w[0]._jqm+'\"></span>').insertAfter(h.o); (c.onShow)?c.onShow(h):h.w.show();e(h);return F;},close:function(s){if(!H[s])return F;var h=H[s];if(!h.aa)return F;h.aa=F;if(A[0]){A.pop();if(!A[0])L('unbind');}if(h.c.toTop&&h.o)jQuery('#jqmP'+h.w[0]._jqm).after(h.w).remove();if(h.c.onHide)h.c.onHide(h);else{h.w.hide();if(h.o)h.o.remove();} return F;},params:{}};var s=0,H=jQuery.jqm.hash,A=[],ie6=jQuery.browser.msie&&(jQuery.browser.version == \"6.0\"),F=false,i=jQuery('<iframe src=\"javascript:false;document.write(\\'\\');\" class=\"jqm\"></iframe>').css({opacity:0}),e=function(h){if(ie6)if(h.o)h.o.html('<p style=\"width:100%;height:100%\"/>').prepend(i);else if(!jQuery('iframe.jqm',h.w)[0])h.w.prepend(i); f(h);},f=function(h){try{jQuery(':input:visible',h.w)[0].focus();}catch(_){}},L=function(t){jQuery()[t](\"keypress\",m)[t](\"keydown\",m)[t](\"mousedown\",m);},m=function(e){var h=H[A[A.length-1]],r=(!jQuery(e.target).parents('.jqmID'+h.s)[0]);if(r)f(h);return !r;},hs=function(w,t,c){return w.each(function(){var s=this._jqm;jQuery(t).each(function() {if(!this[c]){ this[c]=[];if(H[s].c.hover){jQuery(this).hover(function(){for(var i in {jqmShow:1}) for(var s in this[i]) if(H[this[i][s]]) H[this[i][s]].w[i](this); return F;},function(){for(var i in {jqmHide:1}) for(o in H) if(H[o].t==this) H[o].w[i](this); return F;});}else{jQuery(this).click(function(){for(var i in {jqmShow:1,jqmHide:1}) for(var s in this[i]) if(H[this[i][s]]) H[this[i][s]].w[i](this);return F;});}}this[c].push(s);});});};})(jQuery);/** jQuery elementReady plugin* Version 0.6* Copyright (C) 2007-08 Bennett McElwee.* Licensed under a Creative Commons Attribution-Share Alike 3.0 Unported License (http://creativecommons.org/licenses/by-sa/3.0/)* Permissions beyond the scope of this license may be available at http://www.thunderguy.com/semicolon/.*//* SKresge - removed documentation to reduce file size. Original version can be found at http://plugins.jquery.com/files/jquery.elementReady.js.txt*/(function(jQuery) {var interval = null;var checklist = [];jQuery.elementReady = function(id, fn) {checklist.push({id: id, fn: fn});if (!interval) {interval = setInterval(check, jQuery.elementReady.interval_ms);}return this;};// Plugin settingsjQuery.elementReady.interval_ms = 23; // polling interval in ms// Private functionfunction check() {var docReady = jQuery.isReady; // check doc ready first; thus ensure that check is made at least once _after_ doc is readyfor (var i = checklist.length - 1; 0 <= i; --i) {var el = document.getElementById(checklist[i].id);if (el) {var fn = checklist[i].fn; // first remove from checklist, then call functionchecklist[i] = checklist[checklist.length - 1];checklist.pop();fn.apply(el, [jQuery]);}}if (docReady) {clearInterval(interval);interval = null;}};})(jQuery);/*** Cookie plugin** Copyright (c) 2006 Klaus Hartl (stilbuero.de)* Dual licensed under the MIT and GPL licenses:* http://www.opensource.org/licenses/mit-license.php* http://www.gnu.org/licenses/gpl.html**/(function(jQuery){jQuery.cookie = function(name, value, options) {if (typeof value != 'undefined') { // name and value given, set cookieoptions = options || {};if (value === null) {value = '';options.expires = -1;}var expires = '';if (options.expires && (typeof options.expires == 'number' || options.expires.toUTCString)) {var date;if (typeof options.expires == 'number') {date = new Date();date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));} else {date = options.expires;}expires = '; expires=' + date.toUTCString(); // use expires attribute, max-age is not supported by IE}// CAUTION: Needed to parenthesize options.path and options.domain// in the following expressions, otherwise they evaluate to undefined// in the packed version for some reason...var path = options.path ? '; path=' + (options.path) : '';var domain = options.domain ? '; domain=' + (options.domain) : '';var secure = options.secure ? '; secure' : '';document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join('');} else { // only name given, get cookievar cookieValue = null;if (document.cookie && document.cookie != '') {var cookies = document.cookie.split(';');for (var i = 0; i < cookies.length; i++) {var cookie = jQuery.trim(cookies[i]);// Does this cookie string begin with the name we want?if (cookie.substring(0, name.length + 1) == (name + '=')) {cookieValue = decodeURIComponent(cookie.substring(name.length + 1));break;}}}return cookieValue;}};})(jQuery);(function($) {/*** Spoofs placeholders in browsers that don't support them (eg Firefox 3)* * Copyright 2011 Dan Bentley* Licensed under the Apache License 2.0** Author: Dan Bentley [github.com/danbentley]*/// Return if native support is available.if (\"placeholder\" in document.createElement(\"input\")) return;$(document).ready(function(){$(':input[placeholder]').not(':password').each(function() {setupPlaceholder($(this));});$(':password[placeholder]').each(function() {setupPasswords($(this));});$('form').submit(function(e) {clearPlaceholdersBeforeSubmit($(this));});});function setupPlaceholder(input) {var placeholderText = input.attr('placeholder');setPlaceholderOrFlagChanged(input, placeholderText);input.addClass('placeholder');input.focus(function(e) {if (input.data('changed') === true) return;if (input.val() === placeholderText) input.val('');input.addClass('inuse'); // added by Mule for a styling hook}).blur(function(e) {//if (input.val() === '') input.val(placeholderText); if (input.val() === ''){input.val(placeholderText);input.removeClass('inuse'); // added by Mule for a styling hook}}).change(function(e) {input.data('changed', input.val() !== '');});}function setPlaceholderOrFlagChanged(input, text) {(input.val() === '') ? input.val(text) : input.data('changed', true);}function setupPasswords(input) {var passwordPlaceholder = createPasswordPlaceholder(input);input.after(passwordPlaceholder);(input.val() === '') ? input.hide() : passwordPlaceholder.hide();$(input).blur(function(e) {if (input.val() !== '') return;input.hide();passwordPlaceholder.show();});$(passwordPlaceholder).focus(function(e) {input.show().focus();passwordPlaceholder.hide();});}function createPasswordPlaceholder(input) {return $('<input>').attr({placeholder: input.attr('placeholder'),value: input.attr('placeholder'),id: input.attr('id'),readonly: true}).addClass(input.attr('class'));}function clearPlaceholdersBeforeSubmit(form) {form.find(':input[placeholder]').each(function() {if ($(this).data('changed') === true) return;if ($(this).val() === $(this).attr('placeholder')) $(this).val('');});}})(jQuery);/** jQuery throttle / debounce - v1.1 - 3/7/2010* http://benalman.com/projects/jquery-throttle-debounce-plugin/* * Copyright (c) 2010 \"Cowboy\" Ben Alman* Dual licensed under the MIT and GPL licenses.* http://benalman.com/about/license/*/(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!==\"boolean\"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);/** jQuery prettyDate v1.2.0pre** @author John Resig (ejohn.org)* @author Jörn Zaefferer* @author Timo Tijhof** Based on http://ejohn.org/blog/javascript-pretty-date* Documentation: http://bassistance.de/jquery-plugins/jquery-plugin-prettydate/** Copyright 2013 Jörn Zaefferer* Released under the MIT license:* http://www.opensource.org/licenses/mit-license.php*/(function($){'use strict';var slice=Array.prototype.slice,rES5ts=/^(\\d{4}|[+\\-]\\d{6})(?:-(\\d{2})(?:-(\\d{2}))?)?(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:(Z)|([+\\-])(\\d{2})(?::(\\d{2}))?)?)?$/,dateUrcReqIndx=[1,4,5,6,7,10,11];$.prettyDate={template:function(source,params){if(arguments.length===1){return function(){var args=slice.call(arguments);args.unshift(source);return $.prettyDate.template.apply(this,args)}}if(!$.isArray(params)){params=slice.call(arguments,1)}$.each(params,function(i,n){source=source.replace(new RegExp('\\\\{'+i+'\\\\}','g'),n)});return source},now:function(){return new Date()},parse:function(timestamp){var i,k,minutesOffset,m=rES5ts.exec(timestamp);if(!m){return NaN}for(i=0;(k=dateUrcReqIndx[i]);i+=1){m[k]=+m[k]||0}m[2]=+m[2]||1;m[3]=+m[3]||1;if(m[8]!=='Z'&&m[9]!==undefined){minutesOffset=m[10]*60+m[11];if(m[9]==='+'){minutesOffset=0-minutesOffset}}else{minutesOffset=0}return Date.UTC(m[1],m[2]-1,m[3],m[4],m[5]+minutesOffset,m[6],m[7])},format:function(target){var messages,targetTime=$.prettyDate.parse(target),nowTime=$.prettyDate.now().getTime(),diff=(nowTime-targetTime)/1000,dayDiff=Math.floor(diff/86400);if(isNaN(dayDiff)||dayDiff<0){return}messages=$.prettyDate.messages;return dayDiff===0&&(diff<60&&messages.now||diff<120&&messages.minute||diff<3600&&messages.minutes(Math.floor(diff/60))||diff<7200&&messages.hour||diff<86400&&messages.hours(Math.floor(diff/3600)))||dayDiff===1&&messages.yesterday||dayDiff===2&&(messages.dayBeforeYesterday||messages.days(dayDiff))||dayDiff<7&&messages.days(dayDiff)||dayDiff<8&&messages.week||dayDiff<14&&messages.days(dayDiff)||dayDiff<30&&messages.weeks(Math.ceil(dayDiff/7))||dayDiff<32&&messages.month||dayDiff<363&&messages.months(Math.ceil(dayDiff/31))||dayDiff<=380&&messages.year||dayDiff>380&&messages.years(Math.ceil(dayDiff/365))}};$.prettyDate.messages={now:'just now',minute:'1 minute ago',minutes:$.prettyDate.template('{0} minutes ago'),hour:'1 hour ago',hours:$.prettyDate.template('{0} hours ago'),yesterday:'Yesterday',dayBeforeYesterday:'Two days ago',days:$.prettyDate.template('{0} days ago'),week:'1 week ago',weeks:$.prettyDate.template('{0} weeks ago'),month:'1 month ago',months:$.prettyDate.template('{0} months ago'),year:'1 year ago',years:$.prettyDate.template('{0} years ago')};$.fn.prettyDate=function(options){options=$.extend({interval:10000,attribute:'title',value:function(){return $(this).attr(options.attribute)}},options);var elements=this;function format(){elements.each(function(){var date=$.prettyDate.format(options.value.apply(this));if(date&&$(this).text()!==date){$(this).text(date)}})}format();if(options.interval){setInterval(format,options.interval)}return this}}(jQuery));/*** jQuery Plugin to obtain touch gestures from iPhone, iPod Touch and iPad, should also work with Android mobile phones (not tested yet!)* Common usage: wipe images (left and right to show the previous or next image)* * @author Andreas Waltl, netCU Internetagentur (http://www.netcu.de)* @version 1.1.1 (9th December 2010) - fix bug (older IE's had problems)* @version 1.1 (1st September 2010) - support wipe up and wipe down* @version 1.0 (15th July 2010)*/(function($){$.fn.touchwipe=function(settings){var config={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:true};if(settings)$.extend(config,settings);this.each(function(){var startX;var startY;var isMoving=false;function cancelTouch(){this.removeEventListener('touchmove',onTouchMove);startX=null;isMoving=false}function onTouchMove(e){if(config.preventDefaultEvents){e.preventDefault()}if(isMoving){var x=e.touches[0].pageX;var y=e.touches[0].pageY;var dx=startX-x;var dy=startY-y;if(Math.abs(dx)>=config.min_move_x){cancelTouch();if(dx>0){config.wipeLeft()}else{config.wipeRight()}}else if(Math.abs(dy)>=config.min_move_y){cancelTouch();if(dy>0){config.wipeDown()}else{config.wipeUp()}}}}function onTouchStart(e){if(e.touches.length==1){startX=e.touches[0].pageX;startY=e.touches[0].pageY;isMoving=true;this.addEventListener('touchmove',onTouchMove,false)}}if('ontouchstart'in document.documentElement){this.addEventListener('touchstart',onTouchStart,false)}});return this}})(jQuery);/** Lazy Load - jQuery plugin for lazy loading images** Copyright (c) 2007-2012 Mika Tuupola** Licensed under the MIT license:* http://www.opensource.org/licenses/mit-license.php** Project home:* http://www.appelsiini.net/projects/lazyload** Version: 1.8.2**/(function (a, b, c, d) {var e = a(b);a.fn.lazyload = function (f) {function j() {var b = 0;g.each(function () {var c = a(this);if (i.skip_invisible && !c.is(\":visible\")) return;if (!a.abovethetop(this, i) && !a.leftofbegin(this, i)) if (!a.belowthefold(this, i) && !a.rightoffold(this, i)) c.trigger(\"appear\"), b = 0;})}var g = this,h, i = {threshold: 0,failure_limit: 0,event: \"scroll\",effect: \"show\",container: b,data_attribute: \"original\",skip_invisible: !0,appear: null,load: null,data_position: \"position\"};return f && (d !== f.failurelimit && (f.failure_limit = f.failurelimit, delete f.failurelimit), d !== f.effectspeed && (f.effect_speed = f.effectspeed, delete f.effectspeed), a.extend(i, f)), h = i.container === d || i.container === b ? e : a(i.container), 0 === i.event.indexOf(\"scroll\") && h.bind(i.event, function (a) {return j()}), this.each(function () {var b = this,c = a(b),imgpath = '';b.loaded = !1, c.one(\"appear\", function () {if (!this.loaded) {if (i.appear) {var d = g.length;i.appear.call(b, d, i)}resimg.d('-------- checking to see if lazyloaded image needs to be imgicked');if (c.data(i.data_position) == 'undefined'){ resimg.d('---- resimg not required');imgpath = c.data(i.data_attribute);resimg.d('---- using: '+imgpath+'\\n\\n');}else{resimg.d('---- attempting to resimg the given image');imgpath = resimg.respath(c.data(i.data_position),c.data(i.data_attribute));resimg.d('---- returned: '+imgpath+'\\n\\n');}//imgpath=c.data(i.data_attribute);a(\"<img />\").bind(\"load\", function () {c.hide().attr(\"src\", imgpath)[i.effect](i.effect_speed), b.loaded = !0;var d = a.grep(g, function (a) {return !a.loaded});g = a(d);if (i.load) {var e = g.length;i.load.call(b, e, i)}}).attr(\"src\", imgpath)}}), 0 !== i.event.indexOf(\"scroll\") && c.bind(i.event, function (a) {b.loaded || c.trigger(\"appear\")})}), e.bind(\"resize\", function (a) {j()}), /iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion) && e.bind(\"pageshow\", function (b) {b.originalEvent.persisted && g.each(function () {a(this).trigger(\"appear\")})}), a(c).ready(function () {j()}), this}, a.belowthefold = function (c, f) {var g;return f.container === d || f.container === b ? g = e.height() + e.scrollTop() : g = a(f.container).offset().top + a(f.container).height(), g <= a(c).offset().top - f.threshold}, a.rightoffold = function (c, f) {var g;return f.container === d || f.container === b ? g = e.width() + e.scrollLeft() : g = a(f.container).offset().left + a(f.container).width(), g <= a(c).offset().left - f.threshold}, a.abovethetop = function (c, f) {var g;return f.container === d || f.container === b ? g = e.scrollTop() : g = a(f.container).offset().top, g >= a(c).offset().top + f.threshold + a(c).height()}, a.leftofbegin = function (c, f) {var g;return f.container === d || f.container === b ? g = e.scrollLeft() : g = a(f.container).offset().left, g >= a(c).offset().left + f.threshold + a(c).width()}, a.inviewport = function (b, c) {return !a.rightoffold(b, c) && !a.leftofbegin(b, c) && !a.belowthefold(b, c) && !a.abovethetop(b, c)}, a.extend(a.expr[\":\"], {\"below-the-fold\": function (b) {return a.belowthefold(b, {threshold: 0})},\"above-the-top\": function (b) {return !a.belowthefold(b, {threshold: 0})},\"right-of-screen\": function (b) {return a.rightoffold(b, {threshold: 0})},\"left-of-screen\": function (b) {return !a.rightoffold(b, {threshold: 0})},\"in-viewport\": function (b) {return a.inviewport(b, {threshold: 0})},\"above-the-fold\": function (b) {return !a.belowthefold(b, {threshold: 0})},\"right-of-fold\": function (b) {return a.rightoffold(b, {threshold: 0})},\"left-of-fold\": function (b) {return !a.rightoffold(b, {threshold: 0})}})})(jQuery, window, document);"
        ],
        "content_text_length": 22551,
        "content_type": [
          "text/plain"
        ],
        "content_encoding": "windows-1252",
        "content_ffb": "2f2a2a0d",
        "content_first_bytes": "2f 2a 2a 0d 0a 20 2a 20 70 6c 75 67 69 6e 73 2e 6a 73 0d 0a 20 2a 0d 0a 20 2a 20 43 6f 6e 74 61",
        "content_type_droid": "application/octet-stream",
        "elements_used": [
          "input",
          "iframe",
          "bhb@iceburg.net",
          "p",
          "img",
          "div",
          "span"
        ],
        "content_type_tika": "text/plain; charset=windows-1252",
        "content_type_full": "text/plain; charset=windows-1252",
        "content_type_norm": "text",
        "content_language": "en",
        "ssdeep_hash_bs_384": "Ey+uAA6tp7KJsnpge/0n+vnA2Eb/7HXYHtsXt7Nkqeb2tUeSgixywX5dQZSQ7M",
        "ssdeep_hash_bs_768": "Ey+uAv7KmnSnwnO/73YGYqebIURbXPQ4",
        "ssdeep_hash_ngram_bs_384": "Ey+uAA6tp7KJsnpge/0n+vnA2Eb/7HXYHtsXt7Nkqeb2tUeSgixywX5dQZSQ7M",
        "ssdeep_hash_ngram_bs_768": "Ey+uAv7KmnSnwnO/73YGYqebIURbXPQ4",
        "crawl_dates": [
          "2015-02-26T23:55:37Z",
          "2015-02-26T23:55:56Z"
        ],
        "crawl_years": [
          "2015",
          "2015"
        ],
        "_version_": 1494731058865766400
      },
      {
        "source_file_s": "113.warc.gz@54951",
        "url": "http://beforeitsnews.com/static/js/story-bin-rev-88.js",
        "content_type_ext": "js",
        "host": "beforeitsnews.com",
        "domain": "beforeitsnews.com",
        "public_suffix": "com",
        "server": [
          "nginx"
        ],
        "content_type_served": "application/x-javascript",
        "content_length": 123818,
        "id": "sha1:A7H3MKVFSA6XNOMALV27VJN25J35BG35/6OmTDUn6g3jP53BYPBSd3g==",
        "hash": [
          "sha1:A7H3MKVFSA6XNOMALV27VJN25J35BG35"
        ],
        "crawl_date": "2015-02-27T00:04:34Z",
        "crawl_year": "2015",
        "wayback_date": "20150227000434",
        "content": [
          "var adTags;var httpObject = null;var animate = null;var startLoc = 0;var stopLoc = 900;var speed = 50;var _gaq = _gaq || [];var yahoo_profile_cached;var yahoo_email_list_cached;var google_profile_cached;var google_email_list_cached;var _sf_async_config;var story_description, story_thumbnail;var blogpath = '';var url_extract = window.location.pathname.split( '/' );if (url_extract.length == 6)blogpath = url_extract[1];/*begin comment reply*/addComment={moveForm:function(d,f,i,c){var m=this,a,h=m.I(d),b=m.I(i),l=m.I(\"cancel-comment-reply-link\"),j=m.I(\"comment_parent\"),k=m.I(\"comment_post_ID\");if(!h||!b||!l||!j){return}m.respondId=i;c=c||false;if(!m.I(\"wp-temp-form-div\")){a=document.createElement(\"div\");a.id=\"wp-temp-form-div\";a.style.display=\"none\";b.parentNode.insertBefore(a,b)}h.parentNode.insertBefore(b,h.nextSibling);if(k&&c){k.value=c}j.value=f;l.style.display=\"\";l.onclick=function(){var n=addComment,e=n.I(\"wp-temp-form-div\"),o=n.I(n.respondId);if(!e||!o){return}n.I(\"comment_parent\").value=\"0\";e.parentNode.insertBefore(o,e);e.parentNode.removeChild(e);this.style.display=\"none\";this.onclick=null;return false};try{m.I(\"comment\").focus()}catch(g){}return false},I:function(a){return document.getElementById(a)}};/*end comment reply*/var Spry;if (!Spry) {Spry = {};}if (!Spry.Widget) {Spry.Widget = {};}Spry.Widget.BrowserSniff = function () {var b = navigator.appName.toString();var up = navigator.platform.toString();var ua = navigator.userAgent.toString();this.mozilla = this.ie = this.opera = this.safari = false;var re_opera = /Opera.([0-9\\.]*)/i;var re_msie = /MSIE.([0-9\\.]*)/i;var re_gecko = /gecko/i;var re_safari = /(applewebkit|safari)\\/([\\d\\.]*)/i;var r = false;if ((r = ua.match(re_opera))) {this.opera = true;this.version = parseFloat(r[1]);} else if ((r = ua.match(re_msie))) {this.ie = true;this.version = parseFloat(r[1]);} else if ((r = ua.match(re_safari))) {this.safari = true;if (parseFloat(r[2]) < 420) {this.version = 2;} else {this.version = 3;}} else if (ua.match(re_gecko)) {var re_gecko_version = /rv:\\s*([0-9\\.]+)/i;r = ua.match(re_gecko_version);this.mozilla = true;this.version = parseFloat(r[1]);}this.windows = this.mac = this.linux = false;this.Platform = ua.match(/windows/i) ? \"windows\" : (ua.match(/linux/i) ? \"linux\" : (ua.match(/mac/i) ? \"mac\" : ua.match(/unix/i) ? \"unix\" : \"unknown\"));this[this.Platform] = true;this.v = this.version;if (this.safari && this.mac && this.mozilla) {this.mozilla = false;}};Spry.is = new Spry.Widget.BrowserSniff();Spry.Widget.Tooltip = function (tooltip_element, trigger_selector, options) {options = Spry.Widget.Utils.firstValid(options, {});this.init(trigger_selector, tooltip_element, options);if (Spry.Widget.Tooltip.onloadDidFire) {this.attachBehaviors();}Spry.Widget.Tooltip.loadQueue.push(this);};Spry.Widget.Tooltip.prototype.init = function (trigger_element, tooltip_element, options) {var Utils = Spry.Widget.Utils;this.triggerElements = Utils.getElementsByClassName(trigger_element);this.tooltipElement = Utils.getElement(tooltip_element);options.showDelay = parseInt(Utils.firstValid(options.showDelay, 0), 10);options.hideDelay = parseInt(Utils.firstValid(options.hideDelay, 0), 10);if (typeof this.triggerElements == 'undefined' || this.triggerElements.length <= 0) {this.showError('The element(s) \"' + trigger_element + '\" do not exist in the page');return false;}if (typeof this.tooltipElement == 'undefined' || !this.tooltipElement) {this.showError('The element \"' + tooltip_element + '\" do not exists in the page');return false;}this.listenersAttached = false;this.hoverClass = \"\";this.followMouse = false;this.offsetX = 15;this.offsetY = 15;this.closeOnTooltipLeave = false;this.useEffect = false;Utils.setOptions(this, options);this.animator = null;for (var i = 0; i < this.triggerElements.length; i++) {if (!this.triggerElements[i].className) {this.triggerElements[i].className = '';}}if (this.useEffect) {switch (this.useEffect.toString().toLowerCase()) {case 'blind':this.useEffect = 'Blind';break;case 'fade':this.useEffect = 'Fade';break;default:this.useEffect = false;}}this.visibleTooltip = false;this.tooltipElement.offsetHeight;if (Spry.Widget.Utils.getStyleProperty(this.tooltipElement, 'display') != 'none') {this.tooltipElement.style.display = 'none';}if (typeof this.offsetX != 'numeric') {this.offsetX = parseInt(this.offsetX, 10);}if (isNaN(this.offsetX)) {this.offsetX = 0;}if (typeof this.offsetY != 'numeric') {this.offsetY = parseInt(this.offsetY, 10);}if (isNaN(this.offsetY)) {this.offsetY = 0;}this.tooltipElement.style.position = 'absolute';this.tooltipElement.style.top = '0px';this.tooltipElement.style.left = '0px';};Spry.Widget.Tooltip.onloadDidFire = false;Spry.Widget.Tooltip.loadQueue = [];Spry.Widget.Tooltip.addLoadListener = function (handler) {if (typeof window.addEventListener != 'undefined') {window.addEventListener('load', handler, false);} else if (typeof document.addEventListener != 'undefined') {document.addEventListener('load', handler, false);} else if (typeof window.attachEvent != 'undefined') {window.attachEvent('onload', handler);}};Spry.Widget.Tooltip.processLoadQueue = function (handler) {Spry.Widget.Tooltip.onloadDidFire = true;var q = Spry.Widget.Tooltip.loadQueue;var qlen = q.length;for (var i = 0; i < qlen; i++) {if (!q[i].listenersAttached) {q[i].attachBehaviors();}}};Spry.Widget.Tooltip.addLoadListener(Spry.Widget.Tooltip.processLoadQueue);Spry.Widget.Tooltip.prototype.addClassName = function (ele, className) {if (!ele || !className) {return;}if (ele.className.indexOf(className) == -1) {ele.className += (ele.className ? \" \" : \"\") + className;}};Spry.Widget.Tooltip.prototype.removeClassName = function (ele, className) {if (!ele || !className) {return;}ele.className = ele.className.replace(new RegExp(\"\\\\s*\\\\b\" + className + \"\\\\b\", \"g\"), \"\");};Spry.Widget.Tooltip.prototype.showTooltip = function () {if (!this.visibleTooltip) {this.tooltipElement.style.visibility = 'hidden';this.tooltipElement.style.zIndex = '9999';this.tooltipElement.style.display = 'block';}Spry.Widget.Utils.putElementAt(this.tooltipElement, this.pos, {x: this.offsetX,y: this.offsetY}, true);if (Spry.is.ie && Spry.is.version == '6') {this.createIframeLayer(this.tooltipElement);}if (!this.visibleTooltip) {if (this.useEffect) {if (typeof this.showEffect == 'undefined') {this.showEffect = new Spry.Widget.Tooltip[this.useEffect](this.tooltipElement, {from: 0,to: 1});}this.showEffect.start();} else {this.tooltipElement.style.visibility = 'visible';}}this.visibleTooltip = true;};Spry.Widget.Tooltip.prototype.hideTooltip = function (quick) {if (this.useEffect && !quick) {if (typeof this.hideEffect == 'undefined') {this.hideEffect = new Spry.Widget.Tooltip[this.useEffect](this.tooltipElement, {from: 1,to: 0});}this.hideEffect.start();} else {if (typeof this.showEffect != 'undefined') {this.showEffect.stop();}this.tooltipElement.style.display = 'none';}if (Spry.is.ie && Spry.is.version == '6') {this.removeIframeLayer(this.tooltipElement);}if (this.hoverClass && !this.hideTimer) {for (var i = 0; i < this.triggerElements.length; i++) {this.removeClassName(this.triggerElements[i], this.hoverClass);}}this.visibleTooltip = false;};Spry.Widget.Tooltip.prototype.displayTooltip = function (show) {var self;if (this.tooltipElement) {if (this.hoverClass) {for (var i = 0; i < this.triggerElements.length; i++) {this.removeClassName(this.triggerElements[i], this.hoverClass);}}if (show) {if (this.hideTimer) {clearInterval(this.hideTimer);delete(this.hideTimer);}if (this.hoverClass) {if (typeof this.triggerHighlight != 'undefined') {this.addClassName(this.triggerHighlight, this.hoverClass);}}self = this;this.showTimer = setTimeout(function () {self.showTooltip();}, this.showDelay);} else {if (this.showTimer) {clearInterval(this.showTimer);delete(this.showTimer);}self = this;this.hideTimer = setTimeout(function () {self.hideTooltip();}, this.hideDelay);}}this.refreshTimeout();};Spry.Widget.Tooltip.prototype.onMouseOverTrigger = function (e) {var target = '';if (Spry.is.ie) {target = e.srcElement;} else {target = e.target;}var contains = Spry.Widget.Utils.contains;for (var i = 0; i < this.triggerElements.length; i++) {if (contains(this.triggerElements[i], target)) {target = this.triggerElements[i];break;}}if (i == this.triggerElements.length) {return;}if (this.visibleTooltip && this.triggerHighlight && this.triggerHighlight == target) {if (this.hideTimer) {clearInterval(this.hideTimer);delete(this.hideTimer);}if (this.hoverClass) {if (typeof this.triggerHighlight != 'undefined') {this.addClassName(this.triggerHighlight, this.hoverClass);}}return;}var pos = Spry.Widget.Utils.getAbsoluteMousePosition(e);this.pos = {x: pos.x + this.offsetX,y: pos.y + this.offsetY};this.triggerHighlight = target;Spry.Widget.Tooltip.closeAll();this.displayTooltip(true);};Spry.Widget.Tooltip.prototype.onMouseMoveTrigger = function (e) {var pos = Spry.Widget.Utils.getAbsoluteMousePosition(e);this.pos = {x: pos.x + this.offsetX,y: pos.y + this.offsetY};if (this.visibleTooltip) {this.showTooltip();}};Spry.Widget.Tooltip.prototype.onMouseOutTrigger = function (e) {var target = '';if (Spry.is.ie) {target = e.toElement;} else {target = e.relatedTarget;}var contains = Spry.Widget.Utils.contains;for (var i = 0; i < this.triggerElements.length; i++) {if (contains(this.triggerElements[i], target)) {return;}}this.displayTooltip(false);};Spry.Widget.Tooltip.prototype.onMouseOutTooltip = function (e) {var target = '';if (Spry.is.ie) {target = e.toElement;} else {target = e.relatedTarget;}var contains = Spry.Widget.Utils.contains;if (contains(this.tooltipElement, target)) {return;}this.displayTooltip(false);};Spry.Widget.Tooltip.prototype.onMouseOverTooltip = function (e) {if (this.hideTimer) {clearInterval(this.hideTimer);delete(this.hideTimer);}if (this.hoverClass) {if (typeof this.triggerHighlight != 'undefined') {this.addClassName(this.triggerHighlight, this.hoverClass);}}};Spry.Widget.Tooltip.prototype.refreshTimeout = function () {if (Spry.Widget.Tooltip.refreshTimeout !== null) {clearTimeout(Spry.Widget.Tooltip.refreshTimeout);Spry.Widget.Tooltip.refreshTimeout = null;}Spry.Widget.Tooltip.refreshTimeout = setTimeout(Spry.Widget.Tooltip.refreshAll, 100);};Spry.Widget.Tooltip.prototype.destroy = function () {for (var k in this) {try {if (typeof this.k == 'object' && typeof this.k.destroy == 'function') {this.k.destroy();}delete this.k;} catch (err) {}}};Spry.Widget.Tooltip.prototype.checkDestroyed = function () {if (!this.tooltipElement || this.tooltipElement.parentNode === null) {return true;}return false;};Spry.Widget.Tooltip.prototype.attachBehaviors = function () {var self = this;var ev = Spry.Widget.Utils.addEventListener;for (var i = 0; i < this.triggerElements.length; i++) {ev(this.triggerElements[i], 'mouseover', function (e) {self.onMouseOverTrigger(e || event);return true;}, false);ev(this.triggerElements[i], 'mouseout', function (e) {self.onMouseOutTrigger(e || event);return true;}, false);if (this.followMouse) {ev(this.triggerElements[i], 'mousemove', function (e) {self.onMouseMoveTrigger(e || event);return true;}, false);}}if (this.closeOnTooltipLeave) {ev(this.tooltipElement, 'mouseover', function (e) {self.onMouseOverTooltip(e || event);return true;}, false);ev(this.tooltipElement, 'mouseout', function (e) {self.onMouseOutTooltip(e || event);return true;}, false);}this.listenersAttached = true;};Spry.Widget.Tooltip.prototype.createIframeLayer = function (tooltip) {if (typeof this.iframeLayer == 'undefined') {var layer = document.createElement('iframe');layer.tabIndex = '-1';layer.src = 'javascript:\"\";';layer.scrolling = 'no';layer.frameBorder = '0';layer.className = 'iframeTooltip';tooltip.parentNode.appendChild(layer);this.iframeLayer = layer;}this.iframeLayer.style.left = tooltip.offsetLeft + 'px';this.iframeLayer.style.top = tooltip.offsetTop + 'px';this.iframeLayer.style.width = tooltip.offsetWidth + 'px';this.iframeLayer.style.height = tooltip.offsetHeight + 'px';this.iframeLayer.style.display = 'block';};Spry.Widget.Tooltip.prototype.removeIframeLayer = function (tooltip) {if (this.iframeLayer) {this.iframeLayer.style.display = 'none';}};Spry.Widget.Tooltip.prototype.showError = function (msg) {alert('Spry.Widget.Tooltip ERR: ' + msg);};Spry.Widget.Tooltip.refreshAll = function () {var q = Spry.Widget.Tooltip.loadQueue;var qlen = q.length;for (var i = 0; i < qlen; i++) {if (q[i].checkDestroyed()) {q[i].destroy();q.splice(i, 1);i--;qlen = q.length;}}};Spry.Widget.Tooltip.closeAll = function () {var q = Spry.Widget.Tooltip.loadQueue;var qlen = q.length;for (var i = 0; i < qlen; i++) {if (q[i].visibleTooltip) {q[i].hideTooltip(true);}if (q[i].showTimer) {clearTimeout(q[i].showTimer);}if (q[i].hideTimer) {clearTimeout(q[i].hideTimer);}}};Spry.Widget.Tooltip.Animator = function (element, opts) {this.timer = null;this.fps = 60;this.duration = 600;this.startTime = 0;this.transition = Spry.Widget.Tooltip.Animator.defaultTransition;this.onComplete = null;if (typeof element == 'undefined') {return;}this.element = Spry.Widget.Utils.getElement(element);Spry.Widget.Utils.setOptions(this, opts, true);this.interval = this.duration / this.fps;};Spry.Widget.Tooltip.Animator.defaultTransition = function (time, begin, finish, duration) {time /= duration;return begin + ((2 - time) * time * finish);};Spry.Widget.Tooltip.Animator.prototype.start = function () {var self = this;this.startTime = (new Date()).getTime();this.beforeStart();this.timer = setInterval(function () {self.stepAnimation();}, this.interval);};Spry.Widget.Tooltip.Animator.prototype.stop = function () {if (this.timer) {clearTimeout(this.timer);}this.timer = null;};Spry.Widget.Tooltip.Animator.prototype.stepAnimation = function () {};Spry.Widget.Tooltip.Animator.prototype.beforeStart = function () {};Spry.Widget.Tooltip.Animator.prototype.destroy = function () {for (var k in this) {try {delete this.k;} catch (err) {}}};Spry.Widget.Tooltip.Fade = function (element, opts) {Spry.Widget.Tooltip.Animator.call(this, element, opts);if (Spry.is.ie) {this.origOpacity = this.element.style.filter;} else {this.origOpacity = this.element.style.opacity;}};Spry.Widget.Tooltip.Fade.prototype = new Spry.Widget.Tooltip.Animator();Spry.Widget.Tooltip.Fade.prototype.constructor = Spry.Widget.Tooltip.Fade;Spry.Widget.Tooltip.Fade.prototype.stepAnimation = function () {var curTime = (new Date()).getTime();var elapsedTime = curTime - this.startTime;var i, obj;if (elapsedTime >= this.duration) {this.beforeStop();this.stop();return;}var ht = this.transition(elapsedTime, this.from, this.to - this.from, this.duration);if (Spry.is.ie) {var filter = this.element.style.filter.replace(/alpha\\s*\\(\\s*opacity\\s*=\\s*[0-9\\.]{1,3}\\)/, '');this.element.style.filter = filter + 'alpha(opacity=' + parseInt(ht * 100, 10) + ')';} else {this.element.style.opacity = ht;}this.element.style.visibility = 'visible';this.element.style.display = 'block';};Spry.Widget.Tooltip.Fade.prototype.beforeStop = function () {if (this.from > this.to) {this.element.style.display = 'none';}if (Spry.is.mozilla) {this.element.style.filter = this.origOpacity;} else {this.element.style.opacity = this.origOpacity;}};Spry.Widget.Tooltip.Blind = function (element, opts) {this.from = 0;this.to = 100;Spry.Widget.Tooltip.Animator.call(this, element, opts);this.element.style.visibility = 'hidden';this.element.style.display = 'block';this.origHeight = parseInt(Spry.Widget.Utils.getStyleProperty(this.element, 'height'), 10);if (isNaN(this.origHeight)) {this.origHeight = this.element.offsetHeight;}if (this.to === 0) {this.from = this.origHeight;} else {this.to = this.origHeight;}};Spry.Widget.Tooltip.Blind.prototype = new Spry.Widget.Tooltip.Animator();Spry.Widget.Tooltip.Blind.prototype.constructor = Spry.Widget.Tooltip.Blind;Spry.Widget.Tooltip.Blind.prototype.beforeStart = function () {this.origOverflow = Spry.Widget.Utils.getStyleProperty(this.element, 'overflow');this.element.style.overflow = 'hidden';};Spry.Widget.Tooltip.Blind.prototype.stepAnimation = function () {var curTime = (new Date()).getTime();var elapsedTime = curTime - this.startTime;var i, obj;if (elapsedTime >= this.duration) {this.beforeStop();this.stop();return;}var ht = this.transition(elapsedTime, this.from, this.to - this.from, this.duration);this.element.style.height = Math.floor(ht) + 'px';this.element.style.visibility = 'visible';this.element.style.display = 'block';};Spry.Widget.Tooltip.Blind.prototype.beforeStop = function () {this.element.style.overflow = this.origOverflow;if (this.from > this.to) {this.element.style.display = 'none';}this.element.style.height = this.origHeight + 'px';};////////////////////////////////////////////////////////////////////////// Spry.Widget.Util////////////////////////////////////////////////////////////////////////if (!Spry.Widget.Utils) {Spry.Widget.Utils = {};}Spry.Widget.Utils.setOptions = function (obj, optionsObj, ignoreUndefinedProps) {if (!optionsObj) {return;}for (var optionName in optionsObj) {if (ignoreUndefinedProps && optionsObj[optionName] === undefined) {continue;}obj[optionName] = optionsObj[optionName];}};Spry.Widget.Utils.getElement = function (ele) {if (ele && typeof ele == \"string\") {return document.getElementById(ele);}return ele;};Spry.Widget.Utils.getElementsByClassName = function (sel) {if (sel.length <= 0) {return null;}var selectors = sel.split(',');var el = [];for (var i = 0; i < selectors.length; i++) {var cs = selectors[i];var chunk = cs.split(' ');var parents = [];parents[0] = [];parents[0][0] = document.body;for (var j = 0; j < chunk.length; j++) {var tokens = Spry.Widget.Utils.getSelectorTokens(chunk[j]);for (var k = 0; k < parents[j].length; k++) {var childs = parents[j][k].getElementsByTagName('*');parents[j + 1] = [];for (var l = 0; l < childs.length; l++) {if (Spry.Widget.Utils.hasSelector(childs[l], tokens)) {parents[j + 1].push(childs[l]);}}}}if (parents[j]) {for (var k = 0; k < parents[j].length; k++) {el.push(parents[j][k]);}}}return el;};Spry.Widget.Utils.firstValid = function () {var ret = null;var a = Spry.Widget.Utils.firstValid;for (var i = 0; i < a.arguments.length; i++) {if (typeof (a.arguments[i]) != 'undefined') {ret = a.arguments[i];break;}}return ret;};Spry.Widget.Utils.getSelectorTokens = function (str) {str = str.replace(/\\./g, ' .');str = str.replace(/\\#/g, ' #');str = str.replace(/^\\s+|\\s+$/g, \"\");return str.split(' ');};Spry.Widget.Utils.hasSelector = function (el, tokens) {for (var i = 0; i < tokens.length; i++) {switch (tokens[i].charAt(0)) {case '.':if (!el.className || el.className.indexOf(tokens[i].substr(1)) == -1) {return false;}break;case '#':if (!el.id || el.id != tokens[i].substr(1)) {return false;}break;default:if (el.nodeName.toLowerCase != tokens[i]) {return false;}break;}}return true;};Spry.Widget.Utils.addEventListener = function (element, eventType, handler, capture) {try {if (element.addEventListener) {element.addEventListener(eventType, handler, capture);} else if (element.attachEvent) {element.attachEvent(\"on\" + eventType, handler);}} catch (e) {}};Spry.Widget.Utils.getStyleProperty = function (element, prop) {var value;var camelized = Spry.Widget.Utils.camelize(prop);try {if (element.style) {value = element.style[camelized];}if (!value) {if (document.defaultView && document.defaultView.getComputedStyle) {var css = document.defaultView.getComputedStyle(element, null);value = css ? css.getPropertyValue(prop) : null;} else if (element.currentStyle) {value = element.currentStyle[camelized];}}} catch (e) {}return value == 'auto' ? null : value;};Spry.Widget.Utils.camelize = function (str) {if (str.indexOf('-') == -1) {return str;}var oStringList = str.split('-');var isFirstEntry = true;var camelizedString = '';for (var i = 0; i < oStringList.length; i++) {if (oStringList[i].length > 0) {if (isFirstEntry) {camelizedString = oStringList[i];isFirstEntry = false;} else {var s = oStringList[i];camelizedString += s.charAt(0).toUpperCase() + s.substring(1);}}}return camelizedString;};Spry.Widget.Utils.getPixels = function (m, s) {var v = Spry.Widget.Utils.getStyleProperty(m, s);if (v == \"medium\") {v = 2;} else {v = parseInt(v, 10);}v = isNaN(v) ? 0 : v;return v;};Spry.Widget.Utils.getAbsoluteMousePosition = function (ev) {var pos = {x: 0,y: 0};if (ev.pageX) {pos.x = ev.pageX;} else if (ev.clientX) {pos.x = ev.clientX + (document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft);}if (isNaN(pos.x)) {pos.x = 0;}if (ev.pageY) {pos.y = ev.pageY;} else if (ev.clientY) {pos.y = ev.clientY + (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);}if (isNaN(pos.y)) {pos.y = 0;}return pos;};Spry.Widget.Utils.getBorderBox = function (el, doc) {doc = doc || document;if (typeof el == 'string') {el = doc.getElementById(el);}if (!el) {return false;}if (el.parentNode === null || Spry.Widget.Utils.getStyleProperty(el, 'display') == 'none') {return false;}var ret = {x: 0,y: 0,width: 0,height: 0};var parent = null;var box;if (el.getBoundingClientRect) {box = el.getBoundingClientRect();var scrollTop = doc.documentElement.scrollTop || doc.body.scrollTop;var scrollLeft = doc.documentElement.scrollLeft || doc.body.scrollLeft;ret.x = box.left + scrollLeft;ret.y = box.top + scrollTop;ret.width = box.right - box.left;ret.height = box.bottom - box.top;} else if (doc.getBoxObjectFor) {box = doc.getBoxObjectFor(el);ret.x = box.x;ret.y = box.y;ret.width = box.width;ret.height = box.height;var btw = Spry.Widget.Utils.getPixels(el, \"border-top-width\");var blw = Spry.Widget.Utils.getPixels(el, \"border-left-width\");ret.x -= blw;ret.y -= btw;} else {ret.x = el.offsetLeft;ret.y = el.offsetTop;ret.width = el.offsetWidth;ret.height = el.offsetHeight;parent = el.offsetParent;if (parent != el) {while (parent) {ret.x += parent.offsetLeft;ret.y += parent.offsetTop;parent = parent.offsetParent;}}var blw = Spry.Widget.Utils.getPixels(el, \"border-left-width\");var btw = Spry.Widget.Utils.getPixels(el, \"border-top-width\");ret.x -= blw;ret.y -= btw;var ua = navigator.userAgent.toLowerCase();if (Spry.is.opera || Spry.is.safari && Spry.Widget.Utils.getStyleProperty(el, 'position') == 'absolute') {ret.y -= doc.body.offsetTop;}}if (el.parentNode) {parent = el.parentNode;} else {parent = null;}while (parent && parent.tagName != 'BODY' && parent.tagName != 'HTML') {ret.x -= parent.scrollLeft;ret.y -= parent.scrollTop;if (parent.parentNode) {parent = parent.parentNode;} else {parent = null;}}return ret;};Spry.Widget.Utils.setBorderBox = function (el, box) {var pos = Spry.Widget.Utils.getBorderBox(el, el.ownerDocument);if (pos === false) {return false;}var delta = {x: Spry.Widget.Utils.getPixels(el, 'left'),y: Spry.Widget.Utils.getPixels(el, 'top')};var new_pos = {x: 0,y: 0,w: 0,h: 0};if (typeof box.x == 'number') {new_pos.x = box.x - pos.x + delta.x;}if (typeof box.y == 'number') {new_pos.y = box.y - pos.y + delta.y;}if (typeof box.x == 'number') {el.style.left = new_pos.x + 'px';}if (typeof box.y == 'number') {el.style.top = new_pos.y + 'px';}return true;};Spry.Widget.Utils.putElementAt = function (source, target, offset, biv) {biv = Spry.Widget.Utils.firstValid(biv, true);var source_box = Spry.Widget.Utils.getBorderBox(source, source.ownerDocument);Spry.Widget.Utils.setBorderBox(source, target);if (biv) {Spry.Widget.Utils.bringIntoView(source);}return true;};Spry.Widget.Utils.bringIntoView = function (source) {var box = Spry.Widget.Utils.getBorderBox(source, source.ownerDocument);if (box === false) {return false;}var current = {x: Spry.Widget.Utils.getPixels(source, 'left'),y: Spry.Widget.Utils.getPixels(source, 'top')};var delta = {x: 0,y: 0};var offset_fix = {x: 0,y: 0};var strictm = source.ownerDocument.compatMode == \"CSS1Compat\";var doc = (Spry.is.ie && strictm || Spry.is.mozilla) ? source.ownerDocument.documentElement : source.ownerDocument.body;offset_fix.x = Spry.Widget.Utils.getPixels(doc, 'border-left-width');offset_fix.y = Spry.Widget.Utils.getPixels(doc, 'border-top-width');var st = doc.scrollTop;var ch = self.innerHeight ? self.innerHeight : doc.clientHeight;var t = box.y + (Spry.is.ie ? -offset_fix.y : offset_fix.y);var b = box.y + box.height + (Spry.is.ie ? -offset_fix.y : offset_fix.y);if (b - st > ch) {delta.y = ch - (b - st);if (t + delta.y < st) {delta.y = st - t;}} else if (t < st) {delta.y = st - t;}if (delta.y != 0) {source.style.top = (current.y + delta.y) + 'px';}var sl = doc.scrollLeft;var cw = doc.clientWidth;var l = box.x + (Spry.is.ie ? -offset_fix.x : offset_fix.x);var r = box.x + box.width + (Spry.is.ie ? -offset_fix.x : offset_fix.x);if (r - sl > cw) {delta.x = cw - (r - sl);if (l + delta.x < sl) {delta.x = sl - l;}} else if (l < sl) {delta.x = sl - l;}if (delta.x != 0) {source.style.left = (current.x + delta.x) + 'px';}};Spry.Widget.Utils.contains = function (who, what) {if (typeof who.contains == 'object') {return what && who && (who == what || who.contains(what));} else {var el = what;while (el) {try {if (el == who) {return true;}el = el.parentNode;} catch (a) {return false;}}return false;}};function isArray(obj) {\"use strict\";if (obj.constructor.toString().indexOf(\"Array\") === -1) {return false;} else {return true;}}function validateForm() {\"use strict\";var err;err = \"\";if (document.register.email.value === \"\") {err = \"\\nEMAIL\";}if (document.register.password.value === \"\") {err = err + \"\\nPASSWORD\";}if (document.register.password.value !== document.register.confirm.value) {window.alert('ERROR: passwords don\\'t match');return false;}if (document.register.terms.checked === false) {err = err + \"\\nACCEPT TERMS\";}if (err !== \"\") {err = \"Information missing: \" + err;window.alert(err);return false;} else {document.forms.register.submit();}}function grin(tag) {var myField;tag = ' ' + tag + ' ';if (document.getElementById('comment_text') && document.getElementById('comment_text').type == 'textarea') {myField = document.getElementById('comment_text');} else { alert(\"false\");return false;}if (document.selection) {myField.focus();sel = document.selection.createRange();sel.text = tag;myField.focus();}else if (myField.selectionStart || myField.selectionStart == '0') {var startPos = myField.selectionStart;var endPos = myField.selectionEnd;var cursorPos = startPos;myField.value = myField.value.substring(0, startPos)+ tag+ myField.value.substring(endPos, myField.value.length);cursorPos += tag.length;myField.focus();myField.selectionStart = cursorPos;myField.selectionEnd = cursorPos;}else {myField.value += tag;myField.focus();}}function handleSearchBadges(story) {\"use strict\";var i, myhtml;myhtml = '';for (i = 0; i < story.crawls.length; i++) {if (story.crawls[i] === 'Microsoft') {myhtml += '<img src=\"http://image.b4in.net/on_bing.png\" alt=\"Microsoft\" width=\"14\" height=\"14\" hspace=\"0\" vspace=\"1\" align=\"top\" title=\"This story has been crawled by Microsoft\" /> ';} else if (story.crawls[i] === 'Google') {myhtml += '<img src=\"http://image.b4in.net/on_google.png\" alt=\"Google\" width=\"14\" height=\"14\" hspace=\"0\" vspace=\"1\" align=\"top\" title=\"This story has been crawled by Google\" /> ';} else if (story.crawls[i] === 'Yahoo!') {myhtml += '<img src=\"http://image.b4in.net/on_yahoo.png\" alt=\"Yahoo!\" width=\"14\" height=\"14\" hspace=\"0\" vspace=\"1\" align=\"top\" title=\"This story has been crawled by Yahoo!\" /> ';} else if (story.crawls[i] === 'Ask') {myhtml += '<img src=\"http://image.b4in.net/on_ask.png\" alt=\"Ask\" width=\"14\" height=\"14\" hspace=\"0\" vspace=\"1\" align=\"top\" title=\"This story has been crawled by Ask\" /> ';} else if (story.crawls[i] === 'Google News') {myhtml += '<img src=\"http://image.b4in.net/on_google_news.png\" alt=\"Google News\" width=\"14\" height=\"14\" hspace=\"0\" vspace=\"1\" align=\"top\" title=\"This story has been crawled by Google News\" /> ';}}if (myhtml !== '') {$('#search_badges').html('<div class=\"search_badges\"><a href=\"/crawled/' + story.id + '\" rel=\"nofollow\">' + myhtml + '</a></div>');}}function updateStats() {\"use strict\";$.getJSON(\"/top_stories.php?section=all_100\",{ \"noCache\": new Date().getTime() },function (top_stories) {if (!top_stories) {return;}var path = window.location.pathname;var visits = 1;var i;for (i = 0; i < top_stories.length; i++) {if (path === top_stories[i].path) {if (top_stories[i].visits > 1)visits = top_stories[i].visits;if (visits > story_counter_hour)visits = story_counter_hour;$('#chartbeat_count').html(add_commas(visits));return;}}// If story not in top 100 then get stats from chartbeat$.post('/core/ajax/story/chartbeat.php',function(data) {if (data !== null && typeof data.people != 'undefined' && data.people > 0) {if (data.people > story_counter_hour)data.people = story_counter_hour;$('#chartbeat_count').html(add_commas(data.people));} else {$('#chartbeat_count').html('1');}},'json');});}function setupTooltips() {\"use strict\";var sprytooltip;sprytooltip = new Spry.Widget.Tooltip(\"likeContributorMessage\", \"#like_contributor\");sprytooltip = new Spry.Widget.Tooltip(\"likeStoryMessage\", \"#like_story\");if ($('#pen_name').text() !== '') {$('#authorMessage').html($('#pen_name').text());sprytooltip = new Spry.Widget.Tooltip(\"authorMessage\", \"#profile_image\");}sprytooltip = new Spry.Widget.Tooltip(\"subscribenewsletterMessage\", \"#subscribenewsletter\");}function handleStory() {\"use strict\";splitStory(300, 1700, 'body');var adCode = '<div style=\"float: left; margin: 0 10px 10px 0;\"><iframe id=\"5125e7a33c8bf\" name=\"5125e7a33c8bf\" src=\"http://ox-d.beforeitsnews.com/w/1.0/afr?auid=326914&cb=INSERT_RANDOM_NUMBER_HERE\" frameborder=\"0\" scrolling=\"no\" width=\"300\" height=\"250\"><a href=\"http://ox-d.beforeitsnews.com/w/1.0/rc?cs=5125e7a33c8bf&cb=INSERT_RANDOM_NUMBER_HERE\" ><img src=\"http://ox-d.beforeitsnews.com/w/1.0/ai?auid=326914&cs=5125e7a33c8bf&cb=INSERT_RANDOM_NUMBER_HERE\" border=\"0\" alt=\"\"></a></iframe></div>';setupTooltips();updateRecommendCounter();// updateNewsletterLink();handleBottomFloatBar();//fixMediaSize();// Disable embed ads for clarifying the truth storyif (!$('#clarifying_the_truth').length) {embedAd('body', adCode);}fixVideoOverDiv();var story_id = $('#story_id').val();if (isAdmin()) {$.get('/core/ajax/admin-tab/admin/index.php', {url: window.location.href}, function (data) {if (data == \"\") {$(\"#user_status\").hide();$(\"#user_status\").html('<div id=\"login\"><form id=\"loginform\" name=\"loginform\" method=\"post\" action=\"/login/index.php\"><table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"345\"><tbody><tr><td align=\"right\" width=\"256\"><label>Email <input name=\"log\" id=\"user_login\" size=\"16\" type=\"text\" style=\"width:130px;\"></label><br><label>Password <input name=\"pwd\" id=\"user_pass\" size=\"16\" type=\"password\" style=\"width:130px;\"></label></td><td align=\"left\"><input name=\"submit\" id=\"submit\" value=\"LOGIN\" class=\"grayButton1\" type=\"submit\"></td></tr><tr><td colspan=\"2\" align=\"center\"><p id=\"joinnowtext\"><a href=\"/login/new/\">Not a Member Yet? Join Now!</a></p></td></tr></tbody></table></form></div>');$(\"#user_status\").fadeIn('slow');} else {$('#admin_tab').html(data);document.getElementById('admin_drawer').style.position = 'absolute';document.getElementById('admin_drawer').style.left = '0px';$('#unperson').hover(function () {$(this).css('cursor', 'active');}, function () {$(this).css('cursor', 'pointer');});$('#unperson').click(function () {moveLeft();$('#block_reason').dialog('open');});// get_bottom_stories_list_admin();}});} else if (isEditor()) {$.get('/core/ajax/admin-tab/editor/index.php', {url: window.location.href}, function (data) {if (data == \"\") {$(\"#user_status\").hide();$(\"#user_status\").html('<div id=\"login\"><form id=\"loginform\" name=\"loginform\" method=\"post\" action=\"/login/index.php\"><table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"345\"><tbody><tr><td align=\"right\" width=\"256\"><label>Email <input name=\"log\" id=\"user_login\" size=\"16\" type=\"text\" style=\"width:130px;\"></label><br><label>Password <input name=\"pwd\" id=\"user_pass\" size=\"16\" type=\"password\" style=\"width:130px;\"></label></td><td align=\"left\"><input name=\"submit\" id=\"submit\" value=\"LOGIN\" class=\"grayButton1\" type=\"submit\"></td></tr><tr><td colspan=\"2\" align=\"center\"><p id=\"joinnowtext\"><a href=\"/login/new/\">Not a Member Yet? Join Now!</a></p></td></tr></tbody></table></form></div>');$(\"#user_status\").fadeIn('slow');} else {$('#admin_tab').html(data);document.getElementById('admin_drawer').style.position = 'absolute';document.getElementById('admin_drawer').style.left = '0px';// get_bottom_stories_list_admin();}});}// Add Edit/Delete buttonsvar html = '';var author_id = $('#author_id').val();var blog_id = $('#category_id').val();if (getCookie('b4in_new_user_id') == author_id || getCookie('b4in_new_story_editor') == 1 || isAdmin() || isEditor()) {html += '<a id=\"edit_link\" href=\"/dashboard/?page=postnews&blogid=' + blog_id + '&postid=' + story_id + '\"><img id=\"edit_button\" src=\"/img/dashboard/post-edit.png\" alt=\"Edit\" width=\"21\" height=\"21\" title=\"Edit this story\" /><span id=\"edit_text\">Edit</span></a>';}if (getCookie('b4in_new_user_id') == author_id) {html += '<div id=\"delete_form\"><form id=\"deleteForm\" method=\"GET\" action=\"/core/ajax/story/delete_story.php\" onsubmit=\"delete_story(); return false;\">';html += '<input type=\"hidden\" name=\"story_id\" value=\"' + story_id + '\">';html += '<input type=\"hidden\" name=\"blog_id\" value=\"' + blog_id + '\">';html += '<input type=\"hidden\" name=\"reason\" value=\"By Author\">';html += '<input type=\"image\" src=\"http://image.b4in.net/RoundDeleteButton.png\" alt=\"Delete\" class=\"inline\" />';html += '</form></div>';} else if (isAdmin()) {html += '<div id=\"delete_form\"><form id=\"deleteForm\" method=\"GET\" action=\"/core/ajax/story/delete_story.php\" onsubmit=\"delete_story(); return false;\">';html += '<input type=\"hidden\" name=\"story_id\" value=\"' + story_id + '\">';html += '<input type=\"hidden\" name=\"blog_id\" value=\"' + blog_id + '\">';html += '<input type=\"image\" src=\"http://image.b4in.net/RoundDeleteButton.png\" alt=\"Delete\" class=\"inline\" />';html += '<select name=\"reason\" style=\"border: 0pt none; width: 130px; vertical-align: middle;\">';html += '<option value=\"Delete\">Delete</option>';html += '<option value=\"Copyright\">Copyrighted</option>';html += '<option value=\"TOS\">TOS Violation</option>';html += '<option value=\"Duplicate\">Duplicate</option>';html += '</select></form></div>';} else if (isEditor()) {html += '<div id=\"delete_form\"><form id=\"deleteForm\" method=\"GET\" action=\"/core/ajax/story/delete_story.php\" onsubmit=\"delete_story(); return false;\">';html += '<input type=\"hidden\" name=\"story_id\" value=\"' + story_id + '\">';html += '<input type=\"hidden\" name=\"blog_id\" value=\"' + blog_id + '\">';html += '<input type=\"image\" src=\"/images/story/exclamation.png\" alt=\"TOS Violation\" class=\"inline\" style=\"height: 24px; width: 24px; margin-top: 4px; margin-right: 6px;\" />';html += '<select name=\"reason\" style=\"border: 0pt none; width: 130px; vertical-align: middle;\">';html += '<option value=\"Delete\">Delete</option>';html += '<option value=\"Copyright\">Copyrighted</option>';html += '<option value=\"TOS\">TOS Violation</option>';html += '<option value=\"Duplicate\">Duplicate</option>';html += '</select></form></div>';}$('#edit_delete').html(html);// Join active viewsvar current_date_time = new Date();var current_timestamp = Math.floor( current_date_time.getTime() / 1000 );if (current_timestamp - 24 * 60 * 60 < parseInt($('#story_tsp').val())) {var img = new Image();img.src='/core/ajax/story/ping.php?sid=' + $('#story_id').val() + '&bid=' + $('#category_id').val() + '&stime=' + $('#story_tsp').val();setInterval(function () {var img = new Image();img.src='/core/ajax/story/ping.php?sid=' + $('#story_id').val() + '&bid=' + $('#category_id').val() + '&stime=' + $('#story_tsp').val();}, 15000);}}function delete_story() {if (confirm('Really DELETE this story?\\n\\nThere is NO UNDO!')) {var data = $('#deleteForm').serialize();$('#deleteForm').html('<img id=\"edit_button\" src=\"/images/misc/loading.gif\" alt=\"Processing...\" width=\"21\" height=\"21\" title=\"Processing... Please wait.\" />');$.get('/core/ajax/story/delete_story.php',data,function (data) {if (data != null) {alert(data.message);if (data.status) {var categoryPattern = /\\/[^/]+\\//;var categoryArray = categoryPattern.exec(window.location.pathname)window.document.location = categoryArray[0];}}$('#deleteForm').html('');},'json');}}function myStripHTML(oldString) {\"use strict\";var newString, inTag, i, max;newString = \"\";inTag = false;for (i = 0, max = oldString.length; i < max; i++) {if (oldString.charAt(i) === '<') {inTag = true;}if (oldString.charAt(i) === '>') {if (oldString.charAt(i + 1) !== '<') {inTag = false;i++;}}if (!inTag) {newString += oldString.charAt(i);}}return newString;}function getStoryUrl() {\"use strict\";var url = window.location.href;return encodeURI(url);}function selectOne(chk) {\"use strict\";var first, addr;first = true;addr = \"\";$(\"input[name=es_check_name]\").each(function () {if (this.checked) {if (first) {first = false;addr = this.value;} else {addr += \",\" + this.value;}}});$(\"#email_address\").val(addr);}function fadeEmailResponse() {\"use strict\";$(\"#bf_email_response\").fadeOut(\"slow\");}function email_share_get_response(datastr) {\"use strict\";$.ajax({type: \"POST\",url: \"/bottom_float/sendmail.php\",data: datastr,cache: false,success: function (html) {$(\"#bf_email_response\").fadeIn(\"slow\");$(\"#bf_email_response\").html(html);setTimeout(fadeEmailResponse, 5000);}});}function emailShareCutText(text) {\"use strict\";if (text.length <= 21) {return text;}return text.substr(0, 19) + \"..\";}function loadEmailList(yourname, youremail, listname, listemail, prov) {\"use strict\";showContactList(prov);var html, i, mail, name;document.getElementById('your_name').value = yourname;document.getElementById('your_email').value = youremail;html = '';for (i = 0; i < listemail.length; i++) {mail = listemail[i];if (!mail) {continue;}name = listname[i];html += '<div class=\"es_single_contact\">' + '<div class=\"es_contact_names float_left\">' + '<span class=\"es_username\" title=\"' + name + '\">' + name + '</span> ' + '<span class=\"es_email\" title=\"' + mail + '\">' + emailShareCutText(mail) + '</span></div>' + '<div class=\"es_contact_cbox float_right\">' + '<input name=\"es_check_name\" value=\"' + mail + '\" onclick=\"selectOne(this)\" type=\"checkbox\">' + '</div></div>';}document.getElementById('mail_list_id').innerHTML = html;if (prov === 'yahoo') {yahoo_profile_cached = [];yahoo_profile_cached[0] = yourname;yahoo_profile_cached[1] = youremail;yahoo_email_list_cached = html;} else {google_profile_cached = [];google_profile_cached[0] = yourname;google_profile_cached[1] = youremail;google_email_list_cached = html;}}function showContactList(prov) {\"use strict\";document.getElementById('fancybox-wrap').style.width = '662px';document.getElementById('fancybox-content').style.width = '642px';document.getElementById('share_this_story_form').style.width = '642px';document.getElementById('email_share_form_id').style.width = '280px';document.getElementById('bf_social_gmail').style.width = '130px';document.getElementById('bf_social_yahoo').style.width = '130px';document.getElementById('email_address').value = \"\";document.getElementById('mail_list_id').style.display = \"block\";document.getElementById('select_all_box').style.display = \"block\";if (prov === 'google') {document.getElementById(\"email_share_radio_gmail\").checked = true;} else {document.getElementById(\"email_share_radio_yahoo\").checked = true;}/*$(\"#email_share_radio_gmail\").attr(\"checked\",\"checked\");else$(\"#email_share_radio_yahoo\").attr(\"checked\",\"checked\"); */}function trimText(txt) {\"use strict\";return txt.replace(/^\\s+|\\s+$/, '');}function addslashes(str) {\"use strict\";return str.replace(/[\\\\\"']/g, '\\\\$&').replace(/\\u0000/g, '\\\\0');}function stripHTML(strHTML) {\"use strict\";if (!strHTML) {return '';}var text = strHTML.replace(/<.*?>/g, '');text = text.replace(/\\t/g, ' ');text = text.replace(/\\n/g, ' ');text = text.replace(/\\r/g, ' ');text = text.replace(/ /g, ' ');text = text.replace(/\\s\\s+/ig, ' ');text = trimText(addslashes(text));return text;}function get_desc_from_content(strContent) {\"use strict\";if (!strContent) {return '';}var str = strContent.replace(/<.*?>/g, '');str = str.substring(0, 250) + '...';str = str.replace(/\\t/g, ' ');str = str.replace(/\\n/g, ' ');str = str.replace(/\\r/g, ' ');str = str.replace(/ /g, ' ');str = str.replace(/\\s\\s+/ig, ' ');str = trimText(addslashes(str));return str;}function getStoryPageUrl() {\"use strict\";var url, test;url = window.location.href;test = url.substr(url.indexOf('beforeitsnews'), url.length);return encodeURI(\"http://\" + test);}function handleEmail() {\"use strict\";var story, social, suri, stitle, sdesc;suri = getStoryPageUrl();sdesc = get_desc_from_content($(\"#body\").html());$('#bf_email_share_title').html($(\"#headline\").text() );$('#page_url').val(suri);$('#page_title').val($(\"#headline\").text());$('#page_desc').val(sdesc);}function emailShareClick() {\"use strict\";$(\"#lightbox_email\").click();}function printStory() {\"use strict\";window.open('/bottom_float/print_story.html', 'PrintStory', 'menubar=no,resizable=yes,scrollbars=yes,width=680,height=450');}function handleBottomFloatBar() {\"use strict\";var stitle, sdesc, sdesc_tumblr;stitle = encodeURIComponent(addslashes($('#headline').text()));sdesc = encodeURIComponent(story_description);if (typeof story_thumbnail !== \"undefined\")sdesc_tumblr = encodeURIComponent('<img align=\"middle\" src=\"' + story_thumbnail + '\" /><br />' + story_description);elsesdesc_tumblr = sdesc;var awesm_api_key = encodeURIComponent('f16374303e18090baba90a39e7ae0c5ebf3bb4caf4b787ae1720bcb78f17662f');var awesm_tool = 'UsCqDC';var story_url = 'http://' + window.location.hostname + window.location.pathname;var awesm_original_url = encodeURIComponent(story_url);var awesm_tag = (blogpath === '') ? '' : ('&tag=' + blogpath);var awesm_channel = \"facebook-share\";var bf_social_fbshare_href = \"http://api.awe.sm/url/share?v=3&url=\" + awesm_original_url + awesm_tag + \"&key=\" + awesm_api_key + \"&tool=\" + awesm_tool + \"&channel=\" + awesm_channel + \"&destination=\" + encodeURIComponent('http://facebook.com/sharer.php?u=AWESM_URL' );var bf_social_fbshare_button = '<a title=\"Share on Facebook\" href=\"' + bf_social_fbshare_href + '\" onclick=\"javascript:window.open(this.href, \\'\\', \\'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600\\');return false;\"> <img class=\"bf_icon\" width=\"20\" height=\"20\" src=\"//image.b4in.net/facebook_sm.png\" alt=\"Share on Facebook\"/></a>';$('#bf_social_fbshare').html(bf_social_fbshare_button);var awesm_channel = \"twitter\";var bf_social_twitter_href = \"http://api.awe.sm/url/share?v=3&url=\" + awesm_original_url + awesm_tag + \"&key=\" + awesm_api_key + \"&tool=\" + awesm_tool + \"&channel=\" + awesm_channel + \"&destination=\" + encodeURIComponent('http://twitter.com/intent/tweet?url=AWESM_URL&text=' + stitle );var bf_social_twitter_button = '<a title=\"Share on Twitter\" href=\"' + bf_social_twitter_href + '\" onclick=\"javascript:window.open(this.href, \\'\\', \\'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600\\');return false;\"> <img class=\"bf_icon\" width=\"20\" height=\"20\" src=\"//image.b4in.net/twitter_sm.png\" alt=\"Share on Twitter\"/></a>';$('#bf_social_twitter').html(bf_social_twitter_button);var awesm_channel = \"tumblr-link\";var tumblr_button_href = \"http://api.awe.sm/url/share?v=3&url=\" + awesm_original_url + awesm_tag + \"&key=\" + awesm_api_key + \"&tool=\" + awesm_tool + \"&channel=\" + awesm_channel + \"&destination=\" + encodeURIComponent('http://www.tumblr.com/share/link?url=AWESM_URL&name=' + stitle + '&description=' + sdesc_tumblr );var tumblr_button_button = '<a title=\"Share on Tumblr\" href=\"' + tumblr_button_href + '\" onclick=\"javascript:window.open(this.href, \\'\\', \\'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600\\');return false;\"><img class=\"bf_icon\" width=\"20\" height=\"20\" src=\"http://image.b4in.net/tumblr0.png\" alt=\"Share on Tumblr\" /></a>';$('#bf_social_tumblr').html(tumblr_button_button);awesm_channel = \"digg-share\";var digg_button_href = \"http://api.awe.sm/url/share?v=3&url=\" + awesm_original_url + awesm_tag + \"&key=\" + awesm_api_key + \"&tool=\" + awesm_tool + \"&channel=\" + awesm_channel + \"&destination=\" + encodeURIComponent('http://digg.com/submit?url=AWESM_URL&title=' + stitle + '&bodytext=' + sdesc );var digg_button_button = '<a title=\"Share on Digg\" href=\"' + digg_button_href + '\" onclick=\"javascript:window.open(this.href, \\'\\', \\'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600\\');return false;\"><img class=\"bf_icon\" width=\"20\" height=\"20\" src=\"http://image.b4in.net/digg.png\" alt=\"Digg\" /></a>';$('#bf_social_digg').html(digg_button_button);awesm_channel = \"reddit-share\";var reddit_button_href = \"http://api.awe.sm/url/share?v=3&url=\" + awesm_original_url + awesm_tag + \"&key=\" + awesm_api_key + \"&tool=\" + awesm_tool + \"&channel=\" + awesm_channel + \"&destination=\" + encodeURIComponent('http://www.reddit.com/submit?url=AWESM_URL&title=' + stitle );var reddit_button_button = '<a title=\"Share on Reddit\" href=\"' + reddit_button_href + '\" onclick=\"javascript:window.open(this.href, \\'\\', \\'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600\\');return false;\"><img class=\"bf_icon\" width=\"20\" height=\"20\" src=\"http://image.b4in.net/reddit.png\" alt=\"Reddit\" /></a>';$('#bf_social_reddit').html(reddit_button_button);awesm_channel = \"stumbleupon-share\";var stumbleupon_button_href = 'http://www.stumbleupon.com/submit?url=' + encodeURIComponent( window.location.protocol + \"//\" + window.location.host + window.location.pathname ) + '&title=' + stitle + '&newcomment=' + sdesc;var stumbleupon_button_button = '<a title=\"Share on StumbleUpon\" href=\"' + stumbleupon_button_href + '\" onclick=\"javascript:window.open(this.href, \\'\\', \\'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600\\');return false;\"><img class=\"bf_icon\" width=\"20\" height=\"20\" src=\"http://image.b4in.net/stumbleupon.png\" alt=\"StumbleUpon\" /></a>';$('#bf_social_stumbleupon').html(stumbleupon_button_button);$('#bf_social_print_icon').click(function () {printStory();});$('#bf_social_email_icon').click(function () {emailShareClick();});}function removeNodesBelow(position, paths, storyNodeId) {\"use strict\";var story_body, path, i, j, childNode, removedNodes;story_body = document.getElementById(storyNodeId);path = paths[position];removedNodes = [];for (i = 2; i < path.length; i++) {position = path[i];for (j = position + 1; j < story_body.childNodes.length; j++) {childNode = story_body.childNodes[j];if (childNode.nodeName === '#text' || childNode.nodeType === 1) {removedNodes.push(childNode);}}while (removedNodes.length > 0) {story_body.removeChild(removedNodes.pop());}story_body = story_body.childNodes[position];}}function removeNodesBackToFirst(position, paths, storyNodeId) {\"use strict\";var story_body, path, i, j, childNode, removedNodes;story_body = document.getElementById(storyNodeId);path = paths[position];removedNodes = [];for (i = 2; i < path.length - 1; i++) {position = path[i];story_body = story_body.childNodes[position];}removedNodes.push(story_body.childNodes[path[i]]);for (i = path.length - 1; i >= 2; i--) {position = path[i];for (j = 0; j < position; j++) {childNode = story_body.childNodes[j];if (childNode.nodeName === '#text' || childNode.nodeType === 1) {removedNodes.push(childNode);}}while (removedNodes.length > 0) {story_body.removeChild(removedNodes.pop());}story_body = story_body.parentNode;}}function countWords(text) {\"use strict\";var delimiter, count;delimiter = /\\s+/g;text = text.split(delimiter);count = text.length;if (text[0] === '') {count--;}if (text[text.length - 1] === '') {count--;}return count < 0 ? 0 : count;}function traverseStoryBody(nodeOfBody, position, current_path, paths) {\"use strict\";var i, text, count, tmp;i = 0;current_path.push(position);if (nodeOfBody.nodeName === '#text' || nodeOfBody.nodeName === 'TABLE' || nodeOfBody.nodeName === 'P' || nodeOfBody.nodeName === 'OL' || nodeOfBody.nodeName === 'LI' || nodeOfBody.nodeName === 'A') {text = nodeOfBody.textContent || nodeOfBody.innerText || nodeOfBody.nodeValue || ' ';count = countWords(text);if (count > 0) {tmp = [];tmp.push(count);tmp.push(text);for (i = 0; i < current_path.length; i++) {tmp.push(current_path[i]);}paths.push(tmp);}} else if (nodeOfBody.nodeType === 1) {for (i = 0; i < nodeOfBody.childNodes.length; i++) {if (nodeOfBody.childNodes[i].nodeName === '#text' || nodeOfBody.childNodes[i].nodeType === 1) {traverseStoryBody(nodeOfBody.childNodes[i], i, current_path, paths);}}}current_path.pop();}function embedAdDeep(node, adNode) {\"use strict\";var i, childNode, headNode, adNode, max, text, words, textCount, pattern;textCount = 0;headNode = null;pattern = /[\\s\\S]*<(img|li|table|ol|iframe)/mi;max = node.childNodes.length;while (max === 1) {node = node.firstChild;node.normalize;max = node.childNodes.length;}for (i = 0; i < max; i++) {childNode = node.childNodes[i];text = childNode.textContent || childNode.innerText || childNode.nodeValue || ' ';if (countWords(text) === 0) {continue;}if (headNode === null) {headNode = childNode;}text = $(childNode).html();if (pattern.test(text)) {headNode = null;textCount = 0;continue;}textCount++;if (textCount > 4) {node.insertBefore(adNode, headNode);return true;}}return false;}function embedAd(storyNodeId, adCode) {\"use strict\";var adNode, node;node = document.getElementById(storyNodeId);adNode = $(adCode)[0];embedAdDeep(node, adNode);}function splitStory(minWords, maxWords, storyNodeId) {\"use strict\";var story_body, count, currentSplittedPage, SinglePage, pattern, current_path, paths, i, wordsCount, Pages, lastParagraph, page, continuePage, nextPage, prevPage, pagenavi, halfRange, firstSplittedPage, lastSplittedPage;story_body = document.getElementById(storyNodeId);count = countWords(story_body.textContent || story_body.innerText || story_body.nodeValue || ' ');if (count <= minWords + maxWords) {$('#body').css('visibility', 'visible');return;}currentSplittedPage = 1;SinglePage = 0;pattern = /currentSplittedPage=(\\d+)/;if (pattern.test(location.search)) {currentSplittedPage = parseInt(location.search.match(pattern)[1], 10);}if (currentSplittedPage === SinglePage) {$('#body').css('visibility', 'visible');return;}current_path = [];paths = [];i = 0;for (i = 0; i < story_body.childNodes.length; i++) {if (story_body.childNodes[i].nodeName === '#text' || story_body.childNodes[i].nodeType === 1) {traverseStoryBody(story_body.childNodes[i], i, current_path, paths);}}wordsCount = 0;Pages = [];for (lastParagraph = 0; lastParagraph < paths.length; lastParagraph++) {wordsCount += paths[lastParagraph][0];if ((lastParagraph === paths.length - 1) || (wordsCount >= maxWords) || ((wordsCount >= minWords) && (wordsCount + paths[lastParagraph + 1][0] > maxWords))) {page = [];page[0] = wordsCount;page[1] = lastParagraph;Pages.push(page);wordsCount = 0;}}if (Pages.length === 1) {$('#body').css('visibility', 'visible');return;} else if (Pages[Pages.length - 1][0] < minWords) {Pages[Pages.length - 2][0] += Pages[Pages.length - 1][0];Pages[Pages.length - 2][1] = Pages[Pages.length - 1][1];Pages.pop();}if (currentSplittedPage > Pages.length) {currentSplittedPage = 1;}if (currentSplittedPage < Pages.length) {removeNodesBelow(Pages[currentSplittedPage - 1][1], paths, storyNodeId);}if (currentSplittedPage > 1) {removeNodesBackToFirst(Pages[currentSplittedPage - 2][1], paths, storyNodeId);}continuePage = '';nextPage = '';prevPage = '';if (currentSplittedPage < Pages.length) {continuePage = '<div id=\"continue-page\">' + '<a href=\"' + location.pathname + '?currentSplittedPage=' + (currentSplittedPage + 1) + '\">Continued on Next Page</a>' + '</div>';nextPage = '<a href=\"' + location.pathname + '?currentSplittedPage=' + (currentSplittedPage + 1) + '\">Next</a>';}if (currentSplittedPage > 1) {prevPage = '<a href=\"' + location.pathname + '?currentSplittedPage=' + (currentSplittedPage - 1) + '\">Prev</a>';}pagenavi = '';halfRange = 2;firstSplittedPage = currentSplittedPage - halfRange;lastSplittedPage = currentSplittedPage + halfRange;if (firstSplittedPage < 1) {lastSplittedPage = lastSplittedPage + 1 - firstSplittedPage;}if (lastSplittedPage > Pages.length) {firstSplittedPage = firstSplittedPage + Pages.length - lastSplittedPage;}if (firstSplittedPage < 1) {firstSplittedPage = 1;}if (lastSplittedPage > Pages.length) {lastSplittedPage = Pages.length;}for (i = firstSplittedPage; i <= lastSplittedPage; i++) {if (i !== currentSplittedPage) {pagenavi += '<a href=\"' + location.pathname + '?currentSplittedPage=' + i + '\">' + i + '</a>';} else {pagenavi += '<span class=\"current\">' + i + '</span>';}}pagenavi = '<div id=\"story-pagenavi\">' + prevPage + pagenavi + nextPage + '<a href=\"' + location.pathname + '?currentSplittedPage=0\">View as Single Page</a>' + '</div>' + continuePage;$('#story-pagenavi-bar').html(pagenavi);$('#story-pagenavi-bar').css('display', 'block');$('#body').css('visibility', 'visible');count = 0;for (i = 0; i < paths.length; i++) {count += paths[i][0];}}function freeze() {\"use strict\";var googleTop, storyHeight;googleTop = $('#floating_ad').offset().top - parseFloat($('#floating_ad').css('margin-top').replace(/auto/, 0));$(window).scroll(function (event) {var y;y = $(this).scrollTop();var dh = $(document).height();if(y + 600 < dh - 250){if (y >= googleTop) {$('#floating_ad').css('margin-top', y - googleTop);} else{$('#floating_ad').css('margin-top', 0);}}});storyHeight = $('#story').height();$('#story_right_col').height(storyHeight);}function notshowsubscribleClick(tick) {\"use strict\";if (tick.value) {setCookie('b4in_new_subscribe_notshow', Date.parse(new Date()), '0', '/', '', '');} else {deleteCookie('b4in_new_subscribe_notshow', '', '');}}function fixVideoOverDiv() {\"use strict\";$('embed').each(function () {$(this).attr('wmode', 'transparent');});$('object').each(function () {$(this).html('<param name=\"wmode\" value=\"transparent\" />' + $(this).html().replace('src=', 'wmode=\"transparent\" src='));});$('iframe').each(function () {var wmode, src;wmode = 'wmode=transparent';src = $(this).attr(\"src\");if (src && src.indexOf(\"youtube.com\") > 0) {if (src.indexOf(\"?\") > 0) {$(this).attr(\"src\", src + '&' + wmode);} else {$(this).attr(\"src\", src + '?' + wmode);}}});}function processNextAd() {\"use strict\";var _match, span, tag;if (adTags.length === 0) {return;}span = adTags.shift();tag = $(span).attr('id');adTags.unshift(span);document.write = function (text) {$('#' + tag).html(text);};_match = /(\\d*)x(\\d*)$/.exec(tag);GA_googleFillSlotWithSize('ca-pub-7268876088039072', tag, _match[1], _match[2]);waitToProcessNextAd();}function waitToProcessNextAd() {\"use strict\";var span, tag, ad;span = adTags.shift();tag = $(span).attr('id');ad = '#google_ads_iframe_' + tag;if ($(ad).length === 0) {adTags.unshift(span);setTimeout(waitToProcessNextAd, 100);} else {processNextAd();}}function houseAds(adTags) {\"use strict\";$(adTags).each(function () {var tag, match;tag = $(this).attr('id');match = /(\\d*x\\d*)$/.exec(tag);if (match[1] === '728x90') {$(this).html('<a href=\"http://www.nationalmssociety.org/raceMap.aspx\"><img src=\"http://bikenyh.nationalmssociety.org/digitaldownloads/Bike-MS-2010-Leaderboard-Banner-728x90_Final.gif\" width=\"728\" height=\"90\" alt=\"MS ad\" /></a>');} else if (match[1] === '300x250') {$(this).html('<a href=\"http://www.nationalmssociety.org/raceMap.aspx\"><img src=\"http://bikenyh.nationalmssociety.org/images/content/pagebuilder/848054.gif\" width=\"300\" height=\"250\" alt=\"MS ad\" /></a>');} else if (match[1] === '300x100') {$(this).html('<a href=\"http://www.nationalmssociety.org/raceMap.aspx\"><img src=\"http://walkksg.nationalmssociety.org/images/content/pagebuilder/477939.gif\" width=\"300\" height=\"100\" alt=\"MS ad\" /></a>');} else if (match[1] === '160x600') {$(this).html('<a href=\"http://www.nationalmssociety.org/raceMap.aspx\"><img src=\"http://www.nationalmssociety.org/get-involved/events/bike-ms/digital-downloads-bike-ms/image.aspx?id=8173&width=160&height=600\" width=\"160\" height=\"600\" alt=\"MS ad\" /></a>');}});}function updateAds(story) {\"use strict\";adTags = $('.google_ad').toArray();if (typeof GA_googleAddAttr === 'undefined') {houseAds(adTags);return;}processNextAd();}function disabledSearchClick() {\"use strict\";$('#q').click(function () {$('#q').attr('disabled', 'disabled');$('#searchDisabled').click();});}function casalePopunder() {\"use strict\";var casaleD, casaleR, casaleU, casaleHost;if (document.cookie.indexOf('b4in_new=') !== -1) {return;}casaleD = new Date();casaleR = (casaleD.getTime() % 8673806982) + Math.random();casaleU = encodeURIComponent(window.location.href);casaleHost = ' type=\"text/javascript\" src=\"http://as.casalemedia.com/s?s=';document.write('<scr' + 'ipt' + casaleHost + '117586&u=');document.write(casaleU + '&f=1&id=' + casaleR + '\"><\\/scr' + 'ipt>');}function setupReportAbuse() {\"use strict\";$('#report_abuse').hover(function() {$('#report_abuse').attr('src', 'http://image.b4in.net/report_abuse-over.png');}, function() {$('#report_abuse').attr('src', 'http://image.b4in.net/report_abuse.png');});$('#report_abuse').click(function() {window.location.href = '/copyright/#abuse_web_form';});}function googleTranslateElementInit() {\"use strict\";new google.translate.TranslateElement({pageLanguage: 'auto',autoDisplay: false,gaId: 'UA-16055024-1',layout: google.translate.TranslateElement.InlineLayout.SIMPLE},'google_translate_element');}function loadDeferredScripts() {\"use strict\";$.getScript('http://www.google.com/recaptcha/api/js/recaptcha_ajax.js');}function checkMobile(){if (!/android|iphone|ipod|ipad|series60|symbian|windows ce|blackberry/i.test(navigator.userAgent)) {return false;}return true;}function fixVideoSize(text){var searchString = text.match(/<iframe(.*)>/g);if(searchString){for(i=0;i<searchString.length;i++) {var iframe=searchString[i];var widths = iframe.match(/width\\s*=\\s*[\"|']([^\"|']*)\"/g);if(!widths) continue ;width=widths[0];width=width.replace('width','').replace('=','').replace('\"','').replace('\"','');width=trimText(width);if(width>660) {var newiframe=iframe.replace(widths[0],'width=\"660\"');var heights = iframe.match(/height\\s*=\\s*[\"|']([^\"|']*)\"/g);if(heights) {var high=heights[0];high=high.replace('height','').replace('=','').replace('\"','').replace('\"','');high=trimText(high);var newHigh=660*high/width;newiframe=newiframe.replace(heights[0],'height=\"'+newHigh+'\"');}text=text.replace(iframe,newiframe);}}}return text;}function checkVideoObject(){var text= $('#body').html();var searchString = text.match(/<object(.*)>/g);if(searchString){return true;}searchString = text.match(/<iframe(.*)youtube(.*)>/g);if(searchString){return true;}searchString = text.match(/<iframe(.*)vimeo(.*)>/g);if(searchString){return true;}searchString = text.match(/<iframe(.*)klewtv(.*)>/g);if(searchString){return true;}return false;}function fixEmbedObjectSize(text){var searchString = text.match(/<embed(.*)>/g);if(searchString){for(i=0;i<searchString.length;i++) {var object=searchString[i];var widths = object.match(/width\\s*=\\s*[\"|']([^\"|']*)\"/g);if(!widths) continue ;width=widths[0];width=width.replace('width','').replace('=','').replace('\"','').replace('\"','');width=trimText(width);if(width>660) {var newobject=object.replace(widths[0],'width=\"660\"');var heights = object.match(/height\\s*=\\s*[\"|']([^\"|']*)\"/g);if(heights) {var high=heights[0];high=high.replace('height','').replace('=','').replace('\"','').replace('\"','');high=trimText(high);var newHigh=660*high/width;newobject=newobject.replace(heights[0],'height=\"'+newHigh+'\"');}text=text.replace(object,newobject);}}}return text;}function fixImageSize(text){var searchString = text.match(/<img(.*)>/g);if(searchString){for(i=0;i<searchString.length;i++) {var image=searchString[i];var widths = image.match(/width\\s*=\\s*[\"|']([^\"|']*)\"/g);if(!widths) continue ;width=widths[0];width=width.replace('width','').replace('=','').replace('\"','').replace('\"','');width=trimText(width);if(width>660) {var newimage=image.replace(widths[0],'width=\"660\"');var heights = image.match(/height\\s*=\\s*[\"|']([^\"|']*)\"/g);if(heights) {var high=heights[0];high=high.replace('height','').replace('=','').replace('\"','').replace('\"','');high=trimText(high);var newHigh=660*high/width;newimage=newimage.replace(heights[0],'height=\"'+newHigh+'\"');}text=text.replace(image,newimage);}}}return text;}function fixMediaSize(){var text= $('#body').html();text=fixVideoSize(text);text=fixEmbedObjectSize(text);text=fixImageSize(text);$('#body').html(text);}function createCommentCaptcha() {\"use strict\";var html = '<div style=\"margin-top: 10px;\"><label>Enter the text in the image <font color=\"#FF3300\">(*)</font>:</label><div style=\"font-size:11px;\"><em>Click on the image to refresh!</em></div><div id=\"captchaStatus\" style=\"color:red;font-size:12px\"></div><div style=\"text-align: left;\"><img id=\"imgCaptcha\" src=\"/captcha/img.captcha.php\" onclick=\"setTimeout(\\'refreshCaptcha()\\', 300); return false;\" alt=\"Click on me to change image\" align=\"left\" style=\"margin-top:5px;border:1px solid #CCC;\" /><input id=\"txtCaptcha\" type=\"text\" name=\"txtCaptcha\" value=\"\" maxlength=\"10\" size=\"10\" style=\"width:100px; height:22px;\" /></div></div>';html += '<script type=\"text/javascript\">setTimeout(\\'refreshCaptcha()\\', 300);</script>';$('#comment_captcha').html(html);}function refreshCaptcha() {\"use strict\";var imgCaptcha = document.getElementById('imgCaptcha');imgCaptcha.src = '/captcha/img.captcha.php?' + Math.random();}function showCommentSubmit() {\"use strict\";var ct;if(hasCookie('b4in_new_user_id')) {$('#user_pen_name').html(getCookie('b4in_new_pen_name'));$('#comment_submiting').data('processing', false);$('#comment_submit').click(function () {if ($.trim($('#comment_text').val()) === '') return false;if ($('#comment_submiting').data('processing') === false) {$('#comment_submiting').data('processing', true);$('#comment_submiting').show();$('#comment_submit').hide();$('#comment_category_id').val($('#category_id').val());$.post('/core/ajax/comment/add_comment.php',$('#commentform').serialize(),function(data) {$('#comment_submiting').hide();$('#comment_submiting').data('processing', false);if (data !== null && typeof data.result != 'undefined' && data.result == true) {$('#commentform').fadeOut('slow', function () {ct = document.getElementById('comment_text').value;ct = ct.replace(/[\\r\\n]/g, '<br />');$('#respond').html('<div class=\"b4in_comment\"><div class=\"b4in_comment_header\"><span class=\"b4in_comment_byline\" id=\"new_comment_byline\"></span><span class=\"b4in_comment_tools\"></span></div><div id=\"new_comment_text\" class=\"b4in_comment_text\"></div></div>');$('#new_comment_text').html(ct + '<div class=\"alert\">Notice: Your comment has been accepted.<br />Please allow a few moments before it is visible to others.</div>');$('#new_comment_byline').html('Posted by <strong>' + getCookie('b4in_new_pen_name').replace(/\\+/g, ' ') + '</strong>');});} else if (data !== null && typeof data.spam != 'undefined') {$('#commentform').fadeOut('slow', function () {$('#respond').html('<div class=\"b4in_comment\"><div class=\"b4in_comment_header\"><span class=\"b4in_comment_byline\" id=\"new_comment_byline\"></span><span class=\"b4in_comment_tools\"></span></div><div id=\"new_comment_text\" class=\"b4in_comment_text\"></div></div>');$('#new_comment_text').html('<div class=\"alert\">' + data.spam + '</div>');});} else if (data !== null && typeof data.newcomer != 'undefined') {$('#commentform').fadeOut('slow', function () {$('#respond').html('<div class=\"b4in_comment\"><div class=\"b4in_comment_header\"><span class=\"b4in_comment_byline\" id=\"new_comment_byline\"></span><span class=\"b4in_comment_tools\"></span></div><div id=\"new_comment_text\" class=\"b4in_comment_text\"></div></div>');$('#new_comment_text').html('<div class=\"alert\">' + data.newcomer + '</div>');});}$('.comment-reply-link').hide();},'json');} else {alert('Another action is processing. Please wait...')}});}else {$('#comment_text').click(function () {$('#lightbox').click();});$('#comment_submit').click(function () {$('#lightbox').click();});}}function buildSubcategories(cats) {\"use strict\";var newCats, i, cat, soption, subcategory, tempCat;newCats = cats.split('|');cats = [];for (i = 0; i < newCats.length - 1; i++) {tempCat = newCats[i].split(',');cat.id = tempCat[0];cat.name = tempCat[1];cats[i] = cat;}subcategory = document.createElement(\"select\");subcategory.id = \"subcategory\";subcategory.name = \"subcategory\";soption = document.createElement(\"option\");soption.innerHTML = \"Please select a subcategory\";soption.value = \"\";subcategory.appendChild(soption);for (i = 0; i < cats.length; i++) {cat = cats[i];soption = document.createElement(\"option\");soption.innerHTML = cat.name;soption.value = cat.id;subcategory.appendChild(soption);}document.getElementById('subcategoryselect').appendChild(subcategory);}function setOutput() {\"use strict\";var result;if (httpObject.readyState === 4) {result = httpObject.responseText;if (result.length > 0) {buildSubcategories(result);}}}function getHTTPObject() {\"use strict\";if (window.ActiveXObject) {return new ActiveXObject(\"Microsoft.XMLHTTP\");} else if (window.XMLHttpRequest) {return new XMLHttpRequest();} else {window.alert(\"Your browser does not support AJAX.\");return null;}}function checkSubcategories(category) {\"use strict\";httpObject = getHTTPObject();if (httpObject !== null) {httpObject.open(\"GET\", \"/checksubs.php?category=\" + category, true);httpObject.send(null);httpObject.onreadystatechange = setOutput;}}function getSubcategory(category) {\"use strict\";var node = document.getElementById('subcategoryselect');if (node.childNodes.length > 0) {node.removeChild(node.firstChild);}if (category !== \"\") {checkSubcategories(category);}}function findPos(obj) {\"use strict\";var curleft, curtop;curleft = 0;curtop = 0;if (obj.offsetParent) {curleft = obj.offsetLeft;curtop = obj.offsetTop;while (obj.offsetParent !== null) {obj = obj.offsetParent;curleft += obj.offsetLeft;curtop += obj.offsetTop;}}return [curleft, curtop];}function stop() {\"use strict\";clearTimeout(animate);}function moveRight() {\"use strict\";document.getElementById('admin_drawer').style.left = parseInt(document.getElementById('admin_drawer').style.left, 10) + speed + 'px';animate = setTimeout(moveRight, 20);if (parseInt(document.getElementById('admin_drawer').style.left, 10) >= stopLoc) {stop();}}function moveLeft() {\"use strict\";document.getElementById('admin_drawer').style.left = parseInt(document.getElementById('admin_drawer').style.left, 10) - speed + 'px';animate = setTimeout(moveLeft, 20);if (parseInt(document.getElementById('admin_drawer').style.left, 10) <= startLoc) {stop();}}function animateTab() {\"use strict\";var loc, x, y;loc = findPos(document.getElementById('admin_drawer'));x = loc[0];y = loc[1];if (x > 10) {moveLeft();} else {moveRight();}var h_s = $(window).height();var h_bar= $(\"#admin_box\").height();var h = h_bar - h_s - 50;$(\"#admin_box\").css(\"height\", h_s-70).css(\"overflow\", \"auto\");}function unlikeContributor(story_id) {\"use strict\";$.get('/core/ajax/recommend/like_contributor.php', {'author_id': $('#author_id').val(),'state': 'unlike'}, function (data) {$('#like_contributor_count').html(data.like_contributor);}, 'json');$('#like_contributor').css('background', 'url(\"http://image.b4in.net/recommend_contributor_lg4.png\")');$('#likeContributorMessage').html('Click here to recommend this contributor');readyLikeContributor(story_id);}function readyUnlikeContributor(story_id) {\"use strict\";$('#like_contributor').unbind();$('#like_contributor').click(function () {unlikeContributor(story_id);});}function likeContributor(story_id) {\"use strict\";$.get('/core/ajax/recommend/like_contributor.php', {'author_id': $('#author_id').val(),'state': 'like'}, function (data) {$('#like_contributor_count').html(data.like_contributor);}, 'json');$('#like_contributor').css('background', 'url(\"http://image.b4in.net/recommend_contributor_lg-over4.png\")');$('#likeContributorMessage').html('You recommend this contributor');readyUnlikeContributor(story_id);}function readyLikeContributor(story_id) {\"use strict\";$('#like_contributor').unbind();$('#like_contributor').click(function () {likeContributor(story_id);});$('#like_contributor').hover(function () {$('#like_contributor').css('background', 'url(\"http://image.b4in.net/recommend_contributor_lg-over4.png\")');}, function () {$('#like_contributor').css('background', 'url(\"http://image.b4in.net/recommend_contributor_lg4.png\")');});}function unlikeStory(story_id) {\"use strict\";$.get('/core/ajax/recommend/like_story.php', {'story_id': story_id,'category_id': $('#category_id').val(),'state': 'unlike'}, function (data) {$('#like_story_count').html(data.like_story);}, 'json');$('#like_story').css('background', 'url(\"http://image.b4in.net/recommend_story_lg4.png\")');$('#likeStoryMessage').html('Click here to recommend this story');readyLikeStory(story_id);}function readyUnlikeStory(story_id) {\"use strict\";$('#like_story').unbind();$('#like_story').click(function () {unlikeStory(story_id);});}function likeStory(story_id) {\"use strict\";$.get('/core/ajax/recommend/like_story.php', {'story_id': story_id,'category_id': $('#category_id').val(),'state': 'like'}, function (data) {$('#like_story_count').html(data.like_story);}, 'json');// $('#button_like').addClass('story_liked');// $('#button_like').removeClass('story_unliked');$('#like_story').css('background', 'url(\"http://image.b4in.net/recommend_story_lg-over4.png\")');$('#likeStoryMessage').html('You recommend this story');readyUnlikeStory(story_id);}function readyLikeStory(story_id) {\"use strict\";$('#like_story').unbind();$('#like_story').click(function () {likeStory(story_id);});$('#like_story').hover(function () {$('#like_story').css('background', 'url(\"http://image.b4in.net/recommend_story_lg-over4.png\")');}, function () {$('#like_story').css('background', 'url(\"http://image.b4in.net/recommend_story_lg4.png\")');});}function changeCategory(cat) {\"use strict\";$.post('/core/ajax/admin-tab/change_category.php', {'url': window.location.href,'category_id': cat},function(data) {if(data)window.location.href=data;});}function setStoryAttribute(attribute, value) {\"use strict\";if (value == true) {switch (attribute) {case 'allow_popular':case 'allow_hometop25':$('#allow_category_story_checkbox:not(:checked)').click();case 'allow_recent':$('#allow_category_story_checkbox:not(:checked)').click();case 'allow_category':case 'top_china':case 'top_alternative':case 'top_space':case 'top_self_sufficiency':case 'top_sci_tech':case 'top_unexplained':case 'top_spirituality':case 'top_money':case 'top_politics':case 'top_lifestyle':case 'top_health':case 'top_global':case 'top_books':case 'top_watercooler':case 'featured':$('#demote_story_checkbox:checked').click();break;case 'demote':$('input.top_list:checked').click();$('#featured_story_checkbox:checked').click();}}$.post('/core/ajax/admin-tab/set_story_attribute.php',{'url': window.location.href,'attribute': attribute,'value': value},function (data) {});}function setContributorExtraAttribute(attribute, value) {$.post('/core/ajax/admin-tab/admin/set_contributor_extra_attribute.php',{'story_id': $('#story_id').val(),'category_id': $('#category_id').val(),'author_id': $('#author_id').val(),'attribute': attribute,'value': value},function (data) {if (typeof data.result != 'undefined' && data.result == false)alert(data.message);});}function setStoryExtraAttribute(attribute, value) {$.post('/core/ajax/admin-tab/admin/set_story_extra_attribute.php',{'story_id': $('#story_id').val(),'category_id': $('#category_id').val(),'attribute': attribute,'value': value},function (data) {if (typeof data.result != 'undefined' && data.result == false)alert(data.message);});}function setBadge(badge, value) {\"use strict\";$.post('/set_badge.php', {'user_id': $('#author_id').val(),'badge': badge,'value': value});}function setProfileAttribute(attribute, value, grantable) {\"use strict\";if (value === true) {$('#grant_' + attribute + '_profile_checkbox').attr('disabled', false);} else {$('#grant_' + attribute + '_profile_checkbox').attr('checked', false);$('#grant_' + attribute + '_profile_checkbox').attr('disabled', true);}$.post('/core/ajax/admin-tab/set_profile_attribute.php', {'url': window.location.href,'user_id': $('#author_id').val(),'attribute': attribute,'value': value,'grantable': grantable}, function (data) {});}var reload_timeout=null;function myReload(){return false;if(!checkVideoObject()){reload_timeout=setTimeout( function(){window.location.reload( true );}, 20*60*1000 );$('#comment_text').keypress(function () {clearTimeout(reload_timeout);reload_timeout= setTimeout( function(){window.location.reload( true );}, 20*60*1000 );});}}var ban_comment_id = 0;var ban_comment_processing = false;function handleComments() {\"use strict\";if(!hasCookie('b4in_new_user_id')) {$('.comment-reply-link').removeAttr(\"onclick\").unbind(\"click\").click(function () {$('#lightbox').click();return false;});}$('.comment_id').each(function(index) {var comment_id = $(this).val();$('#comment_processing_' + comment_id).data('processing', false);if(hasCookie('b4in_new_user_id')) {$('#upvote_comment_' + comment_id).click(function () {if ($('#comment_processing_' + comment_id).data('processing') === false) {$('#comment_processing_' + comment_id).data('processing', true);$('#comment_processing_' + comment_id).show();$.post('/core/ajax/comment/vote_comment.php',{'category_id': $('#category_id').val(),'comment_id' : comment_id,'state': 'like'},function(data) {$('#comment_processing_' + comment_id).hide();$('#comment_processing_' + comment_id).data('processing', false);if (data !== null && typeof data.result != 'undefined' && data.result == true) {$('#li-comment-' + comment_id).css('background-color', '#aaffaa');}},'json');} else {alert('Another action is processing. Please wait...')}});$('#upvote_comment_' + comment_id).mouseover(function () {$('#upvote_comment_' + comment_id).attr('src', 'http://image.b4in.net/upvote_active.png');});$('#upvote_comment_' + comment_id).mouseout(function () {$('#upvote_comment_' + comment_id).attr('src', 'http://image.b4in.net/upvote.png');});$('#downvote_comment_' + comment_id).click(function () {if ($('#comment_processing_' + comment_id).data('processing') === false) {$('#comment_processing_' + comment_id).data('processing', true);$('#comment_processing_' + comment_id).show();$.post('/core/ajax/comment/vote_comment.php',{'category_id': $('#category_id').val(),'comment_id' : comment_id,'state': 'dislike'},function(data) {$('#comment_processing_' + comment_id).hide();$('#comment_processing_' + comment_id).data('processing', false);if (data !== null && typeof data.result != 'undefined' && data.result == true) {$('#li-comment-' + comment_id).css('background-color', '#ffaaaa');}},'json');} else {alert('Another action is processing. Please wait...')}});$('#downvote_comment_' + comment_id).mouseover(function () {$('#downvote_comment_' + comment_id).attr('src', 'http://image.b4in.net/downvote_active.png');});$('#downvote_comment_' + comment_id).mouseout(function () {$('#downvote_comment_' + comment_id).attr('src', 'http://image.b4in.net/downvote.png');});if (isAdmin() || isEditor()) {$('#delete_comment_' + comment_id).html('<img id=\"delete_comment_' + comment_id + '\" src=\"http://image.b4in.net/RoundDeleteButton.png\" width=\"32\" height=\"32\" alt=\"Delete comment\" title=\"Delete comment\" class=\"clickable\" />');$('#delete_comment_' + comment_id).click(function () {if ($('#comment_processing_' + comment_id).data('processing') === false) {$('#comment_processing_' + comment_id).data('processing', true);$('#comment_processing_' + comment_id).show();$.post('/core/ajax/comment/delete_comment.php',{'category_id': $('#category_id').val(),'comment_id' : comment_id},function(data) {$('#comment_processing_' + comment_id).hide();$('#comment_processing_' + comment_id).data('processing', false);if (data !== null && typeof data.result != 'undefined' && data.result == true) {$('#li-comment-' + comment_id).fadeOut('slow');}},'json');} else {alert('Another action is processing. Please wait...')}});}$('#report_spam_comment_' + comment_id).click(function () {if ($('#ban_reason').data('processing') === false) {$('#ban_reason').data('processing', true);$('#comment_processing_' + comment_id).show();$.post('/core/ajax/comment/report_spam_comment.php',{'category_id': $('#category_id').val(),'story_url': window.location.href,'comment_id' : comment_id,'comment_author': $('#comment-' + comment_id + '-author').val(),'comment_text': $.trim($('#comment-' + comment_id + ' .comment_content_wrapper').text())},function(data) {if (data !== null && typeof data.result !== 'undefined' && data.result === true) {$('#comment_processing_' + comment_id).hide();$('#ban_reason').data('processing', false);$('#li-comment-' + comment_id).fadeTo('slow', 0.33);bin_alert('This comment has been reported to Before It\\'s News editors as a spam comment. Thank you!', 'Report spam result');} else if (data !== null && typeof data.need_reason != 'undefined' && data.need_reason == true) {ban_comment_id = comment_id;if ( parseInt ( $ ('#admin_drawer').css('left') ) > 0)moveLeft();$(\"#ban_reason\").dialog('open');}},'json');} else {bin_alert('Another action is processing. Please wait...', 'Please wait...')}});}else {$('#report_spam_comment_' + comment_id).click(function () {$('#lightbox').click();});$('#upvote_comment_' + comment_id).click(function () {$('#lightbox').click();});$('#upvote_comment_' + comment_id).mouseover(function () {$('#upvote_comment_' + comment_id).attr('src', 'http://image.b4in.net/upvote_active.png');});$('#upvote_comment_' + comment_id).mouseout(function () {$('#upvote_comment_' + comment_id).attr('src', 'http://image.b4in.net/upvote.png');});$('#downvote_comment_' + comment_id).click(function () {$('#lightbox').click();});$('#downvote_comment_' + comment_id).mouseover(function () {$('#downvote_comment_' + comment_id).attr('src', 'http://image.b4in.net/downvote_active.png');});$('#downvote_comment_' + comment_id).mouseout(function () {$('#downvote_comment_' + comment_id).attr('src', 'http://image.b4in.net/downvote.png');});}});}function readyDisabledContributor() {\"use strict\";$('#like_contributor').unbind();$('#like_contributor').click(function () {$('#lightbox').click();});$('#like_contributor').hover(function () {$('#like_contributor').css('background', 'url(\"http://image.b4in.net/recommend_contributor_lg-over4.png\")');}, function () {$('#like_contributor').css('background', 'url(\"http://image.b4in.net/recommend_contributor_lg4.png\")');});}function readyDisabledStory() {\"use strict\";$('#like_story').unbind();$('#like_story').click(function () {$('#lightbox').click();});$('#like_story').hover(function () {$('#like_story').css('background', 'url(\"http://image.b4in.net/recommend_story_lg-over4.png\")');}, function () {$('#like_story').css('background', 'url(\"http://image.b4in.net/recommend_story_lg4.png\")');});}function updateRecommendCounter() {\"use strict\";var story_id = $('#story_id').val();$.post('/core/ajax/recommend/get_recommend_counter_json.php',{'author_id': $('#author_id').val(),'story_id': story_id,'category_id': $('#category_id').val()},function (data) {if (data !== null) {if (!isNaN(data.like_contributor) && !isNaN(parseInt(data.like_contributor))) {$('#like_contributor_count').html(data.like_contributor);}if (!isNaN(data.like_story) && !isNaN(parseInt(data.like_story))) {$('#like_story_count').html(data.like_story);}if(hasCookie('b4in_new_user_id')) {if (data.recommend_contributor) {$('#like_contributor').css('background', 'url(\"http://image.b4in.net/recommend_contributor_lg-over4.png\")');$('#likeContributorMessage').html('You recommend this contributor');readyUnlikeContributor(story_id);} else {$('#like_contributor').css('background', 'url(\"http://image.b4in.net/recommend_contributor_lg4.png\")');$('#likeContributorMessage').html('Click here to recommend this contributor');readyLikeContributor(story_id);}if (data.recommend_story) {$('#button_like').addClass('story_liked');$('#like_story').css('background', 'url(\"http://image.b4in.net/recommend_story_lg-over4.png\")');$('#likeStoryMessage').html('You recommend this story');readyUnlikeStory(story_id);} else {$('#button_like').addClass('story_unliked');$('#like_story').css('background', 'url(\"http://image.b4in.net/recommend_story_lg4.png\")');$('#likeStoryMessage').html('Click here to recommend this story');readyLikeStory(story_id);}}else {$('#likeContributorMessage').html('Join now to recommend this contributor');$('#likeStoryMessage').html('Join now to recommend this story');readyDisabledContributor();readyDisabledStory();}}},'json');}function updateNewsletterLink() {\"use strict\";$.post('/core/ajax/contributor/newsletterpermission.php',{'author_id': $('#author_id').val()},function (data) {if (data !== null) {if (data == 1) {$('#subscribenewsletter').html('<a id=\"newsletter_href\" style=\"cursor: pointer;\">Get My BIN Email Newsletter</a>');$('#newsletter_href').click(function () {$('#lightbox_newsletter').click();});$('#subscribenewsletterMessage').html('Click here to subscribe to this contributor');var sprytooltipnews;sprytooltipnews = new Spry.Widget.Tooltip(\"subscribenewsletterMessage\", \"#subscribenewsletter\");} else {$('#subscribenewsletter').html(\"\");}}});}function getUrlCategoryPage(category_id) {var catList = new Array();catList['0000000000000001'] = 'celebrities';catList['0000000000000002'] = 'china';catList['0000000000000003'] = 'funnews';catList['0000000000000033'] = 'movies';catList['0000000000000005'] = 'health';catList['0000000000000006'] = 'international';catList['0000000000000008'] = 'obama';catList['0000000000000010'] = 'resources';catList['0000000000000011'] = 'spirit';catList['0000000000000013'] = 'science-technology';catList['0000000000000015'] = 'economy';catList['0000000000000016'] = 'sports';catList['0000000000000017'] = 'environment';catList['0000000000000019'] = 'arts';catList['0000000000000020'] = 'thelaw';catList['0000000000000021'] = 'financial';catList['0000000000000023'] = 'gold';catList['0000000000000024'] = 'energy';catList['0000000000000025'] = 'business';catList['0000000000000026'] = 'alternative';catList['0000000000000027'] = 'entertainment';catList['0000000000000028'] = 'opinion-conservative';catList['0000000000000029'] = 'opinion-liberal';catList['0000000000000030'] = 'media';catList['0000000000000042'] = 'tv';catList['0000000000000053'] = 'economics-politics';catList['0000000000000057'] = 'politics';catList['0000000000000062'] = 'religion';catList['0000000000000071'] = 'crime-all-stars';catList['0000000000000074'] = 'military';catList['0000000000000076'] = 'survival';catList['0000000000000078'] = 'immigration';catList['0000000000000079'] = 'libertarian';catList['0000000000000080'] = 'banksters';catList['0000000000000084'] = 'animal-pets';catList['0000000000000085'] = 'india';catList['0000000000000087'] = 'fedgate';catList['0000000000000096'] = 'terrorism';catList['0000000000000098'] = 'scandals';catList['0000000000000099'] = 'uspolitics';catList['0000000000000100'] = 'iran';catList['0000000000000101'] = 'strange';catList['0000000000000104'] = 'teaparty';catList['0000000000000105'] = 'weather';catList['0000000000000106'] = 'earthquakes';catList['0000000000000107'] = 'pressreleases';catList['0000000000000108'] = 'healthcare';catList['0000000000000118'] = 'prophecy';catList['0000000000000121'] = 'israel';catList['0000000000000125'] = 'freeenergy';catList['0000000000000178'] = 'awesome-time-wasters';catList['0000000000000135'] = 'christiannews';catList['0000000000000136'] = 'gadgets';catList['0000000000000138'] = 'gulf-oil-spill';catList['0000000000000142'] = 'space';catList['0000000000000143'] = 'paranormal';catList['0000000000000144'] = '9-11-and-ground-zero';catList['0000000000000145'] = 'obama-birthplace-controversy';catList['0000000000000146'] = 'conspiracy-theories';catList['0000000000000147'] = 'war-and-conflict';catList['0000000000000148'] = 'education';catList['0000000000000150'] = 'power-elite';catList['0000000000000151'] = 'travel';catList['0000000000000153'] = 'green-living';catList['0000000000000154'] = 'opinion';catList['0000000000000156'] = 'spies-and-intelligence';catList['0000000000000158'] = 'election2012';catList['0000000000000159'] = 'marijuana-debate';catList['0000000000000162'] = 'comic-relief';catList['0000000000000164'] = 'foreclosure-gate';catList['0000000000000166'] = 'tsa-controversy';catList['0000000000000167'] = 'wikileaks';catList['0000000000000168'] = 'chemtrails';catList['0000000000000169'] = 'mass-animal-death';catList['0000000000000171'] = 'global-unrest';catList['0000000000000172'] = 'blogging';catList['0000000000000176'] = 'japan-earthquake';catList['0000000000000177'] = 'war-on-terror';catList['0000000000000180'] = 'self-sufficiency';catList['0000000000000181'] = 'outdoors';catList['0000000000000182'] = '2012';catList['0000000000000183'] = 'diy';catList['0000000000000184'] = 'middleeast';catList['0000000000000185'] = 'cooking-and-recipes';catList['0000000000000186'] = 'fantasy-sports';catList['0000000000000195'] = 'protests-demonstrations';catList['0000000000000194'] = 'metaphysics';catList['0000000000000193'] = 'motor-junkies';catList['0000000000000038'] = 'events';catList['0000000000000077'] = 'religion';catList['0000000000000179'] = 'awesome-time-wasters';catList['0000000000000123'] = 'forex';catList['0000000000000137'] = 'food-farming';catList['0000000000000140'] = 'afican-american';catList['0000000000000139'] = 'native-american';catList['0000000000000117'] = 'letters-to-the-editor';catList['0000000000000130'] = 'agriculture';catList['0000000000000127'] = 'astrology';catList['0000000000000196'] = 'books';catList['0000000000000198'] = 'eu';catList['0000000000000046'] = 'markets';catList['0000000000000155'] = 'personal-finance';catList['0000000000000044'] = 'pictures';catList['0000000000000092'] = 'republican';catList['0000000000000102'] = 'shen-yun';catList['0000000000000049'] = 'silver';catList['0000000000000111'] = 'arabic-news';catList['0000000000000059'] = 'relationship';catList['0000000000000197'] = 'family-parenting';catList['0000000000000199'] = 'beyond-science';return catList[category_id];}function updateSubscribe() {\"use strict\";$('#lightbox_subscribe').fancybox({'titleShow': false,'transitionIn': 'none','transitionOut': 'none',onStart: function () {},onComplete: function () {},onCancel: function () {},onClosed: function () {setCookie('b4in_new_subscribe_new', Date.parse(new Date()), '1', '/', '', '');_gaq.push(['_trackEvent', 'story roadblock', 'closed']);}});if (!hasCookie('b4in_new_subscribe_notshow') && !hasCookie('b4in_new_subscribe_new')) {setCookie('b4in_new_subscribe_new', Date.parse(new Date()), '0', '/', '', '');$('#lightbox_subscribe').click();_gaq.push(['_trackEvent', 'story roadblock', 'opened']);}}var story_counter_hour = 0;function storyTrack(){$.post('/core/ajax/counter/story.php', {story_id: $('#story_id').val(),category_id: $('#category_id').val(),author_id: $('#author_id').val()}, function (data) {if(data) {var list=data.split('|');story_counter_hour = parseInt(list[2]);$('#counter_hour').html(add_commas(story_counter_hour));$('#counter_day').html(add_commas(list[1]));$('#counter_total').html(add_commas(list[0]));updateStats();}} );}function getStoryId(){return $('#story_id').val();}function getCategoryId(){return $('#category_id').val();}function loadStripMall(){return; // Disable stripmallvar mobile_device_detector = new MobileDetect(window.navigator.userAgent);if (!mobile_device_detector.mobile() && !$('#clarifying_the_truth').length) {$.get('/static/data/story-stripmall-new.html',function (list) {if(list) {var ads_count = 0, index;while(list.length > 0 && ads_count < 15){// var imgHeight = document.getElementById(\"stripmall\").clientHeight;// if(imgHeight>2500) break;index = Math.floor(Math.random() * list.length);$('#stripmall').append(list[index]);list.splice(index,1);ads_count++;}}},'json');}}function updateMostPopularStories() {$.get('/static/data/today-top-stories.html', {}, function (data) {if(data) {$('#top_headlines').html(data);}} );$.get('/static/data/today-top-recent.html', {}, function (data) {if(data) {$('#recent_stories').html(data);}} );}function checkEmail(email) {var filter = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;if (!filter.test(email)) {alert('Please provide a valid email address');email.focus;return false;}else{return true;}}function QuickSubscribeUser(){var email = document.getElementById('subscribe_user_email').value;var story_id=$('#story_id').val();var cate_id=$('#category_id').val();email = trimText(email);if(checkEmail(email)){$(\"#loading\").show();$.post('/bottom_send_mail/mail_get_alert.php', {mail:email, story_id:story_id, cate_id:cate_id}, function(data){$(\"#loading\").hide();if(data > '0'){if(data == '2'){var r = confirm(\"This story already sent to your email. Do you really want to get again?\");if(r == true){$(\"#loading\").show();$.post('/bottom_send_mail/mail_get_alert.php', {mail:email, story_id:story_id, cate_id:cate_id, confirm: true}, function(data){$(\"#loading\").hide();if(data == '1'){url = \"/bottom_send_mail/email.php\";url +=\"?email=\"+email;$(\"#lightbox_email_send\").attr('href', url);$(\"#lightbox_email_send\").click();}else{alert(\"Fail! Try it again.\");}});}}else{url = \"/bottom_send_mail/email.php\";url +=\"?email=\"+email;$(\"#lightbox_email_send\").attr('href', url);$(\"#lightbox_email_send\").click();}}else{alert(\"Fail! Try it again.\");}});}}function checkAll(){var check = $('#check_all').attr(\"checked\");var check_value = false;if (check == true || check == 'checked')check_value = true;var forma1 = $('#unsub_form input');for (var i = 0; i < forma1.length; i++){if (forma1[i].type == \"checkbox\"){forma1[i].checked = check_value;}}}function SubmitAlertEmailAjax(){$(\"#fxbloading\").show();var form = $('#unsub_form');$.ajax( {type: \"POST\",url: form.attr( 'action' ),data: form.serialize(),success: function() {$(\"#fxbloading\").hide();$.fancybox.close();}} );}$(document).ready(function () {\"use strict\";story_description = $(\"meta[property='og:description']\").attr(\"content\");story_thumbnail = $(\"meta[property='og:image']\").attr(\"content\");var d;d = new Date();$('#date').html(d.toLocaleString().replace(/:\\d\\d[^:].*/, ''));$.ajaxSetup({cache: false});$('#lightbox_email').fancybox({titleShow: false,opacity: true,transitionIn: 'elastic',transitionOut: 'none'});$('#lightbox_email_send').fancybox({'titleShow':false,'transitionIn':'false','transitionOut':'false'});$('#lightbox_newsletter').fancybox({'titleShow':false,'transitionIn':'none','transitionOut':'none'});handleStory();handleComments();showCommentSubmit();freeze();setupReportAbuse();myReload();loadDeferredScripts();/*createCommentCaptcha();*/updateMostPopularStories();loadStripMall();storyTrack();if(checkMobile()) $('#social_bottom_float').hide();$(\"#subscribe_user_email\").keyup(function(e){if(e.keyCode == 13) {QuickSubscribeUser();}});// setTimeout(showBottomFloatStory, 5000);$('#ban_reason').data('processing', false);$('#ban_reason').dialog({resizable: false,height: 400,width: 600,draggable: false,modal: true,autoOpen: false,title: 'Ban commenter confirmation',buttons: {OK: function() {if ($.trim($('#ban_reason_content').val()) !== '') {ban_comment_processing = true;$.post('/core/ajax/comment/report_spam_comment.php',{'category_id': $('#category_id').val(),'story_url': window.location.href,'comment_id' : ban_comment_id,'comment_author': $('#comment-' + ban_comment_id + '-author').val(),'comment_text': $.trim($('#comment-' + ban_comment_id + ' .comment_content_wrapper').text()),'ban_reason': $.trim($('#ban_reason_content').val())},function (return_data) {if (return_data !== null && typeof return_data.banned_count !== 'undefined' && typeof return_data.banned_days !== 'undefined') {$('#li-comment-' + ban_comment_id).fadeOut('slow');bin_alert('This comment has been deleted and the commenter has been banned total ' + return_data.banned_count + ' times. He can comment again after ' + return_data.banned_days + ' days.', 'Ban commenter result!');} elsebin_alert('Something went wrong! Go take a well-deserved break and check again in a little while.', 'Failed!');$('#comment_processing_' + ban_comment_id).hide();$('#ban_reason').data('processing', false);ban_comment_processing = false;},'json');$(this).dialog(\"close\");}},Cancel: function() {$(this).dialog(\"close\");}},open: function( event, ui ) {$('.ui-widget').css('font-size', '15px');$('#ban_reason_content').val('');},close: function( event, ui ) {if (ban_comment_processing === false) {$('#comment_processing_' + ban_comment_id).hide();$('#ban_reason').data('processing', false);}}});$('#bin_alert').dialog({resizable: false,draggable: false,modal: true,autoOpen: false,buttons: {OK: function() {$(this).dialog(\"close\");},},open: function( event, ui ) {$('.ui-widget').css('font-size', '15px');}});handleSDMbuttons();});var enable_bottom_story = true;var bottom_stories_list, bottom_stories_list_admin;function showBottomFloatStory() {\"use strict\";if (hasCookie('b4in_new_user_option_disable_float_story'))return;var story = document.getElementById('bottom_float_story');if (story) {$(story).css('bottom', $('#social_bottom_float').height());$(window).scroll(function (event) {if (enable_bottom_story && ($('#related_stories').offset().top - $(window).scrollTop() - $(window).height() + $('#related_stories').height() + $('#social_bottom_float').height() < 0) && $('#bottom_float_story').css('visibility') == 'hidden') {$('#bottom_float_story').css('visibility', 'visible');} else {if (enable_bottom_story && ($('#related_stories').offset().top - $(window).scrollTop() - $(window).height() + $('#related_stories').height() + $('#social_bottom_float').height() >= 0) && $('#bottom_float_story').css('visibility') == 'visible') {$('#bottom_float_story').css('visibility', 'hidden');}}});toogle_disable_bottom_stories();} else {showRandomBottomFloatStory();}}function showRandomBottomFloatStory() {\"use strict\";$.get('/static/data/bottom_stories_list.json',function(data) {bottom_stories_list = data;$.get('/static/data/top_10_alternative_list.json',function(data) {var index = bottom_stories_list.count;var i;for (i = 0; i< data.count; i++) {bottom_stories_list.stories[index + i] = data.stories[i];bottom_stories_list.count++;}if (bottom_stories_list.count > 0) {index = Math.floor(Math.random() * (bottom_stories_list.count));var story = bottom_stories_list.stories[index];// Check duplicate with this storyif ($('#category_id').val() == story.blog_id && $('#story_id').val() == story.story_id) {if (index > 0)index--;else {if (index < bottom_stories_list.count - 1)index++;elsereturn;}story = bottom_stories_list.stories[index];}$('#social_bottom_float').after('<div id=\"bottom_float_story\"><h4 style=\"float: left\">Recommended story:</h4><div id=\"close_bottom_story\" style=\"float: right; padding: 2px 1px; cursor: pointer;\" onclick=\"close_bottom_story();\"><img src=\"http://image.b4in.net/close_bottom_story.png\" title=\"Hide this recommended story\" alt=\"Hide this\" /></div><div style=\"clear: both\"></div><h5><a href=\"' + story.url + '\">' + story.title + '</a></h5><div id=\"turn_off_float_story_link\" style=\"float: right; margin: 0 5px 5px; font-size: 10px;\"><a href=\"#\" onclick=\"$(\\'#turn_off_float_story\\').dialog(\\'open\\'); return false;\">Disable all recommended stories</a></div></div>');story = document.getElementById('bottom_float_story');$(story).css('bottom', $('#social_bottom_float').height());$(window).scroll(function (event) {if (enable_bottom_story && ($('#related_stories').offset().top - $(window).scrollTop() - $(window).height() + $('#related_stories').height() + $('#social_bottom_float').height() < 0) && $('#bottom_float_story').css('visibility') == 'hidden') {$('#bottom_float_story').css('visibility', 'visible');} else {if (enable_bottom_story && ($('#related_stories').offset().top - $(window).scrollTop() - $(window).height() + $('#related_stories').height() + $('#social_bottom_float').height() >= 0) && $('#bottom_float_story').css('visibility') == 'visible') {$('#bottom_float_story').css('visibility', 'hidden');}}});toogle_disable_bottom_stories();}},'json');},'json');}function set_bottom_story(checked) {\"use strict\";$.post('/core/ajax/admin-tab/put_story_to_bottom_list.php',{'category_id': $('#category_id').val(),'story_id' : $('#story_id').val(),'state': checked ? 1 : 0});}function get_bottom_stories_list_admin() {\"use strict\";$.get('/static/data/bottom_stories_list.json',function(data) {bottom_stories_list_admin = data;$.get('/static/data/top_10_alternative_list.json',function(data) {var bottom_float_list_html = '<strong>Attach a story to bottom:</strong> <select style=\"width: 140px\" onchange=\"attach_to_bottom(this.options[selectedIndex].value);\">';bottom_float_list_html += '<option value=\"\"></option>';var bottom_float_checkbox_html = '<input type=\"checkbox\" onclick=\"set_bottom_story(this.checked)\" name=\"set_bottom_story_checkbox\" id=\"set_bottom_story_checkbox\" style=\"float: left;\"';var index = bottom_stories_list_admin.count;var i;for (i = 0; i < data.count; i++) {bottom_stories_list_admin.stories[index + i] = data.stories[i];bottom_stories_list_admin.count++;}if (bottom_stories_list_admin.count > 0) {var story;var category_id = $('#category_id').val();var story_id = $('#story_id').val();for ( i = 0; i < bottom_stories_list_admin.count; i++) {story = bottom_stories_list_admin.stories[i];if (story.blog_id == category_id && story.story_id == story_id) {bottom_float_checkbox_html += ' checked=\"checked\"';}if (typeof bottom_float_category_id != 'undefined' && story.blog_id == bottom_float_category_id && story.story_id == bottom_float_story_id)bottom_float_list_html += '<option value=\"' + story.blog_id + '-' + story.story_id + '\" selected=\"selected\">' + story.title + '</option>';elsebottom_float_list_html += '<option value=\"' + story.blog_id + '-' + story.story_id + '\">' + story.title + '</option>';}}bottom_float_list_html += '</select>';bottom_float_checkbox_html += ' /> <label for=\"set_bottom_story_checkbox\" style=\"margin-top: 4px; display: block; float: left;\">Insert this story into bottom stories list</label>';$('#bottom_stories_list').html(bottom_float_list_html);$('#bottom_story_set').html(bottom_float_checkbox_html);},'json');},'json');}function attach_to_bottom(category_story) {\"use strict\";var category_id;var story_id;if (category_story == '') {category_id = 0;story_id = 0} else {category_story = category_story.split('-');category_id = category_story[0];story_id = category_story[1];}$.post('/core/ajax/admin-tab/attach_to_bottom.php',{'category_id': $('#category_id').val(),'story_id' : $('#story_id').val(),'attached_category_id': category_id,'attached_story_id': story_id});}function close_bottom_story() {\"use strict\";enable_bottom_story = false;$('#bottom_float_story').fadeOut(2000);}function bin_alert (message, title) {$(\"#bin_alert\").html(message);$(\"#bin_alert\").dialog('option', {title: title});$(\"#bin_alert\").dialog('open');}function toogle_disable_bottom_stories() {if (isLoggedIn())$('#turn_off_float_story').dialog({resizable: false,draggable: false,modal: true,autoOpen: false,title: 'Disable recommended stories',buttons: {OK: function() {$(this).dialog(\"close\");window.location.href = '/dashboard/?page=user';},},open: function( event, ui ) {$('.ui-widget').css('font-size', '15px');}});else {$('#turn_off_float_story_link').html('');}}function close_bottom_story_ads() {$('#bottom_story_ads').hide();}function handleSDMbuttons() {\"use strict\";var sdesc, stitle, sdm_url, story_url, domain_parts, root_domain;sdesc = encodeURIComponent(story_description);stitle = encodeURIComponent(addslashes($('#headline').text()));// Create sdmdomain_parts = window.location.hostname.split('.');root_domain = domain_parts[domain_parts.length - 2] + '.' + domain_parts[domain_parts.length - 1];story_url = 'http://' + root_domain + window.location.pathname;if (domain_parts.length > 2) {// Current sdmsdm_url = 'http://' + window.location.hostname + window.location.pathname;} else {// New sdmvar path_parts = window.location.pathname.split('/');var path_tail = path_parts[path_parts.length - 1];var path_tail_parts = path_tail.split('-');if (path_tail_parts.length > 2) {sdm_url = 'http://' + path_tail_parts[path_tail_parts.length - 3] + '-' + path_tail_parts[path_tail_parts.length - 2] + '.' + root_domain + window.location.pathname;} else {sdm_url = 'http://' + path_tail_parts[0] + '.' + root_domain + window.location.pathname;}}// Create facebook share buttonvar facebook_share_url = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(sdm_url);var facebook_share_sdm_button = '<a href=\"' + facebook_share_url + '\" onclick=\"javascript:window.open(this.href, \\'\\', \\'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=270,width=500\\');return false;\"> <img src=\"//image.b4in.net/social/inline_facebook.jpg\" alt=\"Share on Facebook\"/></a>';$('#top_clarifying_facebook_share_button').html(facebook_share_sdm_button);$('#bottom_clarifying_facebook_share_button').html(facebook_share_sdm_button);// Create twitter share buttonvar tweet_share_url = 'https://twitter.com/share?url=' + encodeURIComponent(sdm_url) + '&text=' + stitle + '&counturl=' + encodeURIComponent(story_url);var tweet_share_sdm_button = '<a href=\"' + tweet_share_url + '\" onclick=\"javascript:window.open(this.href, \\'\\', \\'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=270,width=500\\');return false;\"> <img src=\"//image.b4in.net/social/inline_twitter\\n\\.jpg\" alt=\"Share on Twitter\"/></a>';$('#top_clarifying_tweet_share_button').html(tweet_share_sdm_button);$('#bottom_clarifying_tweet_share_button').html(tweet_share_sdm_button);// Create google plus share buttonvar goolge_share_sdm_button = '<a href=\"https://plus.google.com/share?url=' + encodeURIComponent(sdm_url) + '\" onclick=\"javascript:window.open(this.href, \\'\\', \\'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600\\');return false;\"> <img src=\"//image.b4in.net/social/inline_googleplus.jpg\" alt=\"Share on Google+\"/></a>';$('#top_clarifying_google_share_button').html(goolge_share_sdm_button);$('#bottom_clarifying_google_share_button').html(goolge_share_sdm_button);}"
        ],
        "content_text_length": 108841,
        "content_type": [
          "text/plain"
        ],
        "content_encoding": "windows-1252",
        "content_ffb": "76617220",
        "content_first_bytes": "76 61 72 20 61 64 54 61 67 73 3b 0d 0a 76 61 72 20 68 74 74 70 4f 62 6a 65 63 74 20 3d 20 6e 75",
        "content_type_droid": "application/octet-stream",
        "links_hosts": [
          "www.nationalmssociety.org",
          "beforeitsnews.com",
          "plus.google.com",
          "ox-d.beforeitsnews.com"
        ],
        "links_domains": [
          "beforeitsnews.com",
          "google.com",
          "nationalmssociety.org"
        ],
        "links_public_suffixes": [
          "com",
          "org"
        ],
        "elements_used": [
          "searchstring.length;i++)",
          "iframe(.*)klewtv(.*)",
          "tr",
          "param",
          "div",
          "img",
          "td",
          "br",
          "iframe(.*)youtube(.*)",
          "iframe(.*)vimeo(.*)",
          "embed(.*)",
          "h5",
          "h4",
          "option",
          "form",
          "font",
          "select",
          "a",
          "label",
          "table",
          "script",
          "input",
          "iframe",
          "iframe(.*)",
          "tbody",
          "strong",
          "p",
          "object(.*)",
          "em",
          "img(.*)",
          "scr'",
          "span"
        ],
        "content_type_tika": "text/plain; charset=windows-1252",
        "content_type_full": "text/plain; charset=windows-1252",
        "content_type_norm": "text",
        "content_language": "en",
        "ssdeep_hash_bs_3072": "mAObUTxLcUryFQtL100zlQYfPBZWKRda/3Zk",
        "ssdeep_hash_bs_6144": "UbUTxLcUryFQtLS0zlQYfPBZWKRda/3u",
        "ssdeep_hash_ngram_bs_3072": "mAObUTxLcUryFQtL100zlQYfPBZWKRda/3Zk",
        "ssdeep_hash_ngram_bs_6144": "UbUTxLcUryFQtLS0zlQYfPBZWKRda/3u",
        "crawl_dates": [
          "2015-02-27T00:04:34Z"
        ],
        "crawl_years": [
          "2015"
        ],
        "_version_": 1494730969923453000
      },
      {
        "source_file_s": "18.warc.gz@2275392",
        "url": "http://optic.tv/wp-content/themes/enfold/js/avia.js?ver=3",
        "content_type_ext": "js",
        "host": "optic.tv",
        "domain": "optic.tv",
        "public_suffix": "tv",
        "content_type_served": "application/x-javascript",
        "server": [
          "cloudflare-nginx"
        ],
        "content_length": 106761,
        "id": "sha1:BOIG3MMGUQQH7N4DH3Y43MS326NZT7BP/EovUo7DHWKCi9saaqxNroA==",
        "hash": [
          "sha1:BOIG3MMGUQQH7N4DH3Y43MS326NZT7BP"
        ],
        "crawl_date": "2015-02-26T23:55:25Z",
        "crawl_year": "2015",
        "wayback_date": "20150226235525",
        "content": [
          "(function($){ \"use strict\";$(document).ready(function(){ var aviabodyclasses = AviaBrowserDetection('html');$.avia_utilities = $.avia_utilities || {};if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) && 'ontouchstart' in document.documentElement){$.avia_utilities.isMobile = true;}else{$.avia_utilities.isMobile = false;}//check if user uses IE7 - if yes don't execute the function or the menu will breakif(aviabodyclasses.indexOf(\"avia-msie-7\") == -1) avia_responsive_menu();// decreases header size when user scrolls downavia_header_size();// set sidebar main menu optionavia_sidebar_menu();//activates the sticky submenuavia_sticky_submenu();//show scroll top buttonavia_scroll_top_fade();//creates search tooltipnew $.AviaTooltip({\"class\": 'avia-search-tooltip',data: 'avia-search-tooltip', event:'click', position:'bottom', scope: \"body\", attach:'element'});//creates relate posts tooltipnew $.AviaTooltip({\"class\": 'avia-related-tooltip', data: 'avia-related-tooltip', scope: \".related_posts, .av-share-box\", attach:'element', delay:0});//creates ajax searchnew $.AviaAjaxSearch({scope:'#header'});// actiavte portfolio sortingif($.fn.avia_iso_sort)$('.grid-sort-container').avia_iso_sort();//activates the mega menu javascriptif($.fn.aviaMegamenu)$(\".main_menu .menu\").aviaMegamenu({modify_position:true});$.avia_utilities.avia_ajax_call();});$.avia_utilities = $.avia_utilities || {};$.avia_utilities.avia_ajax_call = function(container){if(typeof container == 'undefined'){ container = 'body';};$('a.avianolink').on('click', function(e){ e.preventDefault(); });$('a.aviablank').attr('target', '_blank');//activates the prettyphoto lightbox$(container).avia_activate_lightbox();//scrollspy for main menu. must be located before smoothscrollingif($.fn.avia_scrollspy){if(container == 'body'){$('body').avia_scrollspy({target:'.main_menu .menu li > a'});}else{$('body').avia_scrollspy('refresh');}}//smooth scroolingif($.fn.avia_smoothscroll)$('a[href*=#]', container).avia_smoothscroll(container);avia_small_fixes(container);avia_hover_effect(container);avia_iframe_fix(container);//activate html5 video playerif($.fn.avia_html5_activation && $.fn.mediaelementplayer)$(\".avia_video, .avia_audio\", container).avia_html5_activation({ratio:'16:9'});}// -------------------------------------------------------------------------------------------// Error log helper// -------------------------------------------------------------------------------------------$.avia_utilities.log = function(text, type, extra){if(typeof console == 'undefined'){return;} if(typeof type == 'undefined'){type = \"log\"} type = \"AVIA-\" + type.toUpperCase(); console.log(\"[\"+type+\"] \"+text); if(typeof extra != 'undefined') console.log(extra); }// -------------------------------------------------------------------------------------------// modified SCROLLSPY by bootstrap// -------------------------------------------------------------------------------------------function AviaScrollSpy(element, options){var self = this;var process = $.proxy(self.process, self), refresh = $.proxy(self.refresh, self), $element = $(element).is('body') ? $(window) : $(element), hrefself.$body = $('body')self.$win = $(window)self.options = $.extend({}, $.fn.avia_scrollspy.defaults, options)self.selector = (self.options.target|| ((href = $(element).attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) //strip for ie7|| '')self.activation_true = false;if(self.$body.find(self.selector + \"[href*=#]\").length){self.$scrollElement = $element.on('scroll.scroll-spy.data-api', process);self.$win.on('av-height-change', refresh);self.$body.on('av_resize_finished', refresh);self.activation_true = true;self.checkFirst();setTimeout(function(){self.refresh()self.process()},100);}}AviaScrollSpy.prototype = {constructor: AviaScrollSpy, checkFirst: function () {var current = window.location.href.split('#')[0],matching_link = this.$body.find(this.selector + \"[href='\"+current+\"']\").attr('href',current+'#top');}, refresh: function () {if(!this.activation_true) return;var self = this, $targetsthis.offsets = $([])this.targets = $([])$targets = this.$body.find(this.selector).map(function () {var $el = $(this), href = $el.data('target') || $el.attr('href'), hash = this.hash, hash = hash.replace(/\\//g, \"\"), $href = /^#\\w/.test(hash) && $(hash)return ( $href&& $href.length&& [[ $href.position().top + (!$.isWindow(self.$scrollElement.get(0)) && self.$scrollElement.scrollTop()), href ]] ) || null}).sort(function (a, b) { return a[0] - b[0] }).each(function () {self.offsets.push(this[0])self.targets.push(this[1])})}, process: function () {if(!this.offsets) return;var scrollTop = this.$scrollElement.scrollTop() + this.options.offset, scrollHeight = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight, maxScroll = scrollHeight - this.$scrollElement.height(), offsets = this.offsets, targets = this.targets, activeTarget = this.activeTarget, iif (scrollTop >= maxScroll) {return activeTarget != (i = targets.last()[0])&& this.activate ( i )}for (i = offsets.length; i--;) {activeTarget != targets[i]&& scrollTop >= offsets[i]&& (!offsets[i + 1] || scrollTop <= offsets[i + 1])&& this.activate( targets[i] )}}, activate: function (target) {var active, selectorthis.activeTarget = target$(this.selector).parent('.' + this.options.applyClass).removeClass(this.options.applyClass)selector = this.selector+ '[data-target=\"' + target + '\"],'+ this.selector + '[href=\"' + target + '\"]'active = $(selector).parent('li').addClass(this.options.applyClass)if (active.parent('.sub-menu').length) {active = active.closest('li.dropdown_ul_available').addClass(this.options.applyClass)}active.trigger('activate')}}/* AviaScrollSpy PLUGIN DEFINITION* =========================== */$.fn.avia_scrollspy = function (option) {return this.each(function () {var $this = $(this), data = $this.data('scrollspy'), options = typeof option == 'object' && optionif (!data) $this.data('scrollspy', (data = new AviaScrollSpy(this, options)))if (typeof option == 'string') data[option]()})}$.fn.avia_scrollspy.Constructor = AviaScrollSpy$.fn.avia_scrollspy.defaults = {offset: (parseInt($('.html_header_sticky #main').data('scroll-offset'), 10)) + ($(\".html_header_sticky #header_main_alternate\").outerHeight()) + ($(\".html_header_sticky #header_meta\").outerHeight()) + 1 + parseInt($('html').css('margin-top'),10),applyClass: 'current-menu-item'}// -------------------------------------------------------------------------------------------// detect browser and add class to body// -------------------------------------------------------------------------------------------function AviaBrowserDetection(outputClassElement){if(typeof($.browser) !== 'undefined'){var bodyclass = '';if($.browser.msie){bodyclass += 'avia-msie';}else if($.browser.webkit){bodyclass += 'avia-webkit';}else if($.browser.mozilla){bodyclass += 'avia-mozilla';}if($.browser.version) bodyclass += ' ' + bodyclass + '-' + parseInt($.browser.version) + ' ';if($.browser.ipad){bodyclass += ' avia-ipad ';}else if($.browser.iphone){bodyclass += ' avia-iphone ';}else if($.browser.android){bodyclass += ' avia-android ';}else if($.browser.win){bodyclass += ' avia-windows ';}else if($.browser.mac){bodyclass += ' avia-mac ';}else if($.browser.linux){bodyclass += ' avia-linux ';}}if(outputClassElement) $(outputClassElement).addClass(bodyclass)return bodyclass;}// -------------------------------------------------------------------------------------------// responsive menu function// -------------------------------------------------------------------------------------------function avia_responsive_menu(){var $html = $('html'), win = $(window), header = $('.responsive #header');if(!header.length) return;var menu = header.find('.main_menu ul:eq(0)'),first_level_items = menu.find('>li').length,bottom_menu = $('html').is('.html_bottom_nav_header'),container = $('#wrap_all'),show_menu_btn = $('#advanced_menu_toggle'),hide_menu_btn = $('#advanced_menu_hide'),mobile_advanced = menu.clone().attr({id:\"mobile-advanced\", \"class\":\"\"}),sub_hidden = $html.is('.html_header_mobile_behavior'),insert_menu = function(){ if(first_level_items == 0) {show_menu_btn.remove();}else{var after_menu = $('#header .logo');show_menu_btn.insertAfter(after_menu);mobile_advanced.find('.noMobile').remove();mobile_advanced.prependTo(container);hide_menu_btn.prependTo(container);}},set_height = function(){var height = mobile_advanced.outerHeight(true), win_h = win.height();if(height < win_h) height = win_h;container.css({'height':height});mobile_advanced.css({position:'absolute', 'min-height':win_h});},hide_menu = function(){ container.removeClass('show_mobile_menu');setTimeout(function(){ container.css({'height':\"auto\", 'overflow':'hidden', 'minHeight':0}); },600);return false;},autohide = function(){if(container.is('.show_mobile_menu') && hide_menu_btn.css('display') == 'none'){ hide_menu(); }},show_menu = function(){if(container.is('.show_mobile_menu')){hide_menu();}else{win.scrollTop(0);container.addClass('show_mobile_menu');set_height();}return false;};$html.on('click', '#mobile-advanced li a, #mobile-advanced .mega_menu_title', function(){var current = $(this);//if submenu items are hidden do the toggleif(sub_hidden){var list_item = current.siblings('ul, .avia_mega_div');if(list_item.length){if(list_item.hasClass('visible_sublist')){list_item.removeClass('visible_sublist');}else{list_item.addClass('visible_sublist');}set_height();return false;}}//when clicked on anchor link remove the menu so the body can scroll to the anchorif(current.filter('[href*=#]').length){container.removeClass('show_mobile_menu');container.css({'height':\"auto\"});}});show_menu_btn.click(show_menu);hide_menu_btn.click(hide_menu);win.on( 'debouncedresize', autohide );insert_menu();}// -------------------------------------------------------------------------------------------// html 5 videos// -------------------------------------------------------------------------------------------$.fn.avia_html5_activation = function(options){ var defaults ={ratio: '16:9'};var options = $.extend(defaults, options),isMobile = $.avia_utilities.isMobile;// if(isMobile) return;this.each(function(){var fv = $(this),id_to_apply = '#' + fv.attr('id'),posterImg = fv.attr('poster');fv.mediaelementplayer({// if the <video width> is not specified, this is the defaultdefaultVideoWidth: 480,// if the <video height> is not specified, this is the defaultdefaultVideoHeight: 270,// if set, overrides <video width>videoWidth: -1,// if set, overrides <video height>videoHeight: -1,// width of audio playeraudioWidth: 400,// height of audio playeraudioHeight: 30,// initial volume when the player startsstartVolume: 0.8,// useful for <audio> player loopsloop: false,// enables Flash and Silverlight to resize to content sizeenableAutosize: false,// the order of controls you want on the control bar (and other plugins below)features: ['playpause','progress','current','duration','tracks','volume'],// Hide controls when playing and mouse is not over the videoalwaysShowControls: false,// force iPad's native controlsiPadUseNativeControls: false,// force iPhone's native controlsiPhoneUseNativeControls: false,// force Android's native controlsAndroidUseNativeControls: false,// forces the hour marker (##:00:00)alwaysShowHours: false,// show framecount in timecode (##:00:00:00)showTimecodeFrameCount: false,// used when showTimecodeFrameCount is set to trueframesPerSecond: 25,// turns keyboard support on and off for this instanceenableKeyboard: true,// when this player starts, it will pause other playerspauseOtherPlayers: false,poster: posterImg,success: function (mediaElement, domObject) { setTimeout(function(){if (mediaElement.pluginType == 'flash') { mediaElement.addEventListener('canplay', function() { fv.trigger('av-mediajs-loaded'); }, false);}else{fv.trigger('av-mediajs-loaded').addClass('av-mediajs-loaded');}mediaElement.addEventListener('ended', function() { fv.trigger('av-mediajs-ended'); }, false); },10);},// fires when a problem is detectederror: function () { },// array of keyboard commandskeyActions: []});});}// -------------------------------------------------------------------------------------------// hover effect for images// -------------------------------------------------------------------------------------------function avia_hover_effect(container){//hover overlay for mobile device doesnt really make sense. in addition it often slows down the click eventif($.avia_utilities.isMobile) return;var overlay = \"\", cssTrans = $.avia_utilities.supports('transition');if(container == 'body'){var elements = $('#main a img').parents('a').not('.noLightbox, .noLightbox a, .avia-gallery-thumb a, .avia-layerslider a, .noHover, .noHover a').add('#main .avia-hover-fx');}else{var elements = $('a img', container).parents('a').not('.noLightbox, .noLightbox a, .avia-gallery-thumb a, .avia-layerslider a, .noHover, .noHover a').add('.avia-hover-fx', container);}elements.each(function(e){var link = $(this), current = link.find('img:first');if(current.hasClass('alignleft')) link.addClass('alignleft').css({float:'left', margin:0, padding:0});if(current.hasClass('alignright')) link.addClass('alignright').css({float:'right', margin:0, padding:0});if(current.hasClass('aligncenter')) link.addClass('aligncenter').css({float:'none','text-align':'center', margin:0, padding:0});if(current.hasClass('alignnone')){link.addClass('alignnone').css({margin:0, padding:0});;if(!link.css('display') || link.css('display') == 'inline') { link.css({display:'inline-block'}); }}if(!link.css('position') || link.css('position') == 'static') { link.css({position:'relative', overflow:'hidden'}); }var url = link.attr('href'),span_class = \"overlay-type-video\",opa = link.data('opacity') || 0.7,overlay_offset = 5,overlay = link.find('.image-overlay');if(url){if( url.match(/(jpg|gif|jpeg|png|tif)/) ) span_class = \"overlay-type-image\";if(!url.match(/(jpg|gif|jpeg|png|\\.tif|\\.mov|\\.swf|vimeo\\.com|youtube\\.com)/) ) span_class = \"overlay-type-extern\";}if(!overlay.length){overlay = $(\"<span class='image-overlay \"+span_class+\"'><span class='image-overlay-inside'></span></span>\").appendTo(link);}link.on('mouseenter', function(e){var current = link.find('img:first'),_self = current.get(0),outerH = current.outerHeight(),outerW = current.outerWidth(),pos = current.position(),linkCss = link.css('display'),overlay = link.find('.image-overlay');if(outerH > 100){if(!overlay.length){overlay = $(\"<span class='image-overlay \"+span_class+\"'><span class='image-overlay-inside'></span></span>\").appendTo(link);}//can be wrapped into if !overlay.length statement if chrome fixes fade in problemif(link.height() == 0) { link.addClass(_self.className); _self.className = \"\"; }if(!linkCss || linkCss == 'inline') { link.css({display:'block'}); }//end wrapoverlay.css({left:(pos.left - overlay_offset) + parseInt(current.css(\"margin-left\"),10), top:pos.top + parseInt(current.css(\"margin-top\"),10)}).css({overflow:'hidden',display:'block','height':outerH,'width':(outerW + (2*overlay_offset))});if(cssTrans === false ) overlay.stop().animate({opacity:opa}, 400);}else{overlay.css({display:\"none\"});}}).on('mouseleave', elements, function(){if(overlay.length){if(cssTrans === false ) overlay.stop().animate({opacity:0}, 400);}});});}// -------------------------------------------------------------------------------------------// Smooth scrooling when clicking on anchor links// todo: maybe use https://github.com/ryanburnette/scrollToBySpeed/blob/master/src/scrolltobyspeed.jquery.js in the future// -------------------------------------------------------------------------------------------(function($){$.fn.avia_smoothscroll = function(apply_to_container){if(!this.length) return;var the_win = $(window),$header = $('#header'),$main = $('.html_header_top.html_header_sticky #main').not('.page-template-template-blank-php #main'),$meta = $('.html_header_top #header_meta'),$alt = $('.html_header_top #header_main_alternate'),shrink = $('.html_header_top.html_header_shrinking').length,fixedMainPadding = 0,isMobile = $.avia_utilities.isMobile,sticky_sub = $('.sticky_placeholder:first'), calc_main_padding= function(){if($header.css('position') == \"fixed\"){var tempPadding = parseInt($main.data('scroll-offset'),10) || 0,non_shrinking = parseInt($meta.outerHeight(),10) || 0,non_shrinking2 = parseInt($alt.outerHeight(),10) || 0; if(tempPadding > 0 && shrink) {tempPadding = (tempPadding / 2 ) + non_shrinking + non_shrinking2;}else{tempPadding = tempPadding + non_shrinking + non_shrinking2;}tempPadding += parseInt($('html').css('margin-top'),10);fixedMainPadding = tempPadding;}else{fixedMainPadding = parseInt($('html').css('margin-top'),10);}};if(isMobile) shrink = false;calc_main_padding();the_win.on(\"debouncedresize av-height-change\", calc_main_padding);var hash = window.location.hash.replace(/\\//g, \"\");//if a scroll event occurs at pageload and an anchor is set and a coresponding element exists apply the offset to the eventif (fixedMainPadding > 0 && hash && apply_to_container == 'body' && hash.charAt(1) != \"!\"){var scroll_to_el = $(hash), modifier = 0;if(scroll_to_el.length){the_win.on('scroll.avia_first_scroll', function(){ setTimeout(function(){ //small delay so other scripts can perform necessary resizingif(sticky_sub.length && scroll_to_el.offset().top > sticky_sub.offset().top) { modifier = sticky_sub.outerHeight() - 3; }the_win.off('scroll.avia_first_scroll').scrollTop( scroll_to_el.offset().top - fixedMainPadding - modifier);},10); });}}return this.each(function(){$(this).click(function(e) {var newHash = this.hash.replace(/\\//g, \"\"),clicked = $(this),data = clicked.data();if(newHash != '' && newHash != '#' && newHash != '#prev' && newHash != '#next' && !clicked.is('.comment-reply-link, #cancel-comment-reply-link, .no-scroll')){var container = \"\", originHash = \"\";if(\"#next-section\" == newHash){originHash = newHash;container = clicked.parents('.container_wrap:eq(0)').nextAll('.container_wrap:eq(0)');newHash = '#' + container.attr('id') ;}else{container = $(this.hash.replace(/\\//g, \"\"));}if(container.length){var cur_offset = the_win.scrollTop(),container_offset = container.offset().top,target = container_offset - fixedMainPadding,hash = window.location.hash,hash = hash.replace(/\\//g, \"\"),oldLocation=window.location.href.replace(hash, ''),newLocation=this,duration= data.duration || 1200,easing= data.easing || 'easeInOutQuint';if(sticky_sub.length && container_offset > sticky_sub.offset().top) { target -= sticky_sub.outerHeight() - 3;}// make sure it's the same locationif(oldLocation+newHash==newLocation || originHash){if(cur_offset != target) // if current pos and target are the same dont scroll{if(!(cur_offset == 0 && target <= 0 )) // if we are at the top dont try to scroll to top or above{// animate to target and set the hash to the window.location after the animation$('html:not(:animated),body:not(:animated)').animate({ scrollTop: target }, duration, easing, function() {// add new hash to the browser location//window.location.href=newLocation;if(window.history.replaceState)window.history.replaceState(\"\", \"\", newHash);});}}// cancel default click actione.preventDefault();}}}});});};})(jQuery);// -------------------------------------------------------------------------------------------// iframe fix for firefox and ie so they get proper z index// -------------------------------------------------------------------------------------------function avia_iframe_fix(container){var iframe = jQuery('iframe[src*=\"youtube.com\"]:not(.av_youtube_frame)', container),youtubeEmbed = jQuery('iframe[src*=\"youtube.com\"]:not(.av_youtube_frame) object, iframe[src*=\"youtube.com\"]:not(.av_youtube_frame) embed', container).attr('wmode','opaque');iframe.each(function(){var current = jQuery(this),src = current.attr('src');if(src){if(src.indexOf('?') !== -1){src += \"&wmode=opaque\";}else{src += \"?wmode=opaque\";}current.attr('src', src);}});}// -------------------------------------------------------------------------------------------// small js fixes for pixel perfection :)// -------------------------------------------------------------------------------------------function avia_small_fixes(container){if(!container) container = document;//make sure that iframes do resize correctly. uses css padding bottom iframe trickvar win = jQuery(window),iframes = jQuery('.avia-iframe-wrap iframe:not(.avia-slideshow iframe):not( iframe.no_resize):not(.avia-video iframe)', container),adjust_iframes = function(){iframes.each(function(){var iframe = jQuery(this), parent = iframe.parent(), proportions = 56.25;if(this.width && this.height){proportions = (100/ this.width) * this.height;parent.css({\"padding-bottom\":proportions+\"%\"});}});};adjust_iframes();}// -------------------------------------------------------------------------------------------// Ligthbox activation// -------------------------------------------------------------------------------------------(function($){$.fn.avia_activate_lightbox = function(variables){var defaults = {groups : ['.avia-gallery', '.isotope', '.post-entry', '.sidebar', '#main'], autolinkElements: 'a[rel^=\"prettyPhoto\"], a[rel^=\"lightbox\"], a[href$=jpg], a[href$=png], a[href$=gif], a[href$=jpeg], a[href*=\".jpg?\"], a[href*=\".png?\"], a[href*=\".gif?\"], a[href*=\".jpeg?\"], a[href$=\".mov\"] , a[href$=\".swf\"] , a:regex(href, .vimeo\\.com/[0-9]) , a[href*=\"youtube.com/watch\"] , a[href*=\"screenr.com\"], a[href*=\"iframe=true\"]',videoElements : 'a[href$=\".mov\"] , a[href$=\".swf\"] , a:regex(href, .vimeo\\.com/[0-9]) , a[href*=\"youtube.com/watch\"] , a[href*=\"screenr.com\"], a[href*=\"iframe=true\"]',exclude : '.noLightbox, .noLightbox a, .fakeLightbox, .lightbox-added',},options = $.extend({}, defaults, variables),av_popup = {type: 'image',mainClass: 'avia-popup mfp-zoom-in',tLoading: '',tClose: '',removalDelay: 300, //delay removal by X to allow out-animationcloseBtnInside: true,closeOnContentClick:true,midClick: true,fixedContentPos: false, // allows scrolling when lightbox is open but also removes any jumping because of scrollbar removalimage: {titleSrc: function(item){var title = item.el.attr('title');if(!title) title = item.el.find('img').attr('title');if(typeof title == \"undefined\") return \"\";return title;}},gallery: {// delegate: options.autolinkElements,tPrev: '',tNext: '',tCounter: '%curr% / %total%',enabled: true,preload: [1,1] // Will preload 1 - before current, and 1 after the current image},callbacks: {open: function(){//overwrite default prev + next function. Add timeout for css3 crossfade animation$.magnificPopup.instance.next = function() {var self = this;self.wrap.removeClass('mfp-image-loaded');setTimeout(function() { $.magnificPopup.proto.next.call(self); }, 120);}$.magnificPopup.instance.prev = function() {var self = this;self.wrap.removeClass('mfp-image-loaded');setTimeout(function() { $.magnificPopup.proto.prev.call(self); }, 120);}},imageLoadComplete: function() { var self = this;setTimeout(function() { self.wrap.addClass('mfp-image-loaded'); }, 16);}}},active = !$('html').is('.av-custom-lightbox');if(!active) return this;return this.each(function(){var container = $(this),videos = $(options.videoElements, this).not(options.exclude).addClass('mfp-iframe'), /*necessary class for the correct lightbox markup*/ajaxed = !container.is('body') && !container.is('.ajax_slide');for (var i = 0; i < options.groups.length; i++) {$(options.groups[i]).each(function() { var links = $(options.autolinkElements, this);if(ajaxed) links.removeClass('lightbox-added');links.not(options.exclude).addClass('lightbox-added').magnificPopup(av_popup);});}});}})(jQuery);// -------------------------------------------------------------------------------------------// Avia Menu// -------------------------------------------------------------------------------------------(function($){$.fn.aviaMegamenu = function(variables){var defaults ={modify_position:true,delay:300};var options = $.extend(defaults, variables),win = $(window),the_main = $('#main .container:first'),css_block = $(\"<style type='text/css' id='av-browser-width-mm'></style>\").appendTo('head:first'),calc_dimensions = function(){var css = \"\",w_12 = Math.round( the_main.width() );css += \" #header .three.units{width:\" + ( w_12 * 0.25)+ \"px;}\";css += \" #header .six.units{width:\" + ( w_12 * 0.50)+ \"px;}\";css += \" #header .nine.units{width:\" + ( w_12 * 0.75)+ \"px;}\";css += \" #header .twelve.units{width:\" +( w_12 ) + \"px;}\";//ie8 needs different insert methodtry{css_block.text(css); }catch(err){css_block.remove();css_block = $(\"<style type='text/css' id='av-browser-width-mm'>\"+css+\"</style>\").appendTo('head:first');}};if($('.avia_mega_div').length > 0){win.on( 'debouncedresize', calc_dimensions);calc_dimensions();} return this.each(function(){var the_html = $('html:first'),main = $('#main .container:first'),left_menu = the_html.filter('.html_menu_left, .html_logo_center').length,isMobile = $.avia_utilities.isMobile,menu = $(this),menuItems = menu.find(\">li\"),megaItems = menuItems.find(\">div\").parent().css({overflow:'hidden'}),menuActive = menu.find('>.current-menu-item>a, >.current_page_item>a'),dropdownItems = menuItems.find(\">ul\").parent(),parentContainer = menu.parent(),mainMenuParent = menu.parents('.main_menu').eq(0),parentContainerWidth = parentContainer.width(),delayCheck = {},mega_open = [];if(!menuActive.length){ menu.find('.current-menu-ancestor:eq(0) a:eq(0), .current_page_ancestor:eq(0) a:eq(0)').parent().addClass('active-parent-item')}if(!the_html.is('.html_header_top')) { options.modify_position = false; }menuItems.on('click' ,'a', function(){if(this.href == window.location.href + \"#\" || this.href == window.location.href + \"/#\")return false;});menuItems.each(function(){var item = $(this),pos = item.position(),megaDiv = item.find(\"div:first\").css({opacity:0, display:\"none\"}),normalDropdown = \"\";//check if we got a mega menuif(!megaDiv.length){normalDropdown = item.find(\">ul\").css({display:\"none\"});}//if we got a mega menu or dropdown menu add the arrow beside the menu itemif(megaDiv.length || normalDropdown.length){var link = item.addClass('dropdown_ul_available').find('>a');link.append('<span class=\"dropdown_available\"></span>');//is a mega menu main item doesnt have a link to click use the default cursorif(typeof link.attr('href') != 'string' || link.attr('href') == \"#\"){ link.css('cursor','default').click(function(){return false;}); }}//correct position of mega menusif(options.modify_position && megaDiv.length){ item.one('mouseenter', function(){ calc_offset(item, pos, megaDiv, parentContainerWidth) });}});function calc_offset(item, pos, megaDiv, parentContainerWidth){ if(!left_menu){if(pos.left + megaDiv.width() < parentContainerWidth){megaDiv.css({right: -megaDiv.outerWidth() + item.outerWidth() });//item.css({position:'static'});}else if(pos.left + megaDiv.width() > parentContainerWidth){megaDiv.css({right: -mainMenuParent.outerWidth() + (pos.left + item.outerWidth() ) });}}else{if(megaDiv.width() > pos.left + item.outerWidth()){megaDiv.css({left: (pos.left* -1)});}else if(pos.left + megaDiv.width() > parentContainerWidth){megaDiv.css({left: (megaDiv.width() - pos.left) * -1 });}}}function megaDivShow(i){if(delayCheck[i] == true){var item = megaItems.filter(':eq('+i+')').css({overflow:'visible'}).find(\"div:first\"),link = megaItems.filter(':eq('+i+')').find(\"a:first\");mega_open[\"check\"+i] = true;item.stop().css('display','block').animate({opacity:1},300);if(item.length){link.addClass('open-mega-a');}}}function megaDivHide (i){if(delayCheck[i] == false){megaItems.filter(':eq('+i+')').find(\">a\").removeClass('open-mega-a');var listItem = megaItems.filter(':eq('+i+')'),item = listItem.find(\"div:first\");item.stop().css('display','block').animate({opacity:0},300, function(){$(this).css('display','none');listItem.css({overflow:'hidden'});mega_open[\"check\"+i] = false;});}}if(isMobile){megaItems.each(function(i){$(this).bind('click', function(){if(mega_open[\"check\"+i] != true) return false;});});}//bind event for mega menumegaItems.each(function(i){$(this).hover(function(){delayCheck[i] = true;setTimeout(function(){megaDivShow(i); },options.delay);},function(){delayCheck[i] = false;setTimeout(function(){megaDivHide(i); },options.delay);});});// bind events for dropdown menudropdownItems.find('li').andSelf().each(function(){var currentItem = $(this),sublist = currentItem.find('ul:first'),showList = false;if(sublist.length){sublist.css({display:'block', opacity:0, visibility:'hidden'});var currentLink = currentItem.find('>a');currentLink.bind('mouseenter', function(){sublist.stop().css({visibility:'visible'}).animate({opacity:1});});currentItem.bind('mouseleave', function(){sublist.stop().animate({opacity:0}, function(){sublist.css({visibility:'hidden'});});});}});});};})(jQuery);// -------------------------------------------------------------------------------------------//Portfolio sorting// -------------------------------------------------------------------------------------------$.fn.avia_iso_sort = function(options){return this.each(function(){var the_body = $('body'),container = $(this),portfolio_id = container.data('portfolio-id'),parentContainer = container.parents('.entry-content-wrapper, .avia-fullwidth-portfolio'),filter = parentContainer.find('.sort_width_container[data-portfolio-id=\"' + portfolio_id + '\"]').find('#js_sort_items').css({visibility:\"visible\", opacity:0}),links = filter.find('a'),imgParent = container.find('.grid-image'),isoActive = false,items = $('.post-entry', container);function applyIso(){container.addClass('isotope_activated').isotope({layoutMode : 'fitRows', itemSelector : '.flex_column'});container.isotope( 'on', 'layoutComplete', function(){container.css({overflow:'visible'});the_body.trigger('av_resize_finished');}); isoActive = true;setTimeout(function(){ parentContainer.addClass('avia_sortable_active'); }, 0);};links.bind('click',function(){var current = $(this),selector = current.data('filter'),linktext = current.html(),activeCat = parentContainer.find('.av-current-sort-title');if(activeCat.length) activeCat.html(linktext);links.removeClass('active_sort');current.addClass('active_sort');container.attr('id', 'grid_id_'+selector);parentContainer.find('.open_container .ajax_controlls .avia_close').trigger('click');//container.css({overflow:'hidden'})container.isotope({ layoutMode : 'fitRows', itemSelector : '.flex_column' , filter: '.'+selector});return false;});// update columnWidth on window resize$(window).on( 'debouncedresize', function(){applyIso();});$.avia_utilities.preload({container: container, single_callback: function(){filter.animate({opacity:1}, 400); applyIso();//call a second time to for the initial resizingsetTimeout(function(){ applyIso(); });imgParent.css({height:'auto'}).each(function(i){var currentLink = $(this);setTimeout(function(){currentLink.animate({opacity:1},1500);}, (100 * i));});}});});};function avia_sticky_submenu(){var win = $(window),html = $('html:first'),header = $('.html_header_top.html_header_sticky #header'),html_margin = parseInt( $('html:first').css('margin-top'), 10),setWitdth = $('.html_header_sidebar #main, .boxed #main'),menus = $('.av-submenu-container'),calc_margin = function(){html_margin = parseInt( html.css('margin-top'), 10);if(!$('.mobile_menu_toggle:visible').length){$('.av-open-submenu').removeClass('av-open-submenu');}},calc_values = function(){var content_width = setWitdth.width();html_margin = parseInt( html.css('margin-top'), 10);menus.width(content_width);},check = function(placeholder, no_timeout){var menu_pos = this.offset().top,top_pos = placeholder.offset().top,scrolled = win.scrollTop(),modifier = html_margin, fixed = false;if(header.length) modifier += header.outerHeight() + parseInt( header.css('margin-top'), 10);if(scrolled + modifier > top_pos){if(!fixed){this.css({top: modifier - 1, position: 'fixed'}); fixed = true}}else{this.css({top: 'auto', position: 'absolute'}); fixed = false}},toggle = function(e){e.preventDefault();var clicked = $(this), menu = clicked.siblings('.av-subnav-menu');if(menu.hasClass('av-open-submenu')){menu.removeClass('av-open-submenu');}else{menu.addClass('av-open-submenu');}};win.on(\"debouncedresize av-height-change\", calc_margin ); calc_margin();if(setWitdth.length){win.on(\"debouncedresize av-height-change\", calc_values );calc_values();}$(\".av-sticky-submenu\").each(function(){ var menu = $(this), placeholder = menu.next('.sticky_placeholder'), mobile_button = menu.find('.mobile_menu_toggle');win.on( 'scroll', function(){ window.requestAnimationFrame( $.proxy( check, menu, placeholder) )} );if(mobile_button.length){mobile_button.on( 'click', toggle );}});html.on('click', '.av-submenu-hidden .av-open-submenu li a', function(){var current = $(this);var list_item = current.siblings('ul, .avia_mega_div');if(list_item.length){if(list_item.hasClass('av-visible-sublist')){list_item.removeClass('av-visible-sublist');}else{list_item.addClass('av-visible-sublist');}return false;}});$('.avia_mobile').on('click', '.av-menu-mobile-disabled li a', function(){var current = $(this);console.log(current); var list_item = current.siblings('ul');if(list_item.length){if(list_item.hasClass('av-visible-mobile-sublist')){}else{$('.av-visible-mobile-sublist').removeClass('av-visible-mobile-sublist');list_item.addClass('av-visible-mobile-sublist');return false;}}});}function avia_sidebar_menu(){var win = $(window),main = $('#main'),sb_header = $('.html_header_sidebar #header_main'),sidebar = $('.html_header_sidebar #header.av_conditional_sticky');if(!sb_header.length) return;// main.css({\"min-height\":sb_header.outerHeight()});if(!sidebar.length) return;var innerSidebar = $('#header_main'),wrap = $('#wrap_all'),subtract = parseInt($('html').css('margin-top'), 10),calc_values = function(){if(innerSidebar.outerHeight() < win.height()) { sidebar.addClass('av_always_sticky'); }else{sidebar.removeClass('av_always_sticky'); }wrap.css({'min-height': win.height() - subtract});};calc_values(); win.on(\"debouncedresize av-height-change\", calc_values);}function av_change_class($element, change_method, class_name){ if($element[0].classList){if(change_method == \"add\") {$element[0].classList.add(class_name);}else{$element[0].classList.remove(class_name);}}else{if(change_method == \"add\") {$element.addClass(class_name);}else{$element.removeClass(class_name);}}}//check if the browser supports element rotationfunction avia_header_size(){var win = $(window),header = $('.html_header_top.html_header_sticky #header');if(!header.length) return;var logo = $('#header_main .container .logo img, #header_main .container .logo a'),elements = $('#header_main .container:first, #header_main .main_menu ul:first-child > li > a:not(.avia_mega_div a, #header_main_alternate a)'),el_height = $(elements).filter(':first').height(),isMobile = $.avia_utilities.isMobile,scroll_top = $('#scroll-top-link'),transparent = header.is('.av_header_transparency'),shrinking = header.is('.av_header_shrinking'),set_height = function(){ var st = win.scrollTop(), newH = 0;if(shrinking && !isMobile){if(st < el_height/2){newH = el_height - st;av_change_class(header, 'remove', 'header-scrolled');//header.removeClass('header-scrolled');}else{newH = el_height/2;//header.addClass('header-scrolled');av_change_class(header, 'add', 'header-scrolled');}elements.css({'height': newH + 'px', 'lineHeight': newH + 'px'});logo.css({'maxHeight': newH + 'px'});}if(transparent){ if(st > 50){ //header.removeClass('av_header_transparency');av_change_class(header, 'remove', 'av_header_transparency');}else{//header.addClass('av_header_transparency');av_change_class(header, 'add', 'av_header_transparency');}}}if($('body').is('.avia_deactivate_menu_resize')) shrinking = false;if(!transparent && !shrinking) return;win.on( 'debouncedresize', function(){ el_height = $(elements).attr('style',\"\").filter(':first').height(); set_height(); } );win.on( 'scroll', function(){ window.requestAnimationFrame( set_height )} );set_height();}function avia_scroll_top_fade(){var win = $(window),timeo = false,scroll_top = $('#scroll-top-link'),set_status = function(){var st = win.scrollTop();if(st < 500){scroll_top.removeClass('avia_pop_class');}else if(!scroll_top.is('.avia_pop_class')){scroll_top.addClass('avia_pop_class');}};win.on( 'scroll', function(){ window.requestAnimationFrame( set_status )} );set_status();}$.AviaAjaxSearch = function(options){var defaults = {delay: 300, //delay in ms until the user stops typing.minChars: 3, //dont start searching before we got at least that much charactersscope: 'body'}this.options = $.extend({}, defaults, options);this.scope = $(this.options.scope);this.timer = false;this.lastVal = \"\";this.bind_events();}$.AviaAjaxSearch.prototype ={bind_events: function(){this.scope.on('keyup', '#s:not(\".av_disable_ajax_search #s\")' , $.proxy( this.try_search, this));},try_search: function(e){clearTimeout(this.timer);//only execute search if chars are at least \"minChars\" and search differs from last oneif(e.currentTarget.value.length >= this.options.minChars && this.lastVal != $.trim(e.currentTarget.value)){//wait at least \"delay\" miliseconds to execute ajax. if user types again during that time dont executethis.timer = setTimeout($.proxy( this.do_search, this, e), this.options.delay);}},do_search: function(e){var obj = this,currentField = $(e.currentTarget).attr( \"autocomplete\", \"off\" ),form = currentField.parents('form:eq(0)'),results = form.find('.ajax_search_response'),loading = $('<div class=\"ajax_load\"><span class=\"ajax_load_inner\"></span></div>'),action = form.attr('action'),values = form.serialize();values += '&action=avia_ajax_search';//check if the form got get parameters applied and also apply themif(action.indexOf('?') != -1){action = action.split('?');values += \"&\" + action[1];}if(!results.length) results = $('<div class=\"ajax_search_response\"></div>').appendTo(form);//return if we already hit a no result and user is still typingif(results.find('.ajax_not_found').length && e.currentTarget.value.indexOf(this.lastVal) != -1) return;this.lastVal = e.currentTarget.value;$.ajax({url: avia_framework_globals.ajaxurl,type: \"POST\",data:values,beforeSend: function(){loading.insertAfter(currentField);},success: function(response){if(response == 0) response = \"\";results.html(response);},complete: function(){loading.remove();}});}}$.AviaTooltip = function(options){var defaults = {delay: 1500, //delay in ms until the tooltip appearsdelayOut: 300, //delay in ms when instant showing should stopdelayHide: 0, //delay hiding of tooltip in ms\"class\": \"avia-tooltip\", //tooltip classname for css styling and alignmentscope: \"body\", //area the tooltip should be applied todata: \"avia-tooltip\", //data attribute that contains the tooltip textattach:\"body\", //either attach the tooltip to the \"mouse\" or to the \"element\" // todo: implement mouse, make sure that it doesnt overlap with screen bordersevent: 'mouseenter', //mousenter and leave or click and leaveposition:'top', //top or bottomextraClass:'avia-tooltip-class' //extra class that is defined by a tooltip element data attribute}this.options = $.extend({}, defaults, options);this.body = $('body');this.scope = $(this.options.scope);this.tooltip = $('<div class=\"'+this.options['class']+' avia-tt\"><span class=\"avia-arrow-wrap\"><span class=\"avia-arrow\"></span></span></div>');this.inner = $('<div class=\"inner_tooltip\"></div>').prependTo(this.tooltip);this.open = false;this.timer = false;this.active = false;this.bind_events();}$.AviaTooltip.openTTs = [];$.AviaTooltip.prototype ={bind_events: function(){this.scope.on(this.options.event + ' mouseleave', '[data-'+this.options.data+']', $.proxy( this.start_countdown, this) );if(this.options.event != 'click'){this.scope.on('mouseleave', '[data-'+this.options.data+']', $.proxy( this.hide_tooltip, this) );}else{this.body.on('mousedown', $.proxy( this.hide_tooltip, this) );}},start_countdown: function(e){clearTimeout(this.timer);if(e.type == this.options.event){var delay = this.options.event == 'click' ? 0 : this.open ? 0 : this.options.delay;this.timer = setTimeout($.proxy( this.display_tooltip, this, e), delay);}else if(e.type == 'mouseleave'){this.timer = setTimeout($.proxy( this.stop_instant_open, this, e), this.options.delayOut);}e.preventDefault();},reset_countdown: function(e){clearTimeout(this.timer);this.timer = false;},display_tooltip: function(e){var target = this.options.event == \"click\" ? e.target : e.currentTarget,element = $(target),text = element.data(this.options.data),newTip = element.data('avia-created-tooltip'),extraClass = element.data('avia-tooltip-class'),attach = this.options.attach == 'element' ? element : this.body,offset = this.options.attach == 'element' ? element.position() : element.offset(),position = element.data('avia-tooltip-position'),align = element.data('avia-tooltip-alignment');text = $.trim(text);if(text == \"\") return;if(position == \"\" || typeof position == 'undefined') position = this.options.position;if(align == \"\" || typeof align == 'undefined') align = 'center';if(typeof newTip != 'undefined'){newTip = $.AviaTooltip.openTTs[newTip]}else{this.inner.html(text); newTip = this.options.attach == 'element' ? this.tooltip.clone().insertAfter(attach) : this.tooltip.clone().appendTo(attach);if(extraClass != \"\") newTip.addClass(extraClass);}this.open = true;this.active = newTip;if((newTip.is(':animated:visible') && e.type == 'click') || element.is('.'+this.options['class']) || element.parents('.'+this.options['class']).length != 0) return;var animate1 = {}, animate2 = {}, pos1 = \"\", pos2 = \"\";if(position == \"top\" ||Â position == \"bottom\"){switch(align){case \"left\": pos2 = offset.left; break;case \"right\": pos2 = offset.left + element.outerWidth() - newTip.outerWidth(); break;default: pos2 = (offset.left + (element.outerWidth() / 2)) - (newTip.outerWidth() / 2); break;} }else{switch(align){case \"top\": pos1 = offset.top; break;case \"bottom\": pos1 = offset.top + element.outerHeight() - newTip.outerHeight(); break;default: pos1 = (offset.top + (element.outerHeight() / 2)) - (newTip.outerHeight() / 2); break;} }switch(position){case \"top\": pos1 = offset.top - newTip.outerHeight();animate1 = {top: pos1 - 10, left: pos2};animate2 = {top: pos1};break;case \"bottom\": pos1 = offset.top + element.outerHeight();animate1 = {top: pos1 + 10, left: pos2};animate2 = {top: pos1};break;case \"left\": pos2 = offset.left - newTip.outerWidth();animate1 = {top: pos1, left: pos2 -10};animate2 = {left: pos2}; break;case \"right\": pos2 = offset.left + element.outerWidth();animate1 = {top: pos1, left: pos2 + 10};animate2 = {left: pos2}; break;}animate1['display'] = \"block\";animate1['opacity'] = 0;animate2['opacity'] = 1;newTip.css(animate1).stop().animate(animate2,200);newTip.find('input, textarea').focus();$.AviaTooltip.openTTs.push(newTip);element.data('avia-created-tooltip', $.AviaTooltip.openTTs.length - 1);},hide_tooltip: function(e){var element = $(e.currentTarget) , newTip, animateTo, position = element.data('avia-tooltip-position'),align = element.data('avia-tooltip-alignment');if(position == \"\" || typeof position == 'undefined') position = this.options.position;if(align == \"\" || typeof align == 'undefined') align = 'center';if(this.options.event == 'click'){element = $(e.target);if(!element.is('.'+this.options['class']) && element.parents('.'+this.options['class']).length == 0){if(this.active.length) { newTip = this.active; this.active = false;}}}else{newTip = element.data('avia-created-tooltip');newTip = typeof newTip != 'undefined' ? $.AviaTooltip.openTTs[newTip] : false;}if(newTip){var animate = {opacity:0};switch(position){case \"top\": animate['top'] = parseInt(newTip.css('top'),10) - 10; break;case \"bottom\": animate['top'] = parseInt(newTip.css('top'),10) + 10; break;case \"left\": animate['left'] = parseInt(newTip.css('left'), 10) - 10;break;case \"right\": animate['left'] = parseInt(newTip.css('left'), 10) + 10;break;}newTip.animate(animate, 200, function(){newTip.css({display:'none'});});}},stop_instant_open: function(e){this.open = false;}}})( jQuery );/*!* Isotope PACKAGED v2.0.0* Filter & sort magical layouts* http://isotope.metafizzy.co*/(function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function n(e,i){t.fn[e]=function(n){if(\"string\"==typeof n){for(var s=o.call(arguments,1),a=0,u=this.length;u>a;a++){var p=this[a],h=t.data(p,e);if(h)if(t.isFunction(h[n])&&\"_\"!==n.charAt(0)){var f=h[n].apply(h,s);if(void 0!==f)return f}else r(\"no such method '\"+n+\"' for \"+e+\" instance\");else r(\"cannot call methods on \"+e+\" prior to initialization; \"+\"attempted to call '\"+n+\"'\")}return this}return this.each(function(){var o=t.data(this,e);o?(o.option(n),o._init()):(o=new i(this,n),t.data(this,e,o))})}}if(t){var r=\"undefined\"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),n(t,e)},t.bridget}}var o=Array.prototype.slice;\"function\"==typeof define&&define.amd?define(\"jquery-bridget/jquery.bridget\",[\"jquery\"],i):i(t.jQuery)})(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,o=function(){};i.addEventListener?o=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(o=function(t,i,o){t[i+o]=o.handleEvent?function(){var i=e(t);o.handleEvent.call(o,i)}:function(){var i=e(t);o.call(t,i)},t.attachEvent(\"on\"+i,t[i+o])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent(\"on\"+e,t[e+i]);try{delete t[e+i]}catch(o){t[e+i]=void 0}});var r={bind:o,unbind:n};\"function\"==typeof define&&define.amd?define(\"eventie/eventie\",r):\"object\"==typeof exports?module.exports=r:t.eventie=r}(this),function(t){function e(t){\"function\"==typeof t&&(e.isReady?t():r.push(t))}function i(t){var i=\"readystatechange\"===t.type&&\"complete\"!==n.readyState;if(!e.isReady&&!i){e.isReady=!0;for(var o=0,s=r.length;s>o;o++){var a=r[o];a()}}}function o(o){return o.bind(n,\"DOMContentLoaded\",i),o.bind(n,\"readystatechange\",i),o.bind(t,\"load\",i),e}var n=t.document,r=[];e.isReady=!1,\"function\"==typeof define&&define.amd?(e.isReady=\"function\"==typeof requirejs,define(\"doc-ready/doc-ready\",[\"eventie/eventie\"],o)):t.docReady=o(t.eventie)}(this),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,n=this,r=n.EventEmitter;o.getListeners=function(t){var e,i,o=this._getEvents();if(t instanceof RegExp){e={};for(i in o)o.hasOwnProperty(i)&&t.test(i)&&(e[i]=o[i])}else e=o[t]||(o[t]=[]);return e},o.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},o.addListener=function(t,i){var o,n=this.getListenersAsObject(t),r=\"object\"==typeof i;for(o in n)n.hasOwnProperty(o)&&-1===e(n[o],i)&&n[o].push(r?i:{listener:i,once:!1});return this},o.on=i(\"addListener\"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=i(\"addOnceListener\"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,i){var o,n,r=this.getListenersAsObject(t);for(n in r)r.hasOwnProperty(n)&&(o=e(r[n],i),-1!==o&&r[n].splice(o,1));return this},o.off=i(\"removeListener\"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var o,n,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if(\"object\"!=typeof e||e instanceof RegExp)for(o=i.length;o--;)r.call(this,e,i[o]);else for(o in e)e.hasOwnProperty(o)&&(n=e[o])&&(\"function\"==typeof n?r.call(this,o,n):s.call(this,o,n));return this},o.removeEvent=function(t){var e,i=typeof t,o=this._getEvents();if(\"string\"===i)delete o[t];else if(t instanceof RegExp)for(e in o)o.hasOwnProperty(e)&&t.test(e)&&delete o[e];else delete this._events;return this},o.removeAllListeners=i(\"removeEvent\"),o.emitEvent=function(t,e){var i,o,n,r,s=this.getListenersAsObject(t);for(n in s)if(s.hasOwnProperty(n))for(o=s[n].length;o--;)i=s[n][o],i.once===!0&&this.removeListener(t,i.listener),r=i.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},o.trigger=i(\"emitEvent\"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return this.hasOwnProperty(\"_onceReturnValue\")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=r,t},\"function\"==typeof define&&define.amd?define(\"eventEmitter/EventEmitter\",[],function(){return t}):\"object\"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if(\"string\"==typeof o[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,n=0,r=i.length;r>n;n++)if(e=i[n]+t,\"string\"==typeof o[e])return e}}var i=\"Webkit Moz ms Ms O\".split(\" \"),o=document.documentElement.style;\"function\"==typeof define&&define.amd?define(\"get-style-property/get-style-property\",[],function(){return e}):\"object\"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),i=-1===t.indexOf(\"%\")&&!isNaN(e);return i&&e}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=s.length;i>e;e++){var o=s[e];t[o]=0}return t}function o(t){function o(t){if(\"string\"==typeof t&&(t=document.querySelector(t)),t&&\"object\"==typeof t&&t.nodeType){var o=r(t);if(\"none\"===o.display)return i();var n={};n.width=t.offsetWidth,n.height=t.offsetHeight;for(var h=n.isBorderBox=!(!p||!o[p]||\"border-box\"!==o[p]),f=0,c=s.length;c>f;f++){var d=s[f],l=o[d];l=a(t,l);var y=parseFloat(l);n[d]=isNaN(y)?0:y}var m=n.paddingLeft+n.paddingRight,g=n.paddingTop+n.paddingBottom,v=n.marginLeft+n.marginRight,_=n.marginTop+n.marginBottom,I=n.borderLeftWidth+n.borderRightWidth,L=n.borderTopWidth+n.borderBottomWidth,z=h&&u,S=e(o.width);S!==!1&&(n.width=S+(z?0:m+I));var b=e(o.height);return b!==!1&&(n.height=b+(z?0:g+L)),n.innerWidth=n.width-(m+I),n.innerHeight=n.height-(g+L),n.outerWidth=n.width+v,n.outerHeight=n.height+_,n}}function a(t,e){if(n||-1===e.indexOf(\"%\"))return e;var i=t.style,o=i.left,r=t.runtimeStyle,s=r&&r.left;return s&&(r.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=o,s&&(r.left=s),e}var u,p=t(\"boxSizing\");return function(){if(p){var t=document.createElement(\"div\");t.style.width=\"200px\",t.style.padding=\"1px 2px 3px 4px\",t.style.borderStyle=\"solid\",t.style.borderWidth=\"1px 2px 3px 4px\",t.style[p]=\"border-box\";var i=document.body||document.documentElement;i.appendChild(t);var o=r(t);u=200===e(o.width),i.removeChild(t)}}(),o}var n=t.getComputedStyle,r=n?function(t){return n(t,null)}:function(t){return t.currentStyle},s=[\"paddingLeft\",\"paddingRight\",\"paddingTop\",\"paddingBottom\",\"marginLeft\",\"marginRight\",\"marginTop\",\"marginBottom\",\"borderLeftWidth\",\"borderRightWidth\",\"borderTopWidth\",\"borderBottomWidth\"];\"function\"==typeof define&&define.amd?define(\"get-size/get-size\",[\"get-style-property/get-style-property\"],o):\"object\"==typeof exports?module.exports=o(require(\"get-style-property\")):t.getSize=o(t.getStyleProperty)}(window),function(t,e){function i(t,e){return t[a](e)}function o(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function n(t,e){o(t);for(var i=t.parentNode.querySelectorAll(e),n=0,r=i.length;r>n;n++)if(i[n]===t)return!0;return!1}function r(t,e){return o(t),i(t,e)}var s,a=function(){if(e.matchesSelector)return\"matchesSelector\";for(var t=[\"webkit\",\"moz\",\"ms\",\"o\"],i=0,o=t.length;o>i;i++){var n=t[i],r=n+\"MatchesSelector\";if(e[r])return r}}();if(a){var u=document.createElement(\"div\"),p=i(u,\"div\");s=p?i:r}else s=n;\"function\"==typeof define&&define.amd?define(\"matches-selector/matches-selector\",[],function(){return s}):window.matchesSelector=s}(this,Element.prototype),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){for(var e in t)return!1;return e=null,!0}function o(t){return t.replace(/([A-Z])/g,function(t){return\"-\"+t.toLowerCase()})}function n(t,n,r){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var u=r(\"transition\"),p=r(\"transform\"),h=u&&p,f=!!r(\"perspective\"),c={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"otransitionend\",transition:\"transitionend\"}[u],d=[\"transform\",\"transition\",\"transitionDuration\",\"transitionProperty\"],l=function(){for(var t={},e=0,i=d.length;i>e;e++){var o=d[e],n=r(o);n&&n!==o&&(t[o]=n)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:\"absolute\"})},a.prototype.handleEvent=function(t){var e=\"on\"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var i in t){var o=l[i]||i;e[o]=t[i]}},a.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,i=e.isOriginLeft,o=e.isOriginTop,n=parseInt(t[i?\"left\":\"right\"],10),r=parseInt(t[o?\"top\":\"bottom\"],10);n=isNaN(n)?0:n,r=isNaN(r)?0:r;var a=this.layout.size;n-=i?a.paddingLeft:a.paddingRight,r-=o?a.paddingTop:a.paddingBottom,this.position.x=n,this.position.y=r},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+\"px\",i.right=\"\"):(i.right=this.position.x+t.paddingRight+\"px\",i.left=\"\"),e.isOriginTop?(i.top=this.position.y+t.paddingTop+\"px\",i.bottom=\"\"):(i.bottom=this.position.y+t.paddingBottom+\"px\",i.top=\"\"),this.css(i),this.emitEvent(\"layout\",[this])};var y=f?function(t,e){return\"translate3d(\"+t+\"px, \"+e+\"px, 0)\"}:function(t,e){return\"translate(\"+t+\"px, \"+e+\"px)\"};a.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,o=this.position.y,n=parseInt(t,10),r=parseInt(e,10),s=n===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return this.layoutPosition(),void 0;var a=t-i,u=e-o,p={},h=this.layout.options;a=h.isOriginLeft?a:-a,u=h.isOriginTop?u:-u,p.transform=y(a,u),this.transition({to:p,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=h?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(t),void 0;var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var o=this.element.offsetHeight;o=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var m=p&&o(p)+\",opacity\";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(c,this,!1))},a.prototype.transition=a.prototype[u?\"_transition\":\"_nonTransition\"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var g={\"-webkit-transform\":\"transform\",\"-moz-transform\":\"transform\",\"-o-transform\":\"transform\"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,o=g[t.propertyName]||t.propertyName;if(delete e.ingProperties[o],i(e.ingProperties)&&this.disableTransition(),o in e.clean&&(this.element.style[t.propertyName]=\"\",delete e.clean[o]),o in e.onEnd){var n=e.onEnd[o];n.call(this),delete e.onEnd[o]}this.emitEvent(\"transitionEnd\",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]=\"\";this.css(e)};var v={transitionProperty:\"\",transitionDuration:\"\"};return a.prototype.removeTransitionStyles=function(){this.css(v)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent(\"remove\",[this])},a.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var t=this;this.on(\"transitionEnd\",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:\"\"});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:\"\"});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:\"none\"})}}})},a.prototype.destroy=function(){this.css({position:\"\",left:\"\",right:\"\",top:\"\",bottom:\"\",transition:\"\",transform:\"\"})},a}var r=t.getComputedStyle,s=r?function(t){return r(t,null)}:function(t){return t.currentStyle};\"function\"==typeof define&&define.amd?define(\"outlayer/item\",[\"eventEmitter/EventEmitter\",\"get-size/get-size\",\"get-style-property/get-style-property\"],n):(t.Outlayer={},t.Outlayer.Item=n(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return\"[object Array]\"===f.call(t)}function o(t){var e=[];if(i(t))e=t;else if(t&&\"number\"==typeof t.length)for(var o=0,n=t.length;n>o;o++)e.push(t[o]);else e.push(t);return e}function n(t,e){var i=d(e,t);-1!==i&&e.splice(i,1)}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+\"-\"+i}).toLowerCase()}function s(i,s,f,d,l,y){function m(t,i){if(\"string\"==typeof t&&(t=a.querySelector(t)),!t||!c(t))return u&&u.error(\"Bad \"+this.constructor.namespace+\" element: \"+t),void 0;this.element=t,this.options=e({},this.constructor.defaults),this.option(i);var o=++g;this.element.outlayerGUID=o,v[o]=this,this._create(),this.options.isInitLayout&&this.layout()}var g=0,v={};return m.namespace=\"outlayer\",m.Item=y,m.defaults={containerStyle:{position:\"relative\"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:\"0.4s\",hiddenStyle:{opacity:0,transform:\"scale(0.001)\"},visibleStyle:{opacity:1,transform:\"scale(1)\"}},e(m.prototype,f.prototype),m.prototype.option=function(t){e(this.options,t)},m.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},m.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},m.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,o=[],n=0,r=e.length;r>n;n++){var s=e[n],a=new i(s,this);o.push(a)}return o},m.prototype._filterFindItemElements=function(t){t=o(t);for(var e=this.options.itemSelector,i=[],n=0,r=t.length;r>n;n++){var s=t[n];if(c(s))if(e){l(s,e)&&i.push(s);for(var a=s.querySelectorAll(e),u=0,p=a.length;p>u;u++)i.push(a[u])}else i.push(s)}return i},m.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},m.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},m.prototype._init=m.prototype.layout,m.prototype._resetLayout=function(){this.getSize()},m.prototype.getSize=function(){this.size=d(this.element)},m.prototype._getMeasurement=function(t,e){var i,o=this.options[t];o?(\"string\"==typeof o?i=this.element.querySelector(o):c(o)&&(i=o),this[t]=i?d(i)[e]:o):this[t]=0},m.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},m.prototype._getItemsForLayout=function(t){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i];n.isIgnored||e.push(n)}return e},m.prototype._layoutItems=function(t,e){function i(){o.emitEvent(\"layoutComplete\",[o,t])}var o=this;if(!t||!t.length)return i(),void 0;this._itemsOn(t,\"layout\",i);for(var n=[],r=0,s=t.length;s>r;r++){var a=t[r],u=this._getItemLayoutPosition(a);u.item=a,u.isInstant=e||a.isLayoutInstant,n.push(u)}this._processLayoutQueue(n)},m.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},m.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var o=t[e];this._positionItem(o.item,o.x,o.y,o.isInstant)}},m.prototype._positionItem=function(t,e,i,o){o?t.goTo(e,i):t.moveTo(e,i)},m.prototype._postLayout=function(){this.resizeContainer()},m.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},m.prototype._getContainerSize=h,m.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?\"width\":\"height\"]=t+\"px\"}},m.prototype._itemsOn=function(t,e,i){function o(){return n++,n===r&&i.call(s),!0}for(var n=0,r=t.length,s=this,a=0,u=t.length;u>a;a++){var p=t[a];p.on(e,o)}},m.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},m.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},m.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var o=t[e];this.ignore(o)}}},m.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var o=t[e];n(o,this.stamps),this.unignore(o)}},m.prototype._find=function(t){return t?(\"string\"==typeof t&&(t=this.element.querySelectorAll(t)),t=o(t)):void 0},m.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},m.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},m.prototype._manageStamp=h,m.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=d(t),n={left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom};return n},m.prototype.handleEvent=function(t){var e=\"on\"+t.type;this[e]&&this[e](t)},m.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,\"resize\",this),this.isResizeBound=!0)},m.prototype.unbindResize=function(){this.isResizeBound&&i.unbind(t,\"resize\",this),this.isResizeBound=!1},m.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},m.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},m.prototype.needsResizeLayout=function(){var t=d(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},m.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},m.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},m.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},m.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var o=t[i];o.reveal()}},m.prototype.hide=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var o=t[i];o.hide()}},m.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];if(o.element===t)return o}},m.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i],r=this.getItem(n);r&&e.push(r)}return e}},m.prototype.remove=function(t){t=o(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,\"remove\",function(){this.emitEvent(\"removeComplete\",[this,e])});for(var i=0,r=e.length;r>i;i++){var s=e[i];s.remove(),n(s,this.items)}}},m.prototype.destroy=function(){var t=this.element.style;t.height=\"\",t.position=\"\",t.width=\"\";for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];o.destroy()}this.unbindResize(),delete this.element.outlayerGUID,p&&p.removeData(this.element,this.constructor.namespace)},m.data=function(t){var e=t&&t.outlayerGUID;return e&&v[e]},m.create=function(t,i){function o(){m.apply(this,arguments)}return Object.create?o.prototype=Object.create(m.prototype):e(o.prototype,m.prototype),o.prototype.constructor=o,o.defaults=e({},m.defaults),e(o.defaults,i),o.prototype.settings={},o.namespace=t,o.data=m.data,o.Item=function(){y.apply(this,arguments)},o.Item.prototype=new y,s(function(){for(var e=r(t),i=a.querySelectorAll(\".js-\"+e),n=\"data-\"+e+\"-options\",s=0,h=i.length;h>s;s++){var f,c=i[s],d=c.getAttribute(n);try{f=d&&JSON.parse(d)}catch(l){u&&u.error(\"Error parsing \"+n+\" on \"+c.nodeName.toLowerCase()+(c.id?\"#\"+c.id:\"\")+\": \"+l);continue}var y=new o(c,f);p&&p.data(c,t,y)}}),p&&p.bridget&&p.bridget(t,o),o},m.Item=y,m}var a=t.document,u=t.console,p=t.jQuery,h=function(){},f=Object.prototype.toString,c=\"object\"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&\"object\"==typeof t&&1===t.nodeType&&\"string\"==typeof t.nodeName},d=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};\"function\"==typeof define&&define.amd?define(\"outlayer/outlayer\",[\"eventie/eventie\",\"doc-ready/doc-ready\",\"eventEmitter/EventEmitter\",\"get-size/get-size\",\"matches-selector/matches-selector\",\"./item\"],s):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t){function e(){t.Item.apply(this,arguments)}return e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData[\"original-order\"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var o=e[i];this.sortData[i]=o(this.element,this)}}},e}\"function\"==typeof define&&define.amd?define(\"isotope/js/item\",[\"outlayer/outlayer\"],e):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window),function(t){function e(t,e){function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var o=[\"_resetLayout\",\"_getItemLayoutPosition\",\"_manageStamp\",\"_getContainerSize\",\"_getElementOffset\",\"needsResizeLayout\"],n=0,r=o.length;r>n;n++){var s=o[n];i.prototype[s]=t(s)}}(),i.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!==this.isotope.size.innerHeight},i.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.prototype.getColumnWidth=function(){this.getSegmentSize(\"column\",\"Width\")},i.prototype.getRowHeight=function(){this.getSegmentSize(\"row\",\"Height\")},i.prototype.getSegmentSize=function(t,e){var i=t+e,o=\"outer\"+e;if(this._getMeasurement(i,o),!this[i]){var n=this.getFirstItemSize();this[i]=n&&n[o]||this.isotope.size[\"inner\"+e]}},i.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},i.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=new i,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i}\"function\"==typeof define&&define.amd?define(\"isotope/js/layout-mode\",[\"get-size/get-size\",\"outlayer/outlayer\"],e):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window),function(t){function e(t,e){var o=t.create(\"masonry\");return o.prototype._resetLayout=function(){this.getSize(),this._getMeasurement(\"columnWidth\",\"outerWidth\"),this._getMeasurement(\"gutter\",\"outerWidth\"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},o.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},o.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},o.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,o=e&&1>e?\"round\":\"ceil\",n=Math[o](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this._getColGroup(n),s=Math.min.apply(Math,r),a=i(r,s),u={x:this.columnWidth*a,y:s},p=s+t.size.outerHeight,h=this.cols+1-r.length,f=0;h>f;f++)this.colYs[a+f]=p;return u},o.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,o=0;i>o;o++){var n=this.colYs.slice(o,o+t);e[o]=Math.max.apply(Math,n)}return e},o.prototype._manageStamp=function(t){var i=e(t),o=this._getElementOffset(t),n=this.options.isOriginLeft?o.left:o.right,r=n+i.outerWidth,s=Math.floor(n/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var u=(this.options.isOriginTop?o.top:o.bottom)+i.outerHeight,p=s;a>=p;p++)this.colYs[p]=Math.max(u,this.colYs[p])},o.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},o.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},o.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},o}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++){var n=t[i];if(n===e)return i}return-1};\"function\"==typeof define&&define.amd?define(\"masonry/masonry\",[\"outlayer/outlayer\",\"get-size/get-size\"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t,i){var o=t.create(\"masonry\"),n=o.prototype._getElementOffset,r=o.prototype.layout,s=o.prototype._getMeasurement;e(o.prototype,i.prototype),o.prototype._getElementOffset=n,o.prototype.layout=r,o.prototype._getMeasurement=s;var a=o.prototype.measureColumns;o.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var u=o.prototype._manageStamp;return o.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,u.apply(this,arguments)},o}\"function\"==typeof define&&define.amd?define(\"isotope/js/layout-modes/masonry\",[\"../layout-mode\",\"masonry/masonry\"],i):i(t.Isotope.LayoutMode,t.Masonry)}(window),function(t){function e(t){var e=t.create(\"fitRows\");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0},e.prototype._getItemLayoutPosition=function(t){t.getSize(),0!==this.x&&t.size.outerWidth+this.x>this.isotope.size.innerWidth&&(this.x=0,this.y=this.maxY);var e={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=t.size.outerWidth,e},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}\"function\"==typeof define&&define.amd?define(\"isotope/js/layout-modes/fit-rows\",[\"../layout-mode\"],e):e(t.Isotope.LayoutMode)}(window),function(t){function e(t){var e=t.create(\"vertical\",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},e.prototype._getContainerSize=function(){return{height:this.y}},e}\"function\"==typeof define&&define.amd?define(\"isotope/js/layout-modes/vertical\",[\"../layout-mode\"],e):e(t.Isotope.LayoutMode)}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return\"[object Array]\"===h.call(t)}function o(t){var e=[];if(i(t))e=t;else if(t&&\"number\"==typeof t.length)for(var o=0,n=t.length;n>o;o++)e.push(t[o]);else e.push(t);return e}function n(t,e){var i=f(e,t);-1!==i&&e.splice(i,1)}function r(t,i,r,u,h){function f(t,e){return function(i,o){for(var n=0,r=t.length;r>n;n++){var s=t[n],a=i.sortData[s],u=o.sortData[s];if(a>u||u>a){var p=void 0!==e[s]?e[s]:e,h=p?1:-1;return(a>u?1:-1)*h}}return 0}}var c=t.create(\"isotope\",{layoutMode:\"masonry\",isJQueryFiltering:!0,sortAscending:!0});c.Item=u,c.LayoutMode=h,c.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=[\"original-order\"];for(var e in h.modes)this._initLayoutMode(e)},c.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},c.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),i=0,o=e.length;o>i;i++){var n=e[i];n.id=this.itemGUID++}return this._updateItemsSortData(e),e},c.prototype._initLayoutMode=function(t){var i=h.modes[t],o=this.options[t]||{};this.options[t]=i.options?e(i.options,o):o,this.modes[t]=new i(this)},c.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?(this.arrange(),void 0):(this._layout(),void 0)},c.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},c.prototype.arrange=function(t){this.option(t),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},c.prototype._init=c.prototype.arrange,c.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},c.prototype._filter=function(t){function e(){f.reveal(n),f.hide(r)}var i=this.options.filter;i=i||\"*\";for(var o=[],n=[],r=[],s=this._getFilterTest(i),a=0,u=t.length;u>a;a++){var p=t[a];if(!p.isIgnored){var h=s(p);h&&o.push(p),h&&p.isHidden?n.push(p):h||p.isHidden||r.push(p)}}var f=this;return this._isInstant?this._noTransition(e):e(),o},c.prototype._getFilterTest=function(t){return s&&this.options.isJQueryFiltering?function(e){return s(e.element).is(t)}:\"function\"==typeof t?function(e){return t(e.element)}:function(e){return r(e.element,t)}},c.prototype.updateSortData=function(t){this._getSorters(),t=o(t);var e=this.getItems(t);e=e.length?e:this.items,this._updateItemsSortData(e)},c.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=d(i)}},c.prototype._updateItemsSortData=function(t){for(var e=0,i=t.length;i>e;e++){var o=t[e];o.updateSortData()}};var d=function(){function t(t){if(\"string\"!=typeof t)return t;var i=a(t).split(\" \"),o=i[0],n=o.match(/^\\[(.+)\\]$/),r=n&&n[1],s=e(r,o),u=c.sortDataParsers[i[1]];return t=u?function(t){return t&&u(s(t))}:function(t){return t&&s(t)}}function e(t,e){var i;return i=t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&p(i)}}return t}();c.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},c.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=f(e,this.options.sortAscending);this.filteredItems.sort(i),t!==this.sortHistory[0]&&this.sortHistory.unshift(t)}},c.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw Error(\"No layout mode: \"+t);return e.options=this.options[t],e},c.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},c.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},c.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},c.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},c.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},c.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},c.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps();var o=this._filterRevealAdded(e);this.layoutItems(i),this.filteredItems=o.concat(this.filteredItems)}},c.prototype._filterRevealAdded=function(t){var e=this._noTransition(function(){return this._filter(t)});return this.layoutItems(e,!0),this.reveal(e),t},c.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var i,o,n=e.length;for(i=0;n>i;i++)o=e[i],this.element.appendChild(o.element);var r=this._filter(e);for(this._noTransition(function(){this.hide(r)}),i=0;n>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;n>i;i++)delete e[i].isLayoutInstant;this.reveal(r)}};var l=c.prototype.remove;return c.prototype.remove=function(t){t=o(t);var e=this.getItems(t);if(l.call(this,t),e&&e.length)for(var i=0,r=e.length;r>i;i++){var s=e[i];n(s,this.filteredItems)}},c.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);return this.options.transitionDuration=e,i},c}var s=t.jQuery,a=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\\s+|\\s+$/g,\"\")},u=document.documentElement,p=u.textContent?function(t){return t.textContent}:function(t){return t.innerText},h=Object.prototype.toString,f=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};\"function\"==typeof define&&define.amd?define([\"outlayer/outlayer\",\"get-size/get-size\",\"matches-selector/matches-selector\",\"isotope/js/item\",\"isotope/js/layout-mode\",\"isotope/js/layout-modes/masonry\",\"isotope/js/layout-modes/fit-rows\",\"isotope/js/layout-modes/vertical\"],r):t.Isotope=r(t.Outlayer,t.getSize,t.matchesSelector,t.Isotope.Item,t.Isotope.LayoutMode)}(window);/*jQuery Waypoints - v2.0.3Copyright (c) 2011-2013 Caleb TroughtonDual licensed under the MIT license and GPL license.https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt*/(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1},e=[].slice;(function(t,e){if(typeof define===\"function\"&&define.amd){return define(\"waypoints\",[\"jquery\"],function(n){return e(n,t)})}else{return e(t.jQuery,t)}})(this,function(n,r){var i,o,l,s,f,u,a,c,h,d,p,y,v,w,g,m;i=n(r);c=t.call(r,\"ontouchstart\")>=0;s={horizontal:{},vertical:{}};f=1;a={};u=\"waypoints-context-id\";p=\"resize.waypoints\";y=\"scroll.waypoints\";v=1;w=\"waypoints-waypoint-ids\";g=\"waypoint\";m=\"waypoints\";o=function(){function t(t){var e=this;this.$element=t;this.element=t[0];this.didResize=false;this.didScroll=false;this.id=\"context\"+f++;this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()};this.waypoints={horizontal:{},vertical:{}};t.data(u,this.id);a[this.id]=this;t.bind(y,function(){var t;if(!(e.didScroll||c)){e.didScroll=true;t=function(){e.doScroll();return e.didScroll=false};return r.setTimeout(t,n[m].settings.scrollThrottle)}});t.bind(p,function(){var t;if(!e.didResize){e.didResize=true;t=function(){n[m](\"refresh\");return e.didResize=false};return r.setTimeout(t,n[m].settings.resizeThrottle)}})}t.prototype.doScroll=function(){var t,e=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\"}};if(c&&(!t.vertical.oldScroll||!t.vertical.newScroll)){n[m](\"refresh\")}n.each(t,function(t,r){var i,o,l;l=[];o=r.newScroll>r.oldScroll;i=o?r.forward:r.backward;n.each(e.waypoints[t],function(t,e){var n,i;if(r.oldScroll<(n=e.offset)&&n<=r.newScroll){return l.push(e)}else if(r.newScroll<(i=e.offset)&&i<=r.oldScroll){return l.push(e)}});l.sort(function(t,e){return t.offset-e.offset});if(!o){l.reverse()}return n.each(l,function(t,e){if(e.options.continuous||t===l.length-1){return e.trigger([i])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};t.prototype.refresh=function(){var t,e,r,i=this;r=n.isWindow(this.element);e=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\",offsetProp:\"left\"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[m](\"viewportHeight\"):this.$element.height(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\",offsetProp:\"top\"}};return n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,f;i=r.options.offset;l=r.offset;o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else if(typeof i===\"string\"){i=parseFloat(i);if(r.options.offset.indexOf(\"%\")>-1){i=Math.ceil(e.contextDimension*i/100)}}r.offset=o-e.contextOffset+e.contextScroll-i;if(r.options.onlyOnScroll&&l!=null||!r.enabled){return}if(l!==null&&l<(s=e.oldScroll)&&s<=r.offset){return r.trigger([e.backward])}else if(l!==null&&l>(f=e.oldScroll)&&f>=r.offset){return r.trigger([e.forward])}else if(l===null&&e.oldScroll>=r.offset){return r.trigger([e.forward])}})})};t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p,y].join(\" \"));return delete a[this.id]}};return t}();l=function(){function t(t,e,r){var i,o;r=n.extend({},n.fn[g].defaults,r);if(r.offset===\"bottom-in-view\"){r.offset=function(){var t;t=n[m](\"viewportHeight\");if(!n.isWindow(e.element)){t=e.$element.height()}return t-n(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=r.horizontal?\"horizontal\":\"vertical\";this.callback=r.handler;this.context=e;this.enabled=r.enabled;this.id=\"waypoints\"+v++;this.offset=null;this.options=r;e.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;i=(o=t.data(w))!=null?o:[];i.push(this.id);t.data(w,i)}t.prototype.trigger=function(t){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,t)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var e,r;r=n(t).data(w);if(!r){return[]}e=n.extend({},s.horizontal,s.vertical);return n.map(r,function(t){return e[t]})};return t}();d={init:function(t,e){var r;if(e==null){e={}}if((r=e.handler)==null){e.handler=t}this.each(function(){var t,r,i,s;t=n(this);i=(s=e.context)!=null?s:n.fn[g].defaults.context;if(!n.isWindow(i)){i=t.closest(i)}i=n(i);r=a[i.data(u)];if(!r){r=new o(i)}return new l(t,r,e)});n[m](\"refresh\");return this},disable:function(){return d._invoke(this,\"disable\")},enable:function(){return d._invoke(this,\"enable\")},destroy:function(){return d._invoke(this,\"destroy\")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e>0){return t.push(n[e-1])}})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1){return t.push(n[e+1])}})},_traverse:function(t,e,i){var o,l;if(t==null){t=\"vertical\"}if(e==null){e=r}l=h.aggregate(e);o=[];this.each(function(){var e;e=n.inArray(this,l[t]);return i(o,e,l[t])});return this.pushStack(o)},_invoke:function(t,e){t.each(function(){var t;t=l.getWaypointsByElement(this);return n.each(t,function(t,n){n[e]();return true})});return this}};n.fn[g]=function(){var t,r;r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(d[r]){return d[r].apply(this,t)}else if(n.isFunction(r)){return d.init.apply(this,arguments)}else if(n.isPlainObject(r)){return d.init.apply(this,[null,r])}else if(!r){return n.error(\"jQuery Waypoints needs a callback function or handler option.\")}else{return n.error(\"The \"+r+\" method does not exist in jQuery Waypoints.\")}};n.fn[g].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};h={refresh:function(){return n.each(a,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return(t=r.innerHeight)!=null?t:i.height()},aggregate:function(t){var e,r,i;e=s;if(t){e=(i=a[n(t).data(u)])!=null?i.waypoints:void 0}if(!e){return[]}r={horizontal:[],vertical:[]};n.each(r,function(t,i){n.each(e[t],function(t,e){return i.push(e)});i.sort(function(t,e){return t.offset-e.offset});r[t]=n.map(i,function(t){return t.element});return r[t]=n.unique(r[t])});return r},above:function(t){if(t==null){t=r}return h._filter(t,\"vertical\",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){if(t==null){t=r}return h._filter(t,\"vertical\",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){if(t==null){t=r}return h._filter(t,\"horizontal\",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){if(t==null){t=r}return h._filter(t,\"horizontal\",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke(\"enable\")},disable:function(){return h._invoke(\"disable\")},destroy:function(){return h._invoke(\"destroy\")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;e=n.extend({},s.vertical,s.horizontal);return n.each(e,function(e,n){n[t]();return true})},_filter:function(t,e,r){var i,o;i=a[n(t).data(u)];if(!i){return[]}o=[];n.each(i.waypoints[e],function(t,e){if(r(i,e)){return o.push(e)}});o.sort(function(t,e){return t.offset-e.offset});return n.map(o,function(t){return t.element})}};n[m]=function(){var t,n;n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(h[n]){return h[n].apply(null,t)}else{return h.aggregate.call(null,n)}};n[m].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[m](\"refresh\")})})}).call(this);/** jQuery Browser Plugin 0.0.6* https://github.com/gabceb/jquery-browser-plugin** Original jquery-browser code Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors* http://jquery.org/license** Modifications Copyright 2014 Gabriel Cebrian* https://github.com/gabceb** Released under the MIT license*/!function(a,b){\"use strict\";var c,d;if(a.uaMatch=function(a){a=a.toLowerCase();var b=/(opr)[\\/]([\\w.]+)/.exec(a)||/(chrome)[ \\/]([\\w.]+)/.exec(a)||/(version)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(a)||/(webkit)[ \\/]([\\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(a)||/(msie) ([\\w.]+)/.exec(a)||a.indexOf(\"trident\")>=0&&/(rv)(?::| )([\\w.]+)/.exec(a)||a.indexOf(\"compatible\")<0&&/(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(a)||[],c=/(ipad)/.exec(a)||/(iphone)/.exec(a)||/(android)/.exec(a)||/(windows phone)/.exec(a)||/(win)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/i.exec(a)||[];return{browser:b[3]||b[1]||\"\",version:b[2]||\"0\",platform:c[0]||\"\"}},c=a.uaMatch(b.navigator.userAgent),d={},c.browser&&(d[c.browser]=!0,d.version=c.version,d.versionNumber=parseInt(c.version)),c.platform&&(d[c.platform]=!0),(d.android||d.ipad||d.iphone||d[\"windows phone\"])&&(d.mobile=!0),(d.cros||d.mac||d.linux||d.win)&&(d.desktop=!0),(d.chrome||d.opr||d.safari)&&(d.webkit=!0),d.rv){var e=\"msie\";c.browser=e,d[e]=!0}if(d.opr){var f=\"opera\";c.browser=f,d[f]=!0}if(d.safari&&d.android){var g=\"android\";c.browser=g,d[g]=!0}d.name=c.browser,d.platform=c.platform,a.browser=d}(jQuery,window);/*Vimeo Frogaloop API for videos*/var Froogaloop=function(){function e(a){return new e.fn.init(a)}function h(a,c,b){if(!b.contentWindow.postMessage)return!1;var f=b.getAttribute(\"src\").split(\"?\")[0],a=JSON.stringify({method:a,value:c});\"//\"===f.substr(0,2)&&(f=window.location.protocol+f);b.contentWindow.postMessage(a,f)}function j(a){var c,b;try{c=JSON.parse(a.data),b=c.event||c.method}catch(f){}\"ready\"==b&&!i&&(i=!0);if(a.origin!=k)return!1;var a=c.value,e=c.data,g=\"\"===g?null:c.player_id;c=g?d[g][b]:d[b];b=[];if(!c)return!1;void 0!==a&&b.push(a);e&&b.push(e);g&&b.push(g);return 0<b.length?c.apply(null,b):c.call()}function l(a,c,b){b?(d[b]||(d[b]={}),d[b][a]=c):d[a]=c}var d={},i=!1,k=\"\";e.fn=e.prototype={element:null,init:function(a){\"string\"===typeof a&&(a=document.getElementById(a));this.element=a;a=this.element.getAttribute(\"src\");\"//\"===a.substr(0,2)&&(a=window.location.protocol+a);for(var a=a.split(\"/\"),c=\"\",b=0,f=a.length;b<f;b++){if(3>b)c+=a[b];else break;2>b&&(c+=\"/\")}k=c;return this},api:function(a,c){if(!this.element||!a)return!1;var b=this.element,f=\"\"!==b.id?b.id:null,d=!c||!c.constructor||!c.call||!c.apply?c:null,e=c&&c.constructor&&c.call&&c.apply?c:null;e&&l(a,e,f);h(a,d,b);return this},addEvent:function(a,c){if(!this.element)return!1;var b=this.element,d=\"\"!==b.id?b.id:null;l(a,c,d);\"ready\"!=a?h(\"addEventListener\",a,b):\"ready\"==a&&i&&c.call(null,d);return this},removeEvent:function(a){if(!this.element)return!1;var c=this.element,b;a:{if((b=\"\"!==c.id?c.id:null)&&d[b]){if(!d[b][a]){b=!1;break a}d[b][a]=null}else{if(!d[a]){b=!1;break a}d[a]=null}b=!0}\"ready\"!=a&&b&&h(\"removeEventListener\",a,c)}};e.fn.init.prototype=e.fn;window.addEventListener?window.addEventListener(\"message\",j,!1):window.attachEvent(\"onmessage\",j);return window.Froogaloop=window.$f=e}();// http://paulirish.com/2011/requestanimationframe-for-smart-animating/ + http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating// requestAnimationFrame polyfill by Erik MÃ¶ller. fixes from Paul Irish and Tino Zijdel. can be removed if IE9 is no longer supported or all parallax scripts are gone MIT license(function(){var lastTime=0;var vendors=['ms','moz','webkit','o'];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'];window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame']}if(!window.requestAnimationFrame)window.requestAnimationFrame=function(callback,element){var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(id){clearTimeout(id)}}());jQuery.expr[':'].regex = function(elem, index, match) {var matchParams = match[3].split(','),validLabels = /^(data|css):/,attr = {method: matchParams[0].match(validLabels) ? matchParams[0].split(':')[0] : 'attr',property: matchParams.shift().replace(validLabels,'')},regexFlags = 'ig',regex = new RegExp(matchParams.join('').replace(/^\\s+|\\s+$/g,''), regexFlags);return regex.test(jQuery(elem)[attr.method](attr.property));}"
        ],
        "content_text_length": 96336,
        "content_type": [
          "text/plain"
        ],
        "content_encoding": "windows-1252",
        "content_ffb": "2866756e",
        "content_first_bytes": "28 66 75 6e 63 74 69 6f 6e 28 24 29 0d 0a 7b 09 0d 0a 20 20 20 20 22 75 73 65 20 73 74 72 69 63",
        "content_type_droid": "application/octet-stream",
        "elements_used": [
          "style",
          "audio",
          "b.length?c.apply(null,b):c.call()}function",
          "n.length-1){return",
          "div",
          "n;e++){if(e",
          "video",
          "span"
        ],
        "content_type_tika": "text/plain; charset=windows-1252",
        "content_type_full": "text/plain; charset=windows-1252",
        "content_type_norm": "text",
        "content_language": "en",
        "ssdeep_hash_bs_1536": "TO+c+b5RRwNJCk/irF2MpQUih0zxUG+AlRsa+KZZLRPsYAOd4I/GmF",
        "ssdeep_hash_bs_3072": "TFvRCUUGjlRsa+GZLZZAQ/HF",
        "ssdeep_hash_ngram_bs_1536": "TO+c+b5RRwNJCk/irF2MpQUih0zxUG+AlRsa+KZZLRPsYAOd4I/GmF",
        "ssdeep_hash_ngram_bs_3072": "TFvRCUUGjlRsa+GZLZZAQ/HF",
        "crawl_dates": [
          "2015-02-26T23:55:25Z"
        ],
        "crawl_years": [
          "2015"
        ],
        "_version_": 1494731046105645000
      }
    ]
  }
}
